# –ú–æ–¥—É–ª—å WebhookLogs

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-09 09:45 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–í–µ—Ä—Å–∏—è:** 2.0 (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ TASK-018)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è

–ú–æ–¥—É–ª—å `WebhookLogs` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- –ü—Ä–∏—ë–º–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç Bitrix24
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON —Ñ–∞–π–ª—ã
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è API –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
- –†–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Server-Sent Events (SSE)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
WebhookLogs/
‚îú‚îÄ‚îÄ Config/                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ WebhookLogsConfig.php   # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ Service/                     # –°–µ—Ä–≤–∏—Å—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ WebhookHandlerService.php        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ WebhookValidationService.php     # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ WebhookLoggingService.php        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ WebhookLogsApiService.php        # API –¥–ª—è —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ WebhookRealtimeService.php       # SSE –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ WebhookLogsApiCache.php          # –ö–µ—à –¥–ª—è API
‚îÇ   ‚îî‚îÄ‚îÄ WebhookRealtimeCache.php         # –ö–µ—à –¥–ª—è SSE
‚îú‚îÄ‚îÄ Repository/                  # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (—Ñ–∞–π–ª—ã)
‚îÇ   ‚îî‚îÄ‚îÄ WebhookLogsRepository.php        # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ Entity/                      # –°—É—â–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ WebhookEvent.php                 # –°—É—â–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ WebhookLogEntry.php              # –°—É—â–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞
‚îú‚îÄ‚îÄ Exception/                   # –ö–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ WebhookException.php             # –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ WebhookValidationException.php   # –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ WebhookLoggingException.php      # –û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ Utils/                       # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ EventDetailsExtractor.php        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ LogFileManager.php               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ Autoloader.php              # –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤
‚îî‚îÄ‚îÄ bootstrap.php               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```php
require_once __DIR__ . '/src/WebhookLogs/bootstrap.php';
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API endpoint

```php
use WebhookLogs\Service\WebhookHandlerService;
use WebhookLogs\Exception\WebhookValidationException;

try {
    $handler = new WebhookHandlerService();
    $handler->handle($_POST);
} catch (WebhookValidationException $e) {
    http_response_code(400);
    echo json_encode(['error' => $e->getMessage()]);
}
```

---

## üìö –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–¥—É–ª—è

### Config (–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

#### `WebhookLogsConfig.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–¥—É–ª—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `getBaseLogsPath()` ‚Äî –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –∫ –ª–æ–≥–∞–º
- `getCategoryPath($category)` ‚Äî –ø—É—Ç—å –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `getDefaultPaginationLimit()` ‚Äî –ª–∏–º–∏—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `getCategories()` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `validate()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `initialize()` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```php
use WebhookLogs\Config\WebhookLogsConfig;

$path = WebhookLogsConfig::getBaseLogsPath();
$limit = WebhookLogsConfig::getDefaultPaginationLimit();
$categories = WebhookLogsConfig::getCategories();

// –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
$errors = WebhookLogsConfig::validate();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)
WebhookLogsConfig::initialize();
```

---

### Service (–°–µ—Ä–≤–∏—Å—ã)

#### `WebhookHandlerService.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç Bitrix24

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `handle(array $data)` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–∞
- `validateSignature(array $data)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- `extractEventData(array $data)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```php
use WebhookLogs\Service\WebhookHandlerService;

$handler = new WebhookHandlerService();
$handler->handle($_POST);
```

---

#### `WebhookValidationService.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–µ–±—Ö—É–∫–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `validate(array $data)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `validateSignature(array $data)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- `validateEvent(array $data)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏—è

---

#### `WebhookLoggingService.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ —Ñ–∞–π–ª—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `log(WebhookEvent $event)` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `getLogFilePath(WebhookEvent $event)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É –ª–æ–≥–∞

---

#### `WebhookLogsApiService.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API –¥–ª—è —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `getLogs(array $filters, int $page, int $limit)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤
- `getLogsCount(array $filters)` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤
- `getLogById(string $id)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–∞ –ø–æ ID

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```php
use WebhookLogs\Service\WebhookLogsApiService;

$apiService = new WebhookLogsApiService();
$logs = $apiService->getLogs(
    ['category' => 'tasks', 'date' => '2025-12-17'],
    1,
    50
);
```

---

#### `WebhookRealtimeService.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Server-Sent Events (SSE) –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `stream(string $lastTimestamp)` ‚Äî –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤
- `getNewLogs(string $lastTimestamp)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤

---

### Repository (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

#### `WebhookLogsRepository.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –ª–æ–≥–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `findLogs(array $filters, int $page, int $limit)` ‚Äî –ø–æ–∏—Å–∫ –ª–æ–≥–æ–≤
- `countLogs(array $filters)` ‚Äî –ø–æ–¥—Å—á—ë—Ç –ª–æ–≥–æ–≤
- `findLogById(string $id)` ‚Äî –ø–æ–∏—Å–∫ –ª–æ–≥–∞ –ø–æ ID
- `readLogFile(string $filePath)` ‚Äî —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ª–æ–≥–∞

---

### Entity (–°—É—â–Ω–æ—Å—Ç–∏)

#### `WebhookEvent.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—É—â–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è –≤–µ–±—Ö—É–∫–∞

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `event` ‚Äî —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è
- `data` ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- `timestamp` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
- `signature` ‚Äî –ø–æ–¥–ø–∏—Å—å

---

#### `WebhookLogEntry.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—É—â–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `category` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `event` ‚Äî —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è
- `timestamp` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
- `data` ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- `ip` ‚Äî IP-–∞–¥—Ä–µ—Å
- `status` ‚Äî —Å—Ç–∞—Ç—É—Å (success/error)

---

### Exception (–ò—Å–∫–ª—é—á–µ–Ω–∏—è)

#### `WebhookException.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è

**–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç:** `\Exception`

---

#### `WebhookValidationException.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ú–µ—Ç–æ–¥—ã:**
- `getValidationType()` ‚Äî —Ç–∏–ø –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `log()` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```php
use WebhookLogs\Exception\WebhookValidationException;

try {
    // ...
} catch (WebhookValidationException $e) {
    echo $e->getMessage();
    echo $e->getValidationType();
    $e->log();
}
```

---

#### `WebhookLoggingException.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ú–µ—Ç–æ–¥—ã:**
- `getLoggingType()` ‚Äî —Ç–∏–ø –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

### Utils (–£—Ç–∏–ª–∏—Ç—ã)

#### `EventDetailsExtractor.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Å–æ–±—ã—Ç–∏–π –∏–∑ –¥–∞–Ω–Ω—ã—Ö

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `extract(array $data)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π
- `extractCategory(array $data)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `extractEventType(array $data)` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è

---

#### `LogFileManager.php`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –ª–æ–≥–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `ensureDirectoryExists(string $path)` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `getLogFilePath(WebhookEvent $event)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É
- `writeLog(string $filePath, array $data)` ‚Äî –∑–∞–ø–∏—Å—å –ª–æ–≥–∞

---

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API endpoints

### `api/webhook-handler.php`
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WebhookHandlerService` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤.

### `api/webhook-logs.php`
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WebhookLogsApiService` –¥–ª—è —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤.

### `api/webhook-realtime.php`
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WebhookRealtimeService` –¥–ª—è SSE.

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- [TASK-018: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤](../../DOCS/TASKS/ARCHIVE/TASK-018-refactor-webhook-logs-module.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](../../DOCS/USER-GUIDE/logs-webhooks/README.md)
- [API endpoints](../../api/README.md)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –≤–µ–±—Ö—É–∫ –Ω–∞ `api/webhook-handler.php`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ª–æ–≥–∞ –≤ `logs/webhooks/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ `api/webhook-logs.php`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSE —á–µ—Ä–µ–∑ `api/webhook-realtime.php`

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-09 09:45 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è
- **2025-12-17 14:58 (UTC+3, –ë—Ä–µ—Å—Ç):** –†–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ TASK-018

---

**–ê–≤—Ç–æ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2.0
