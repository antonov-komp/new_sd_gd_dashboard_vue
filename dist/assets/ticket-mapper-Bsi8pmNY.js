import{k as V,d as B,l as F,g as P,a as M}from"./priority-config-Cgj3k7Hd.js";function O(o){return F[o]||"formed"}function h(o){return B[o]||"DT140_12:UC_0VHWE2"}function w(){return V()}function S(o){return o==null?null:String(o).trim().toLowerCase()||null}const C=[{id:"1c-accounting",label:"1С.Бухгалтерия",bitrixValue:"1С.Бухгалтерия",color:"#0d6efd",backgroundColor:"#e7f1ff",textColor:"#0a58ca",order:1,description:"Бухгалтерский контур 1С"},{id:"1c-tickets",label:"1С.Талоны",bitrixValue:"1С.Талоны",color:"#20c997",backgroundColor:"#e6f7f1",textColor:"#0f5132",order:2,description:"Работа с талонами 1С"},{id:"1c-zup",label:"1С.ЗУП",bitrixValue:"1С.ЗУП",color:"#6f42c1",backgroundColor:"#f4edfd",textColor:"#3a275f",order:3,description:"Зарплата и управление персоналом"},{id:"1c-docflow",label:"1С.Документооборот",bitrixValue:"1С.Документооборот",color:"#fd7e14",backgroundColor:"#fff3e6",textColor:"#b54708",order:4,description:"Документооборот 1С"},{id:"1c-integrations",label:"1С.Интеграции",bitrixValue:"1С.Интеграции",color:"#0ca678",backgroundColor:"#e8f7f2",textColor:"#0b4f38",order:5,description:"Интеграции и сопряжения 1С"}],n={id:"unknown",label:"Не указано",bitrixValue:null,color:"#ced4da",backgroundColor:"#f1f3f5",textColor:"#6c757d",order:99,description:"Fallback для пустых или неидентифицированных значений"},i={},I={};[...C,n].forEach(o=>{i[o.id]=o;const r=S(o.bitrixValue);r&&(I[r]=o)});function v(o){const r=S(o);if(!r)return n;const l=I[r];return l||n}function H(){return n}function L(){return[...C,n].sort((o,r)=>o.order-r.order)}function N(o){const r=o&&typeof o=="object"?o:n;return{color:r.color||n.color,backgroundColor:r.backgroundColor||n.backgroundColor,textColor:r.textColor||n.textColor}}L();function G(o){const r=parseInt(o.id||o.ID||0),l=o.title||o.TITLE||"Без названия",g=o.stageId||o.STAGE_ID||"",s=o.assignedById||o.ASSIGNED_BY_ID||null,p=o.createdTime||o.CREATED_DATE||o.CREATED_TIME||"",E=o.updatedTime||o.MODIFY_DATE||o.UPDATED_TIME||"",m=o.UF_SUBJECT||o.uf_subject||o.ufSubject||o.UF_SUBJECT||o.uf_subject||null,d=o.UF_CRM_7_DEPARTMENT_HEAD||o.uf_crm_7_department_head||o.ufCrm7DepartmentHead||o.UF_CRM_7_DEPARTMENT_HEAD||o.uf_crm_7_department_head||null;let _=null,c=null;if(d){const t=String(d).trim();t.length>0&&(c=t,_=t.length>17?t.substring(0,17):t)}const R=o.UF_CRM_7_UF_PRIORITY||o.uf_crm_7_uf_priority||o.ufCrm7UfPriority||o.UF_CRM_7_UF_PRIORITY||o.uf_crm_7_uf_priority||o.priority||o.PRIORITY||null,e=P(R),A=M(e),D=o.UF_SLA_SERVICE_STR||o.uf_sla_service_str||o.UfSlaServiceStr||o.ufSlaServiceStr||o.service||null,a=v(D),U=N(a),f=o.UF_ACTION_STR||o.uf_action_str||o.UfActionStr||o.ufActionStr||o.UF_ACTION_STR||o.uf_action_str||null,u=f?String(f).trim():null,y=u&&u.length>0?u:null;return{id:r,title:l,ufSubject:m,departmentHead:_,departmentHeadFull:c,priorityId:e.id,priorityLabel:e.label,priorityColors:A,priority:e.id,priorityBitrixValue:e.bitrixValue||null,service:a,serviceLabel:a.label,serviceColors:U,serviceBitrixValue:a.bitrixValue||H().bitrixValue,actionStr:y,status:Y(),assigneeId:s?parseInt(s):null,stageId:O(g),createdAt:p,modifiedAt:E,amount:o.opportunity||o.OPPORTUNITY||0,currency:o.currencyId||o.CURRENCY_ID||"RUB",description:o.comments||o.COMMENTS||""}}function Y(o){return"in_progress"}export{G as a,h as b,H as c,N as d,w as g,O as m};
