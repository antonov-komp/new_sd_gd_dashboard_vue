import{g as N,p as S,n as R,o as B,D as I}from"./chunk-B0UneJpK.js";import{_ as V}from"./main-SWl29LRE.js";import{g as U,l as o,c as C,b as y,e as l,t as n,x as g,o as u}from"./chunk-J8T_k_VI.js";const j={name:"TicketCard",props:{ticket:{type:Object,required:!0},draggable:{type:Boolean,default:!0}},emits:["click","drag-start","drag-end"],setup(r,{emit:a}){const c=U(!1),e=o(()=>!1),d={color:"#ced4da",backgroundColor:"#f1f3f5",textColor:"#6c757d"},s={color:"#ced4da",backgroundColor:"#f8f9fa",textColor:"#6c757d"},i={color:"#dee2e6",backgroundColor:"#f8f9fa",textColor:"#6c757d"},k=o(()=>({label:r.ticket.priorityLabel||"햏햣 혞햨햟향햟햫",colors:r.ticket.priorityColors||d})),m=o(()=>k.value.label||"햏햣 혞햨햟향햟햫"),D=o(()=>({color:k.value.colors.textColor||d.textColor,backgroundColor:k.value.colors.backgroundColor||d.backgroundColor,borderColor:k.value.colors.color||d.color})),h=o(()=>({borderLeftColor:k.value.colors.color||d.color})),f=o(()=>{const t=r.ticket.service||{};return{label:t.label||r.ticket.serviceLabel||"햏햣 혞햨햟향햟햫",colors:t.colors||r.ticket.serviceColors||s}}),A=o(()=>f.value.label||"햏햣 혞햨햟향햟햫"),x=o(()=>({color:f.value.colors.textColor||s.textColor,backgroundColor:f.value.colors.backgroundColor||s.backgroundColor,borderColor:f.value.colors.color||s.color})),E=o(()=>{const t=r.ticket.actionStr||r.ticket.ufActionStr||null;if(!t)return null;const b=String(t).trim();return b.length>0?b:null}),L=o(()=>({color:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.color})),T=o(()=>{if(!r.ticket.createdAt)return"";const t=S(r.ticket.createdAt);return t?R(t):""}),v=o(()=>{if(!r.ticket.createdAt)return null;const t=S(r.ticket.createdAt);return B(t)}),_=o(()=>{const t=v.value;return t&&I[t]||null}),O=o(()=>{const t=_.value;return t?{color:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.color,border:`1px solid ${t.color}`}:{}});return{handleDragStart:t=>{e.value&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("application/json",JSON.stringify(r.ticket)),t.dataTransfer.setDragImage(t.target,0,0),c.value=!0,a("drag-start",r.ticket))},handleDragEnd:()=>{e.value&&(c.value=!1,a("drag-end"))},handleCardClick:t=>{if(c.value)return;const b=N(r.ticket.id);window.open(b,"_blank"),a("click",r.ticket)},isDragEnabled:e,priorityChipStyle:D,displayPriorityLabel:m,priorityBorderStyle:h,displayServiceLabel:A,serviceChipStyle:x,actionStrValue:E,actionChipStyle:L,formattedCreatedDate:T,dateAccentCategory:v,dateAccentConfig:_,dateAccentStyle:O}}},w=["draggable"],H={key:0,class:"ticket-department"},P={class:"ticket-header"},q={class:"ticket-id"},z={class:"ticket-title"},F={class:"ticket-meta"},G={key:1,class:"ticket-action"},J={key:2,class:"ticket-description"},K={class:"ticket-date-label"},M={class:"ticket-date-value"};function Q(r,a,c,e,d,s){return u(),C("div",{class:"ticket-card",draggable:e.isDragEnabled,style:g(e.priorityBorderStyle),onClick:a[0]||(a[0]=(...i)=>e.handleCardClick&&e.handleCardClick(...i)),onDragstart:a[1]||(a[1]=(...i)=>e.handleDragStart&&e.handleDragStart(...i)),onDragend:a[2]||(a[2]=(...i)=>e.handleDragEnd&&e.handleDragEnd(...i))},[c.ticket.departmentHead?(u(),C("div",H,n(c.ticket.departmentHead),1)):y("",!0),l("div",P,[a[3]||(a[3]=l("span",{class:"ticket-icon"},"游꿞",-1)),l("span",q,"#"+n(c.ticket.id),1)]),l("div",z,n(c.ticket.ufSubject||c.ticket.title||"햄햣향 햫햟향쒫썛쫧쟴"),1),l("div",F,[l("span",{class:"ticket-priority",style:g(e.priorityChipStyle)},n(e.displayPriorityLabel),5),l("span",{class:"ticket-service",style:g(e.serviceChipStyle)},n(e.displayServiceLabel),5)]),e.actionStrValue?(u(),C("div",G,[l("span",{class:"ticket-action-chip",style:g(e.actionChipStyle)},n(e.actionStrValue),5)])):y("",!0),c.ticket.description?(u(),C("div",J,n(c.ticket.description),1)):y("",!0),e.formattedCreatedDate?(u(),C("div",{key:3,class:"ticket-created-date",style:g(e.dateAccentStyle)},[l("span",K,n(e.dateAccentConfig?.label||""),1),l("span",M,n(e.formattedCreatedDate),1)],4)):y("",!0)],44,w)}const tt=V(j,[["render",Q],["__scopeId","data-v-9cda001c"]]);export{tt as T};
