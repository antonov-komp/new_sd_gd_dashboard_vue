var pe=Object.defineProperty;var he=(t,e,n)=>e in t?pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>he(t,typeof e!="symbol"?e+"":e,n);import{_ as N,c as p,a as d,b as k,t as _,n as V,o as y,F as w,r as L,d as b,e as A,f as S,g as I,w as x,T as j,h as M,i as Te,j as ae,k as le,l as ne,v as ke,m as _e,p as ve,q as Ee,s as ie,u as Se}from"./main-DkwpEUdO.js";const De={name:"TicketCard",props:{ticket:{type:Object,required:!0},draggable:{type:Boolean,default:!0}},emits:["click","drag-start","drag-end"],setup(t,{emit:e}){return{getPriorityLabel:s=>({high:"–í—ã—Å–æ–∫–∏–π",medium:"–°—Ä–µ–¥–Ω–∏–π",low:"–ù–∏–∑–∫–∏–π"})[s]||s,getStatusLabel:s=>({in_progress:"–í —Ä–∞–±–æ—Ç–µ",new:"–ù–æ–≤—ã–π",done:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",pending:"–û–∂–∏–¥–∞–Ω–∏–µ"})[s]||s,handleDragStart:s=>{s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("application/json",JSON.stringify(t.ticket)),s.dataTransfer.setDragImage(s.target,0,0),e("drag-start",t.ticket)},handleDragEnd:()=>{e("drag-end")}}}},Ie=["draggable"],Ce={class:"ticket-header"},Ae={class:"ticket-id"},we={class:"ticket-title"},be={class:"ticket-meta"},Ne={class:"ticket-status"},Re={key:0,class:"ticket-description"};function Oe(t,e,n,r,i,o){return y(),p("div",{class:V(["ticket-card",{"priority-high":n.ticket.priority==="high","priority-medium":n.ticket.priority==="medium","priority-low":n.ticket.priority==="low"}]),draggable:n.draggable,onClick:e[0]||(e[0]=s=>t.$emit("click",n.ticket)),onDragstart:e[1]||(e[1]=(...s)=>r.handleDragStart&&r.handleDragStart(...s)),onDragend:e[2]||(e[2]=(...s)=>r.handleDragEnd&&r.handleDragEnd(...s))},[d("div",Ce,[e[3]||(e[3]=d("span",{class:"ticket-icon"},"üé´",-1)),d("span",Ae,"#"+_(n.ticket.id),1)]),d("div",we,_(n.ticket.title),1),d("div",be,[d("span",{class:V(["ticket-priority",`priority-${n.ticket.priority}`])},_(r.getPriorityLabel(n.ticket.priority)),3),d("span",Ne,_(r.getStatusLabel(n.ticket.status)),1)]),n.ticket.description?(y(),p("div",Re,_(n.ticket.description),1)):k("",!0)],42,Ie)}const ce=N(De,[["render",Oe],["__scopeId","data-v-b255f359"]]),Le={name:"ZeroPoint",components:{TicketCard:ce},props:{tickets:{type:Array,default:()=>[]},stageId:{type:String,required:!0}},emits:["ticket-dragged","ticket-assigned","ticket-clicked"],setup(t,{emit:e}){return{handleTicketDragStart:r=>{e("ticket-dragged",r)}}}},Me={class:"zero-point"},Pe={class:"zero-point-tickets"},Be={key:0,class:"empty-state"};function Fe(t,e,n,r,i,o){const s=b("TicketCard");return y(),p("div",Me,[e[1]||(e[1]=d("div",{class:"zero-point-header"},[d("h3",null,"–ù—É–ª–µ–≤–∞—è —Ç–æ—á–∫–∞")],-1)),d("div",Pe,[(y(!0),p(w,null,L(n.tickets,a=>(y(),A(s,{key:a.id,ticket:a,draggable:!0,onDragStart:l=>r.handleTicketDragStart(a),onClick:l=>t.$emit("ticket-clicked",a)},null,8,["ticket","onDragStart","onClick"]))),128)),n.tickets.length===0?(y(),p("div",Be,[...e[0]||(e[0]=[d("p",null,"–ù–µ—Ç –Ω–µ—Ä–∞–∑–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤ –≤ —Å—Ç–∞–¥–∏–∏",-1)])])):k("",!0)])])}const xe=N(Le,[["render",Fe],["__scopeId","data-v-73492b14"]]);function Ue(t){return typeof t=="number"&&t>0&&!isNaN(t)}function de(t){return typeof t=="number"&&t>0&&!isNaN(t)}function ue(t){return typeof t=="string"&&["formed","review","execution"].includes(t)}function Ve(t){return!t||typeof t!="object"?!1:Ue(t.id)&&typeof t.title=="string"&&t.title.trim().length>0}function ge(t,e,n){return!(!Ve(t)||!de(e)||!ue(n)||t.assigneeId===e&&t.stageId===n)}function Ke(t){const e=[];return!t||typeof t!="object"?(e.push("–î–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º"),{valid:!1,errors:e}):((!t.title||typeof t.title!="string"||t.title.trim().length===0)&&e.push("–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"),t.stageId&&!ue(t.stageId)&&e.push("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID —Å—Ç–∞–¥–∏–∏"),t.employeeId&&!de(t.employeeId)&&e.push("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞"),{valid:e.length===0,errors:e})}const X="dashboard-sector-1c-logger-level",B={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};class R{static getLevel(){if(typeof localStorage<"u"){const e=localStorage.getItem(X);if(e&&B[e]!==void 0)return e}return"ERROR"}static setLevel(e){return B[e]!==void 0?(typeof localStorage<"u"&&localStorage.setItem(X,e),!0):!1}static isEnabled(e,n=null){const r=n||this.getLevel();if(r==="NONE")return!1;const i=B[e]||0,o=B[r]||0;return i<=o}static getLevels(){return{...B}}static reset(){typeof localStorage<"u"&&localStorage.removeItem(X)}}let E=class{static log(e,n,r="",i=null){if(!R.isEnabled(e))return;const o=new Date().toISOString(),s=r?`[${r}]`:"",a=`[${o}] [${e}] ${s} ${n}`;switch(e){case"ERROR":i!=null?console.error(a,i):console.error(a);break;case"WARN":i!=null?console.warn(a,i):console.warn(a);break;case"INFO":i!=null?console.info(a,i):console.info(a);break;case"DEBUG":i!=null?console.log(a,i):console.log(a);break;default:i!=null?console.log(a,i):console.log(a)}}static error(e,n="",r=null){this.log("ERROR",e,n,r)}static warn(e,n="",r=null){this.log("WARN",e,n,r)}static info(e,n="",r=null){this.log("INFO",e,n,r)}static debug(e,n="",r=null){this.log("DEBUG",e,n,r)}};function fe(){const t=(o,s="info",a=5e3)=>{typeof BX<"u"&&BX.UI&&BX.UI.Notification?BX.UI.Notification.Center.notify({content:o,autoHideDelay:a}):E.info(`[${s.toUpperCase()}] ${o}`,"useNotifications")};return{notify:t,success:(o,s=3e3)=>{t(o,"success",s)},error:(o,s=5e3)=>{t(o,"error",s)},info:(o,s=4e3)=>{t(o,"info",s)},warning:(o,s=4e3)=>{t(o,"warning",s)}}}function ze(t){const e=fe(),n=S(!1);return{isDropZoneActive:n,handleDragStart:(l,g)=>{l.dataTransfer.effectAllowed="move",l.dataTransfer.setData("application/json",JSON.stringify(g)),l.dataTransfer.setDragImage(l.target,0,0)},handleDragOver:l=>{l.preventDefault(),l.dataTransfer.dropEffect="move",n.value=!0},handleDragLeave:l=>{const g=l.currentTarget.getBoundingClientRect(),u=l.clientX,m=l.clientY;(u<g.left||u>g.right||m<g.top||m>g.bottom)&&(n.value=!1)},handleDrop:async(l,g,u)=>{l.preventDefault(),n.value=!1;const m=l.dataTransfer.getData("application/json");if(m)try{const c=JSON.parse(m);if(!ge(c,g,u)){e.warning("–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ç–∏–∫–µ—Ç —Å—é–¥–∞");return}t&&typeof t=="function"&&await t(c,g,u)}catch(c){E.error("Error parsing ticket data","useDragAndDrop",c),e.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ç–∏–∫–µ—Ç–∞")}},handleDragEnd:l=>{n.value=!1}}}function ye(t=""){return{error:(s,a=null)=>{E.error(s,t,a)},warn:(s,a=null)=>{E.warn(s,t,a)},info:(s,a=null)=>{E.info(s,t,a)},debug:(s,a=null)=>{E.debug(s,t,a)},log:(s,a,l=null)=>{E.log(s,a,t,l)}}}const Ye={name:"EmployeeColumn",components:{TicketCard:ce},props:{employee:{type:Object,required:!0},stageId:{type:String,required:!0}},emits:["ticket-clicked","ticket-dropped"],setup(t,{emit:e}){const n=ye("EmployeeColumn"),i=ze(async(c,f,h)=>{e("ticket-dropped",c,f)}),o=I(()=>t.employee.isFromSector1C?Array.isArray(t.employee.tickets)?t.employee.tickets:[]:Array.isArray(t.employee.ticketsInsideSector)?t.employee.ticketsInsideSector:[]),s=I(()=>t.employee.isFromSector1C?[]:Array.isArray(t.employee.ticketsOutsideSector)?t.employee.ticketsOutsideSector:Array.isArray(t.employee.tickets)?t.employee.tickets:[]),a=I(()=>t.employee.isFromSector1C?Array.isArray(t.employee.tickets)?t.employee.tickets:[]:[]),l=I(()=>o.value.length+s.value.length),g=c=>{i.handleDrop(c,t.employee.id,t.stageId)},u=c=>{},m=()=>{n.debug("Add ticket for employee",t.employee.id)};return{isDropZoneActive:i.isDropZoneActive,handleDragOver:i.handleDragOver,handleDragLeave:i.handleDragLeave,handleDrop:g,ticketsInsideSector:o,ticketsOutsideSector:s,ticketsToDisplay:a,totalTicketsCount:l,handleTicketDragStart:u,handleAddTicket:m}}},Ge={class:"employee-header"},We={class:"employee-info"},je={class:"employee-details"},Xe={class:"employee-name"},He={key:0,class:"employee-position"},$e={class:"tickets-count"},Ze={class:"tickets-list"},qe={key:0,class:"tickets-section tickets-inside-sector"},Je={key:1,class:"tickets-section tickets-outside-sector"},Qe={class:"section-header"},et={class:"section-count"},tt={key:2,class:"empty-state"};function rt(t,e,n,r,i,o){const s=b("TicketCard");return y(),p("div",{class:V(["employee-column",{"drop-zone-active":r.isDropZoneActive}]),onDragover:e[1]||(e[1]=Te((...a)=>r.handleDragOver&&r.handleDragOver(...a),["prevent"])),onDragleave:e[2]||(e[2]=(...a)=>r.handleDragLeave&&r.handleDragLeave(...a)),onDrop:e[3]||(e[3]=(...a)=>r.handleDrop&&r.handleDrop(...a))},[d("div",Ge,[d("div",We,[e[4]||(e[4]=d("span",{class:"employee-icon"},"üë§",-1)),d("div",je,[d("div",Xe,_(n.employee.name),1),n.employee.position?(y(),p("div",He,_(n.employee.position),1)):k("",!0)])]),d("div",$e," üìä –¢–∏–∫–µ—Ç–æ–≤: "+_(r.totalTicketsCount),1)]),d("div",Ze,[n.employee.isFromSector1C?(y(),A(j,{key:0,name:"ticket",tag:"div"},{default:x(()=>[(y(!0),p(w,null,L(r.ticketsToDisplay,a=>(y(),A(s,{key:a.id,ticket:a,draggable:!0,onClick:l=>t.$emit("ticket-clicked",a),onDragStart:r.handleTicketDragStart},null,8,["ticket","onClick","onDragStart"]))),128))]),_:1})):(y(),p(w,{key:1},[r.ticketsInsideSector.length>0?(y(),p("div",qe,[M(j,{name:"ticket",tag:"div"},{default:x(()=>[(y(!0),p(w,null,L(r.ticketsInsideSector,a=>(y(),A(s,{key:a.id,ticket:a,draggable:!0,onClick:l=>t.$emit("ticket-clicked",a),onDragStart:r.handleTicketDragStart},null,8,["ticket","onClick","onDragStart"]))),128))]),_:1})])):k("",!0),r.ticketsOutsideSector.length>0?(y(),p("div",Je,[d("div",Qe,[e[5]||(e[5]=d("span",{class:"section-badge"},"–í–Ω–µ —Å–µ–∫—Ç–æ—Ä–∞",-1)),d("span",et,_(r.ticketsOutsideSector.length),1)]),M(j,{name:"ticket",tag:"div"},{default:x(()=>[(y(!0),p(w,null,L(r.ticketsOutsideSector,a=>(y(),A(s,{key:a.id,ticket:a,draggable:!0,class:"ticket-outside-sector",onClick:l=>t.$emit("ticket-clicked",a),onDragStart:r.handleTicketDragStart},null,8,["ticket","onClick","onDragStart"]))),128))]),_:1})])):k("",!0)],64)),r.totalTicketsCount===0?(y(),p("div",tt,[e[6]||(e[6]=d("p",null,"–ù–µ—Ç —Ç–∏–∫–µ—Ç–æ–≤",-1)),d("button",{class:"add-ticket-btn",onClick:e[0]||(e[0]=(...a)=>r.handleAddTicket&&r.handleAddTicket(...a))}," + –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ç ")])):k("",!0)])],34)}const nt=N(Ye,[["render",rt],["__scopeId","data-v-bd4c4991"]]),it={name:"DashboardStage",components:{ZeroPoint:xe,EmployeeColumn:nt},props:{stage:{type:Object,required:!0},zeroPointTickets:{type:Array,default:()=>[]}},emits:["ticket-moved","ticket-assigned","ticket-clicked"],setup(t,{emit:e}){const n=ye("DashboardStage"),r=S(!1),i=I(()=>{const c=Array.isArray(t.zeroPointTickets)?t.zeroPointTickets.length:0,f=Array.isArray(t.stage.employees)?t.stage.employees.reduce((h,T)=>Array.isArray(T.ticketsInsideSector)?h+T.ticketsInsideSector.length:T.isFromSector1C&&Array.isArray(T.tickets)?h+T.tickets.length:h,0):0;return c+f}),o=I(()=>Array.isArray(t.stage.employees)?t.stage.employees.reduce((c,f)=>Array.isArray(f.ticketsOutsideSector)?c+f.ticketsOutsideSector.length:!f.isFromSector1C&&Array.isArray(f.tickets)?c+f.tickets.length:c,0):0),s=I(()=>i.value+o.value),a=I(()=>{var T;const c=((T=t.stage)==null?void 0:T.name)||"–°—Ç–∞–¥–∏—è",f=i.value,h=o.value;return h===0?`${c} (${f})`:`${c} (${f} / ${h})`});return{isDragging:r,ticketsCountInsideSector:i,ticketsCountOutsideSector:o,totalTicketsCount:s,stageNameWithCount:a,handleTicketDragged:c=>{r.value=!0},handleTicketAssigned:(c,f)=>{e("ticket-assigned",c,f)},handleTicketDropped:(c,f)=>{e("ticket-moved",c,f,t.stage.id),r.value=!1},handleTicketClicked:c=>{n.debug("Ticket clicked",c),e("ticket-clicked",c)}}}},st={class:"stage-header"},ot={class:"stage-content"},at={class:"employees-container"};function lt(t,e,n,r,i,o){const s=b("ZeroPoint"),a=b("EmployeeColumn");return y(),p("div",{class:"dashboard-stage",style:ae({borderLeftColor:n.stage.color})},[d("div",st,[d("h2",null,_(r.stageNameWithCount),1)]),d("div",ot,[M(s,{tickets:n.zeroPointTickets,"stage-id":n.stage.id,onTicketDragged:r.handleTicketDragged,onTicketAssigned:r.handleTicketAssigned,onTicketClicked:r.handleTicketClicked},null,8,["tickets","stage-id","onTicketDragged","onTicketAssigned","onTicketClicked"]),d("div",at,[(y(!0),p(w,null,L(n.stage.employees,l=>(y(),A(a,{key:l.id,employee:l,"stage-id":n.stage.id,onTicketClicked:r.handleTicketClicked,onTicketDropped:r.handleTicketDropped},null,8,["employee","stage-id","onTicketClicked","onTicketDropped"]))),128))])])],4)}const ct=N(it,[["render",lt],["__scopeId","data-v-c6fbde76"]]),H={cache_check:{title:"–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞",description:"–ü–æ–∏—Å–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö..."},cache_hit:{title:"–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã",description:"–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞..."},loading_tickets:{title:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤",description:"–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix24..."},filtering:{title:"–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏–∫–µ—Ç–æ–≤",description:"–û—Ç–±–æ—Ä —Ç–∏–∫–µ—Ç–æ–≤ —Å–µ–∫—Ç–æ—Ä–∞ 1–°..."},extracting_employees:{title:"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",description:"–ê–Ω–∞–ª–∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤..."},loading_employees:{title:"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",description:"–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö..."},grouping:{title:"–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö",description:"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ —ç—Ç–∞–ø–∞–º..."},caching:{title:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à",description:"–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–≥—Ä—É–∑–æ–∫..."},complete:{title:"–ì–æ—Ç–æ–≤–æ!",description:"–î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–µ–Ω"},error:{title:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",description:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"}},dt={loading_tickets:{title:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤",description:"–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix24..."},filtering:{title:"–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏–∫–µ—Ç–æ–≤",description:"–û—Ç–±–æ—Ä —Ç–∏–∫–µ—Ç–æ–≤ —Å–µ–∫—Ç–æ—Ä–∞ 1–°..."},extracting_employees:{title:"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",description:"–ê–Ω–∞–ª–∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤..."},loading_employees:{title:"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",description:"–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö..."},grouping:{title:"–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö",description:"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ —ç—Ç–∞–ø–∞–º..."},caching:{title:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à",description:"–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–≥—Ä—É–∑–æ–∫..."},cache_check:{title:"–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞",description:"–ü–æ–∏—Å–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö..."},cache_hit:{title:"–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã",description:"–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞..."},complete:{title:"–ì–æ—Ç–æ–≤–æ!",description:"–î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–µ–Ω"},error:{title:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",description:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"}},ut={name:"LoadingPreloader",props:{currentStep:{type:String,default:null},progress:{type:Number,default:0},stepDetails:{type:Object,default:()=>({})},error:{type:String,default:null}},emits:["retry"],setup(t,{emit:e}){const n=I(()=>{var m;const{currentStep:g,stepDetails:u}=t;return u!=null&&u.description?{title:g?((m=H[g])==null?void 0:m.title)||g:"–ó–∞–≥—Ä—É–∑–∫–∞...",description:u.description}:g?H[g]?H[g]:dt[g]||{title:"–ó–∞–≥—Ä—É–∑–∫–∞...",description:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ..."}:{title:"–ó–∞–≥—Ä—É–∑–∫–∞...",description:"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è..."}}),r=I(()=>n.value.title),i=I(()=>n.value.description),o=I(()=>t.stepDetails),s=I(()=>{const g=t.progress;return g==null||isNaN(g)?0:Math.round(Math.max(0,Math.min(100,g)))});return{stepTitle:r,stepDescription:i,details:o,displayProgress:s,getStageDisplayName:g=>g?{"DT140_12:UC_0VHWE2":"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ","DT140_12:PREPARATION":"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó","DT140_12:CLIENT":"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ","–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ":"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ","–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó":"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó",–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ"}[g]||g:"",handleRetry:()=>{e("retry")}}}},gt={class:"preloader-backdrop"},ft={class:"preloader-container"},yt={class:"preloader-content-scrollable"},mt={key:0,class:"spinner-container"},pt={class:"preloader-content"},ht={class:"step-title"},Tt={key:0,class:"step-description"},kt={key:1,class:"progress-container"},_t={class:"progress-bar"},vt={class:"progress-text"},Et={key:2,class:"step-details"},St={key:0,class:"detail-description"},Dt={key:1,class:"detail-item"},It={class:"detail-value"},Ct={key:0,class:"detail-total"},At={key:2,class:"detail-item"},wt={class:"detail-value"},bt={key:0,class:"detail-total"},Nt={key:3,class:"detail-item"},Rt={class:"detail-value"},Ot={key:0,class:"detail-total"},Lt={key:4,class:"detail-item"},Mt={class:"detail-value"},Pt={key:5,class:"detail-warning"},Bt={key:0,class:"error-container"},Ft={class:"error-content"},xt={class:"error-message"};function Ut(t,e,n,r,i,o){return y(),p("div",{class:V(["loading-preloader",{"has-error":n.error}])},[d("div",gt,[d("div",ft,[d("div",yt,[n.error?k("",!0):(y(),p("div",mt,[...e[1]||(e[1]=[d("div",{class:"spinner"},null,-1)])])),d("div",pt,[d("h3",ht,_(r.stepTitle),1),r.stepDescription?(y(),p("p",Tt,_(r.stepDescription),1)):k("",!0),n.error?k("",!0):(y(),p("div",kt,[d("div",_t,[d("div",{class:"progress-fill",style:ae({width:r.displayProgress+"%"})},null,4)]),d("span",vt,_(r.displayProgress)+"%",1)])),n.error?k("",!0):(y(),p("div",Et,[r.details.description?(y(),p("div",St,_(r.details.description),1)):k("",!0),r.details.count!==void 0?(y(),p("div",Dt,[e[2]||(e[2]=d("span",{class:"detail-label"},"–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ç–∏–∫–µ—Ç–æ–≤:",-1)),d("span",It,_(r.details.count),1),r.details.total!==void 0?(y(),p("span",Ct," –∏–∑ "+_(r.details.total),1)):k("",!0)])):k("",!0),r.details.filteredTickets!==void 0?(y(),p("div",At,[e[3]||(e[3]=d("span",{class:"detail-label"},"–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ —Ç–∏–∫–µ—Ç–æ–≤:",-1)),d("span",wt,_(r.details.filteredTickets),1),r.details.totalTickets!==void 0?(y(),p("span",bt," –∏–∑ "+_(r.details.totalTickets),1)):k("",!0)])):k("",!0),r.details.stage?(y(),p("div",Nt,[e[4]||(e[4]=d("span",{class:"detail-label"},"–°—Ç–∞–¥–∏—è:",-1)),d("span",Rt,_(r.getStageDisplayName(r.details.stage)),1),r.details.stageIndex&&r.details.totalStages?(y(),p("span",Ot," ("+_(r.details.stageIndex)+"/"+_(r.details.totalStages)+") ",1)):k("",!0)])):k("",!0),r.details.employeeCount!==void 0?(y(),p("div",Lt,[e[5]||(e[5]=d("span",{class:"detail-label"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:",-1)),d("span",Mt,_(r.details.employeeCount),1)])):k("",!0),r.details.warning?(y(),p("div",Pt,[d("span",null,"‚ö†Ô∏è "+_(r.details.warning),1)])):k("",!0)]))])])])]),n.error?(y(),p("div",Bt,[d("div",Ft,[e[6]||(e[6]=d("div",{class:"error-icon"},"‚ö†Ô∏è",-1)),d("p",xt,_(n.error),1),d("button",{onClick:e[0]||(e[0]=(...s)=>r.handleRetry&&r.handleRetry(...s)),class:"retry-button"}," –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É ")])])):k("",!0)],2)}const Vt=N(ut,[["render",Ut],["__scopeId","data-v-d129ff19"]]),Kt={name:"LoggerControl",props:{showControl:{type:Boolean,default:!1}},setup(){const t=S(!1),e=S("ERROR"),n=S(!0),r=l=>({NONE:"–û—Ç–∫–ª—é—á–µ–Ω–æ",ERROR:"–¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏",WARN:"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏",INFO:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏",DEBUG:"–í—Å–µ –ª–æ–≥–∏ (–æ—Ç–ª–∞–¥–∫–∞)"})[l]||l;return le(()=>{const l=R.getLevel();e.value=l,t.value=l!=="NONE"}),{enabled:t,level:e,isExpanded:n,getLevelDescription:r,handleToggle:()=>{t.value?(e.value==="NONE"&&(e.value="ERROR"),R.setLevel(e.value)):(R.setLevel("NONE"),e.value="NONE")},handleLevelChange:()=>{t.value&&R.setLevel(e.value)},resetToDefault:()=>{const l="ERROR";e.value=l,t.value=!0,R.setLevel(l)},toggleVisibility:()=>{n.value=!n.value}}}},zt={key:0,class:"logger-control"},Yt={class:"logger-control-header"},Gt=["aria-label"],Wt={key:0,class:"logger-control-content"},jt={class:"logger-control-section"},Xt={class:"logger-control-label"},Ht={key:0,class:"logger-control-section"},$t={class:"logger-control-label"},Zt={key:1,class:"logger-control-info"},qt={class:"logger-control-info-text"},Jt={key:2,class:"logger-control-section"};function Qt(t,e,n,r,i,o){return n.showControl?(y(),p("div",zt,[d("div",Yt,[e[6]||(e[6]=d("h3",{class:"logger-control-title"},"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º",-1)),d("button",{class:"logger-control-toggle",onClick:e[0]||(e[0]=(...s)=>r.toggleVisibility&&r.toggleVisibility(...s)),"aria-label":r.isExpanded?"–°–≤–µ—Ä–Ω—É—Ç—å":"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"},_(r.isExpanded?"‚ñº":"‚ñ∂"),9,Gt)]),r.isExpanded?(y(),p("div",Wt,[d("div",jt,[d("label",Xt,[ne(d("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=s=>r.enabled=s),onChange:e[2]||(e[2]=(...s)=>r.handleToggle&&r.handleToggle(...s)),class:"logger-control-checkbox"},null,544),[[ke,r.enabled]]),e[7]||(e[7]=d("span",{class:"logger-control-label-text"},"–í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ",-1))])]),r.enabled?(y(),p("div",Ht,[d("label",$t,[e[9]||(e[9]=d("span",{class:"logger-control-label-text"},"–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:",-1)),ne(d("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.level=s),onChange:e[4]||(e[4]=(...s)=>r.handleLevelChange&&r.handleLevelChange(...s)),class:"logger-control-select"},[...e[8]||(e[8]=[ve('<option value="NONE" data-v-bc546e6e>–û—Ç–∫–ª—é—á–µ–Ω–æ</option><option value="ERROR" data-v-bc546e6e>–¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏</option><option value="WARN" data-v-bc546e6e>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏</option><option value="INFO" data-v-bc546e6e>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏</option><option value="DEBUG" data-v-bc546e6e>–í—Å–µ –ª–æ–≥–∏ (–æ—Ç–ª–∞–¥–∫–∞)</option>',5)])],544),[[_e,r.level]])])])):k("",!0),r.enabled?(y(),p("div",Zt,[d("span",qt,[e[10]||(e[10]=Ee(" –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: ",-1)),d("strong",null,_(r.getLevelDescription(r.level)),1)])])):k("",!0),r.enabled?(y(),p("div",Jt,[d("button",{onClick:e[5]||(e[5]=(...s)=>r.resetToDefault&&r.resetToDefault(...s)),class:"logger-control-reset-btn",title:"–°–±—Ä–æ—Å–∏—Ç—å –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"}," –°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—é ")])):k("",!0)])):k("",!0)])):k("",!0)}const er=N(Kt,[["render",Qt],["__scopeId","data-v-bc546e6e"]]);function tr(){const t=S(!1),e=S(null),n=S([{id:"formed",name:"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ",color:"#007bff",employees:[]},{id:"review",name:"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó",color:"#ffc107",employees:[]},{id:"execution",name:"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ",color:"#28a745",employees:[]}]),r=S({formed:[],review:[],execution:[]}),i=S([]),o=S(null);return{isLoading:t,error:e,stages:n,zeroPointTickets:r,employees:i,draggedTicket:o,updateState:u=>{u.stages&&(n.value=u.stages),u.employees&&(i.value=u.employees),u.zeroPointTickets&&(r.value=u.zeroPointTickets)},resetState:()=>{t.value=!1,e.value=null,n.value=[{id:"formed",name:"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ",color:"#007bff",employees:[]},{id:"review",name:"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó",color:"#ffc107",employees:[]},{id:"execution",name:"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ",color:"#28a745",employees:[]}],r.value={formed:[],review:[],execution:[]},i.value=[],o.value=null},updateLocalStateAfterMove:(u,m,c)=>{const f=n.value.find(T=>T.employees.some(C=>C.tickets.some(W=>W.id===u.id)));if(f){const T=f.employees.find(C=>C.tickets.some(W=>W.id===u.id));T&&(T.tickets=T.tickets.filter(C=>C.id!==u.id))}const h=n.value.find(T=>T.id===c);if(h){const T=h.employees.find(C=>C.id===m);if(T){const C={...u,assigneeId:m,stageId:c};T.tickets.push(C)}}Object.keys(r.value).forEach(T=>{r.value[T]=r.value[T].filter(C=>C.id!==u.id)})},getEmployeeTickets:(u,m)=>{const c=n.value.find(h=>h.id===m);if(!c)return[];const f=c.employees.find(h=>h.id===u);return f?f.tickets||[]:[]}}}class rr{static getApiUrl(){const e=window.location.pathname;return e.substring(0,e.lastIndexOf("/"))+"/api/bitrix24.php"}static async call(e,n={}){try{const r=await fetch(this.getApiUrl(),{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({method:e,params:n})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=await r.json();if(i.error)throw new Error(i.error_description||i.error);return i}catch(r){throw console.error("Bitrix24 API error:",r),r}}static async getProfile(){return this.call("profile",{})}static async getLeads(e={},n=["ID","NAME","EMAIL","PHONE"],r={ID:"DESC"}){return(await this.call("crm.lead.list",{filter:e,select:n,order:r})).result||[]}}class O{static async call(e,n={}){return await rr.call(e,n)}}class v{static get(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}static set(e,n,r=this.DEFAULT_TTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}static delete(e){this.cache.delete(e)}static clear(){this.cache.clear()}static invalidateByPrefix(e){const n=[];for(const r of this.cache.keys())r.startsWith(e)&&n.push(r);n.forEach(r=>this.cache.delete(r))}static cleanExpired(){const e=Date.now(),n=[];for(const[r,i]of this.cache.entries())e-i.timestamp>i.ttl&&n.push(r);n.forEach(r=>this.cache.delete(r))}static getStats(){const e=Date.now();let n=0,r=0;for(const i of this.cache.values())e-i.timestamp>i.ttl?n++:r++;return{total:this.cache.size,valid:r,expired:n}}static getTicketsCacheKey(e){return`tickets:stage:${e}`}static getAllTicketsCacheKey(){return"tickets:all"}static getEmployeesCacheKey(e){return`employees:ids:${[...e].sort((r,i)=>r-i).join(",")}`}static getSectorDataCacheKey(){return"sector:data"}static invalidateTicketsCache(){this.invalidateByPrefix("tickets:"),this.invalidateByPrefix("sector:")}static invalidateEmployeesCache(){this.invalidateByPrefix("employees:")}}P(v,"cache",new Map),P(v,"DEFAULT_TTL",5*60*1e3),P(v,"EMPLOYEES_TTL",30*60*1e3),P(v,"TICKETS_TTL",5*60*1e3);typeof window<"u"&&setInterval(()=>{v.cleanExpired()},5*60*1e3);function D(t,e,n={}){if(!t||typeof t!="string")throw new Error("Step must be a non-empty string");const r=typeof e=="number"&&!isNaN(e)?Math.max(0,Math.min(100,e)):0;let i=n.description;return i||(i=nr(t,n)),{step:t,progress:r,details:{...n,description:i}}}function nr(t,e){return t==="loading_tickets"&&e.stageName&&e.stageIndex!==void 0?`–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤ —Å—Ç–∞–¥–∏–∏ "${e.stageName}" (${e.stageIndex}/${e.totalStages||1})...`:t==="filtering"&&e.filteredTickets!==void 0&&e.totalTickets!==void 0?`–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏–∫–µ—Ç–æ–≤: ${e.filteredTickets} –∏–∑ ${e.totalTickets}...`:t==="grouping"&&e.employeeCount!==void 0?`–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ ${e.employeeCount} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º...`:e.count!==void 0&&e.total!==void 0?`–û–±—Ä–∞–±–æ—Ç–∫–∞: ${e.count} –∏–∑ ${e.total}...`:"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."}function G(t){if(!t||typeof t!="object")throw new Error("Progress info must be an object");const e=t.step||null;if(!e)throw new Error("Step is required in progress info");const n=t.progress!==void 0&&t.progress!==null?t.progress:t.percent!==void 0&&t.percent!==null?t.percent:void 0,r=t.details||{};return t.stage&&(r.stage=t.stage),t.stageName&&(r.stageName=t.stageName),t.stageIndex!==void 0&&(r.stageIndex=t.stageIndex),t.totalStages!==void 0&&(r.totalStages=t.totalStages),t.count!==void 0&&(r.count=t.count),t.total!==void 0&&(r.total=t.total),t.warning&&(r.warning=t.warning),{step:e,progress:n!=null?Math.max(0,Math.min(100,n)):void 0,details:r}}function me(t,e,n){const r=typeof t=="number"&&!isNaN(t)?Math.max(0,Math.min(100,t)):0,i=typeof e=="number"&&!isNaN(e)?Math.max(0,Math.min(100,e)):0,o=typeof n=="number"&&!isNaN(n)?Math.max(0,Math.min(100,n)):0,s=r+i*o/100;return Math.max(0,Math.min(100,s))}const K=140;class F{static async getAllTickets(e,n=null){const r=[],i=e.length;try{for(let o=0;o<e.length;o++){const s=e[o],a=this.getStageName(s);if(n){const l=o/i*100;n(D("loading_tickets",l,{stage:s,stageName:a,stageIndex:o+1,totalStages:i}))}try{const l=await this.getTicketsByStage(s,!0,n?g=>{const u=me(o/i*100,1/i*100,g.percent||0);n(D("loading_tickets",u,{stage:s,stageName:a,stageIndex:o+1,totalStages:i,count:g.count,total:g.total}))}:null);r.push(...l)}catch(l){E.error(`Error loading tickets for stage ${s}`,"TicketRepository",l);let g=`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–¥–∏–∏ "${a}"`;throw l.message&&(l.message.includes("HTTP error")||l.message.includes("network")?g=`–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞–¥–∏–∏ "${a}". –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.`:l.message.includes("timeout")?g=`–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞–¥–∏–∏ "${a}". –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.`:l.message.includes("403")||l.message.includes("401")?g=`–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞–¥–∏–∏ "${a}". –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.`:g=`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–¥–∏–∏ "${a}": ${l.message}`),new Error(g)}}}catch(o){throw E.error("Error in getAllTickets","TicketRepository",o),o}return r}static getStageName(e){return{"DT140_12:UC_0VHWE2":"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ","DT140_12:PREPARATION":"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó","DT140_12:CLIENT":"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ"}[e]||e}static async getTicketsByStage(e,n=!0,r=null){if(n){const u=v.getTicketsCacheKey(e),m=v.get(u);if(m!==null)return r&&r(G({step:"loading_tickets",percent:100,count:m.length,total:m.length})),m}const i=[];let o=0;const s=50;let a=!0,l=0,g=null;for(;a;)try{const u=await O.call("crm.item.list",{entityTypeId:K,filter:{stageId:e},select:["*"],order:{id:"DESC"},start:o,useOriginalUfNames:"Y"});let m=[];if(u&&u.result&&(Array.isArray(u.result)?m=u.result:u.result.items&&Array.isArray(u.result.items)?m=u.result.items:u.result.data&&Array.isArray(u.result.data)&&(m=u.result.data)),m.length>0){if(i.push(...m),o+=m.length,a=m.length===s,a?l=o+s:l=i.length,r){const c=l>0?Math.min(100,i.length/l*100):0;r(G({step:"loading_tickets",percent:c,count:i.length,total:l}))}g=null}else a=!1}catch(u){if(E.error(`Error loading tickets batch for stage ${e} (start: ${o})`,"TicketRepository",u),o===0)throw g=u,new Error(`–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∏–∫–µ—Ç—ã –¥–ª—è —Å—Ç–∞–¥–∏–∏ ${e}: ${u.message||u}`);a=!1,r&&i.length>0&&r(D("loading_tickets",100,{count:i.length,total:i.length,warning:`–ó–∞–≥—Ä—É–∂–µ–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ: ${i.length} —Ç–∏–∫–µ—Ç–æ–≤. –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.`}))}if(g&&i.length===0)throw g;if(n){const u=v.getTicketsCacheKey(e);v.set(u,i,v.TICKETS_TTL)}return i}static async getTicket(e){return(await O.call("crm.item.get",{entityTypeId:K,id:e})).result||null}static async updateTicket(e,n){const i=(await O.call("crm.item.update",{entityTypeId:K,id:e,fields:n})).result===!0;return i&&v.invalidateTicketsCache(),i}static async createTicket(e){const n=await O.call("crm.item.add",{entityTypeId:K,fields:e}),r=n.result?parseInt(n.result):0;return r>0&&v.invalidateTicketsCache(),r}static async assignTicket(e,n,r){return await this.updateTicket(e,{assignedById:n,stageId:r})}}class ir{static async getEmployeesByIds(e,n=!0){if(!Array.isArray(e)||e.length===0)return[];if(n){const r=v.getEmployeesCacheKey(e),i=v.get(r);if(i!==null)return E.debug(`Cache hit for employees: ${e.length} employees`,"EmployeeRepository"),i}try{const r=await O.call("user.get",{filter:{ID:e},select:["ID","NAME","LAST_NAME","EMAIL","WORK_POSITION","UF_DEPARTMENT"]});let i=[];if(r&&r.result&&(Array.isArray(r.result)?i=r.result:E.warn("Unexpected user.get result format","EmployeeRepository",r)),n){const o=v.getEmployeesCacheKey(e);v.set(o,i,v.EMPLOYEES_TTL)}return i}catch(r){return E.error("Error getting employees by IDs","EmployeeRepository",r),[]}}}const Y=366,sr=368,or=369,ar=367,lr=[Y,sr,or,ar],cr=140,$={FORMED:{bitrixId:"DT140_12:UC_0VHWE2"},REVIEW:{bitrixId:"DT140_12:PREPARATION"},EXECUTION:{bitrixId:"DT140_12:CLIENT"}},dr={"DT140_12:UC_0VHWE2":"formed","DT140_12:PREPARATION":"review","DT140_12:CLIENT":"execution"},ur={formed:"DT140_12:UC_0VHWE2",review:"DT140_12:PREPARATION",execution:"DT140_12:CLIENT"},gr={3:"high",2:"medium",1:"low"};function fr(){return[$.FORMED.bitrixId,$.REVIEW.bitrixId,$.EXECUTION.bitrixId]}function Q(t){return dr[t]||"formed"}function se(t){return ur[t]||"DT140_12:UC_0VHWE2"}function yr(){return fr()}function ee(t){const e=parseInt(t.id||t.ID||0),n=t.title||t.TITLE||"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è",r=t.stageId||t.STAGE_ID||"",i=t.assignedById||t.ASSIGNED_BY_ID||null,o=t.createdTime||t.CREATED_DATE||t.CREATED_TIME||"",s=t.updatedTime||t.MODIFY_DATE||t.UPDATED_TIME||"";return{id:e,title:n,priority:mr(t.priority||t.PRIORITY),status:pr(),assigneeId:i?parseInt(i):null,stageId:Q(r),createdAt:o,modifiedAt:s,amount:t.opportunity||t.OPPORTUNITY||0,currency:t.currencyId||t.CURRENCY_ID||"RUB",description:t.comments||t.COMMENTS||""}}function mr(t){return gr[t]||"medium"}function pr(t){return"in_progress"}function hr(t){if(!t||!t.UF_DEPARTMENT)return null;const e=Array.isArray(t.UF_DEPARTMENT)?t.UF_DEPARTMENT:[t.UF_DEPARTMENT];for(const n of e){const r=typeof n=="number"?n:parseInt(n);if(!isNaN(r)&&lr.includes(r))return r}return null}function Tr(t){const e=hr(t);return{id:parseInt(t.ID||t.id||0),name:`${t.NAME||t.name||""} ${t.LAST_NAME||t.lastName||""}`.trim()||t.EMAIL||t.email||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π",position:t.WORK_POSITION||t.workPosition||"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",email:t.EMAIL||t.email||"",sectorId:e,departmentId:t.UF_DEPARTMENT||null,tickets:[]}}function kr(t){return Array.isArray(t)?t.map(e=>Tr(e)):[]}const z="1C",U=new Map,oe=100;function _r(t){return t.UF_CRM_7_TYPE_PRODUCT||t.uf_crm_7_type_product||t.ufCrm7TypeProduct||t.UF_CRM_7_TYPE_PRODUCT||t.uf_crm_7_type_product||null}function vr(t){const e=_r(t);return e?Array.isArray(e)?e.includes(z):typeof e=="object"&&e!==null&&e.value===z||e===z:!1}function Er(t){return`filter:${t.map(n=>n.id||n.ID||"").sort().join(",")}`}function Sr(){U.size>oe&&Array.from(U.keys()).slice(0,Math.floor(oe*.2)).forEach(e=>U.delete(e))}function Dr(t){if(!Array.isArray(t))return[];const e=Er(t),n=U.get(e);if(n!==void 0)return n;const r=t.filter(vr);return U.set(e,r),Sr(),r}const J=1051;function te(t){if(!t||typeof t!="object")return null;let e=t.assignedById||t.ASSIGNED_BY_ID||t.assignedByIdId||t.assignedById;return e&&typeof e=="object"&&(e=e.id||e.ID||e.value||null),e||null}function re(t){if(t==null)return null;typeof t=="object"&&(t=t.id||t.ID||t.value||null);const e=typeof t=="number"?t:parseInt(t);return isNaN(e)||e<=0?null:e}function Ir(t,e=J){const n=te(t),r=re(n);return r===null||r===e}function Cr(t,e){Array.isArray(t)||(E.warn("Tickets is not an array","TicketGrouper",t),t=[]),Array.isArray(e)||(E.warn("Employees is not an array","TicketGrouper",e),e=[]);const n=e.filter(s=>(s.id?parseInt(s.id):null)!==J),r=[{id:"formed",name:"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ",color:"#007bff",employees:n.map(s=>({...s,isFromSector1C:s.sectorId===Y,tickets:[],ticketsInsideSector:[],ticketsOutsideSector:[]}))},{id:"review",name:"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó",color:"#ffc107",employees:n.map(s=>({...s,isFromSector1C:s.sectorId===Y,tickets:[],ticketsInsideSector:[],ticketsOutsideSector:[]}))},{id:"execution",name:"–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ",color:"#28a745",employees:n.map(s=>({...s,isFromSector1C:s.sectorId===Y,tickets:[],ticketsInsideSector:[],ticketsOutsideSector:[]}))}],i=new Map(r.map(s=>[s.id,s])),o=new Map;return r.forEach(s=>{const a=new Map(s.employees.map(l=>[l.id,l]));o.set(s.id,a)}),t.forEach(s=>{const a=Q(s.stageId||s.STAGE_ID||""),l=i.get(a);if(l){const g=te(s),u=re(g);if(u===J)return;if(u){const m=o.get(a);let c=m.get(u);c||(c={id:u,name:`–°–æ—Ç—Ä—É–¥–Ω–∏–∫ #${u}`,position:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",email:"",sectorId:null,departmentId:null,isFromSector1C:!1,tickets:[],ticketsInsideSector:[],ticketsOutsideSector:[]},l.employees.push(c),m.set(u,c));const f=ee(s);c.tickets.push(f),c.isFromSector1C?c.ticketsInsideSector.push(f):c.ticketsOutsideSector.push(f)}}}),r.forEach(s=>{s.employees.sort((a,l)=>a.isFromSector1C&&!l.isFromSector1C?-1:!a.isFromSector1C&&l.isFromSector1C?1:(a.id||0)-(l.id||0))}),r}function Ar(t){const e={formed:[],review:[],execution:[]};return Array.isArray(t)?(t.filter(n=>Ir(n)).forEach(n=>{const r=Q(n.stageId||n.STAGE_ID||"");e[r]&&e[r].push(ee(n))}),e):(E.warn("Tickets is not an array in getZeroPointTickets","TicketGrouper",t),e)}function wr(t){if(!Array.isArray(t))return[];const e=new Set;return t.forEach(n=>{const r=te(n),i=re(r);i&&e.add(i)}),Array.from(e)}class br{static async getTicketDetails(e,n={}){const{select:r=["*"],useOriginalUfNames:i=!0}=n;try{const o=await F.getTicket(e);if(!o)throw new Error(`–¢–∏–∫–µ—Ç —Å ID ${e} –Ω–µ –Ω–∞–π–¥–µ–Ω`);const s=this.processAdditionalFields(o);return{id:o.id||o.ID,title:o.title||o.TITLE,stageId:o.stageId||o.STAGE_ID,assignedById:o.assignedById||o.ASSIGNED_BY_ID,createdAt:o.createdTime||o.CREATED_TIME||o.CREATED_DATE,updatedAt:o.updatedTime||o.UPDATED_TIME||o.MODIFY_DATE,priority:o.priority||o.PRIORITY,opportunity:o.opportunity||o.OPPORTUNITY,currencyId:o.currencyId||o.CURRENCY_ID,comments:o.comments||o.COMMENTS,additionalFields:s,rawData:o}}catch(o){throw E.error("Error getting ticket details","TicketDetailsService",o),o}}static processAdditionalFields(e){const n=this.extractUserFields(e);return{typeProduct:n.UF_CRM_7_TYPE_PRODUCT||n.uf_crm_7_type_product||n.ufCrm7TypeProduct||null,all:n}}static extractUserFields(e){const n={};for(const r in e)e.hasOwnProperty(r)&&r.toLowerCase().startsWith("uf_")&&(n[r]=e[r]);return n}}class Z{static async getSectorData(e=!0,n=null){if(n&&n(D("cache_check",0,{description:"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏..."})),e){const r=v.getSectorDataCacheKey(),i=v.get(r);if(i!==null)return n&&n(D("cache_hit",100,{description:"–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –∫–µ—à–∞"})),i}try{n&&n(D("loading_tickets",10,{description:"–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–∏–∫–µ—Ç–æ–≤ –∏–∑ Bitrix24..."}));const r=yr(),i=await F.getAllTickets(r,m=>{if(n){const c=G(m),f=me(10,40,c.progress||0);n(D(c.step||"loading_tickets",f,{...c.details,warning:c.details.warning}))}});n&&n(D("filtering",50,{totalTickets:i.length,description:`–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è ${i.length} —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ —Å–µ–∫—Ç–æ—Ä—É 1–°...`}));const o=Dr(i);n&&n(D("filtering",50,{totalTickets:i.length,filteredTickets:o.length,description:`–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ ${o.length} —Ç–∏–∫–µ—Ç–æ–≤ –∏–∑ ${i.length}`})),n&&n(D("extracting_employees",60,{filteredTickets:o.length,description:`–ê–Ω–∞–ª–∏–∑ ${o.length} —Ç–∏–∫–µ—Ç–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤...`}));const s=wr(o);n&&n(D("extracting_employees",60,{employeeCount:s.length,description:`–ù–∞–π–¥–µ–Ω–æ ${s.length} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤`})),n&&n(D("loading_employees",65,{employeeCount:s.length,description:`–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö ${s.length} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤...`}));const a=await ir.getEmployeesByIds(s),l=kr(a);n&&n(D("loading_employees",90,{employeeCount:l.length,description:`–ó–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∞–Ω–Ω—ã—Ö ${l.length} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤`})),n&&n(D("grouping",90,{filteredTickets:o.length,employeeCount:l.length,description:`–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ ${o.length} —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ —ç—Ç–∞–ø–∞–º –∏ ${l.length} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º...`}));const u={stages:Cr(o,l),employees:l,zeroPointTickets:Ar(o)};if(n&&n(D("caching",95,{description:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∫–µ—à –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–≥—Ä—É–∑–æ–∫..."})),e){const m=v.getSectorDataCacheKey();v.set(m,u,v.TICKETS_TTL)}return n&&n(D("complete",100,{description:"–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"})),u}catch(r){throw E.error("Error getting sector data","DashboardSector1CService",r),n&&n({step:"error",progress:0,error:r.message}),r}}static async assignTicket(e,n,r){try{const i=se(r),o=await F.assignTicket(e,n,i);return o&&v.invalidateTicketsCache(),o}catch(i){throw E.error("Error assigning ticket","DashboardSector1CService",i),i}}static async createTicket(e){try{const n=se(e.stageId||"formed"),r={title:e.title,stageId:n};e.employeeId&&(r.assignedById=e.employeeId);const i=await F.createTicket(r);return i>0&&v.invalidateTicketsCache(),i}catch(n){throw E.error("Error creating ticket","DashboardSector1CService",n),n}}static async getTicket(e){try{const n=await F.getTicket(e);return ee(n)}catch(n){throw E.error("Error getting ticket","DashboardSector1CService",n),n}}static async getTicketDetails(e,n={}){try{return await br.getTicketDetails(e,n)}catch(r){throw E.error("Error getting ticket details","DashboardSector1CService",r),r}}static async addComment(e,n){try{return(await O.call("crm.timeline.comment.add",{fields:{entityId:e,entityType:"DYNAMIC_"+cr,comment:n}})).result!==void 0}catch(r){throw E.error("Error adding comment","DashboardSector1CService",r),r}}}function Nr(){const t=S(null),e=S(0),n=S(null),r=S(null),i=S({}),o=(c,f={})=>{t.value=c,i.value=f},s=c=>{const f=typeof c=="number"&&!isNaN(c)?c:0;e.value=Math.min(100,Math.max(0,f))},a=c=>{n.value=c,r.value=null},l=c=>{r.value=c},g=()=>{r.value=null},u=()=>{t.value=null,e.value=0,n.value=null,r.value=null,i.value={}},m=I(()=>n.value||r.value);return{currentStep:t,progress:e,error:n,temporaryError:r,displayError:m,stepDetails:i,updateStep:o,updateProgress:s,setError:a,setTemporaryError:l,clearTemporaryError:g,reset:u}}function Rr(t,e=""){if(Logger.error(`API Error ${e?`(${e})`:""}`,"ErrorHandler",t),t.message){if(t.message.includes("HTTP error"))return"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.";if(t.message.includes("timeout"))return"–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";if(t.message.includes("403")||t.message.includes("401"))return"–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.";if(t.message.includes("500"))return"–û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."}return t.message||"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞"}function Or(t,e="",n={}){const r={message:t.message,stack:t.stack,context:e,...n,timestamp:new Date().toISOString()};Logger.error("Error logged","ErrorHandler",r)}function q(t,e="",n=null){const r=Rr(t,e);Or(t,e),n&&typeof n=="function"?n(r,"error"):typeof BX<"u"&&BX.UI&&BX.UI.Notification&&BX.UI.Notification.Center.notify({content:r,autoHideDelay:5e3})}function Lr(t){const e=fe(),n=Nr(),r=S(!1);function i(c,f){const h=G(c);h.step&&f.updateStep(h.step,h.details||{}),h.progress!==void 0&&h.progress!==null&&(f.updateProgress(h.progress),f.clearTemporaryError())}const o=async(c=!0)=>{t.isLoading.value=!0,t.error.value=null,n.reset(),n.updateStep("cache_check",{description:"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö..."}),n.updateProgress(0);try{const f=await Z.getSectorData(c,h=>{i(h,n)});t.updateState(f)}catch(f){t.error.value=f.message,n.setError(f.message),q(f,"loading sector data",e.error)}finally{t.error.value?t.isLoading.value=!1:(n.updateStep("complete",{description:"–î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–µ–Ω"}),n.updateProgress(100),setTimeout(()=>{r.value=!0,setTimeout(()=>{t.isLoading.value=!1},150),setTimeout(()=>{n.reset(),r.value=!1},400)},800))}},s=async(c,f,h)=>{if(!ge(c,f,h))return e.warning("–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ç–∏–∫–µ—Ç —Å—é–¥–∞"),!1;try{const T=await Z.assignTicket(c.id,f,h);return T&&(t.updateLocalStateAfterMove(c,f,h),e.success("–¢–∏–∫–µ—Ç –ø–µ—Ä–µ–º–µ—â—ë–Ω")),T}catch(T){return q(T,"assigning ticket",e.error),!1}finally{t.draggedTicket.value=null}};return{loadSectorData:o,assignTicket:s,moveTicketToStage:async(c,f)=>await s(c,c.assigneeId,f),assignTicketToEmployee:async(c,f)=>await s(c,f,c.stageId),createTicket:async c=>{const f=Ke(c);if(!f.valid){const h=f.errors.join(", ");return e.error(h),0}try{const h=await Z.createTicket(c);return h>0&&(await o(!1),e.success("–¢–∏–∫–µ—Ç —Å–æ–∑–¥–∞–Ω")),h}catch(h){return q(h,"creating ticket",e.error),0}},handleTicketDragStart:c=>{t.draggedTicket.value=c},handleTicketDrop:async(c,f,h)=>{await s(c,f,h)},loadingProgress:n,isTransitioning:r}}const Mr={name:"DashboardSector1C",components:{DashboardStage:ct,LoadingPreloader:Vt,LoggerControl:er},setup(){const t=Se(),e=tr(),n=Lr(e);le(()=>{n.loadSectorData()});const r=()=>{t.push("/")},i=()=>{n.loadSectorData(!1)},o=n.loadingProgress,s=I(()=>typeof localStorage<"u"?localStorage.getItem("dashboard-sector-1c-show-logger-control")==="true":!1);return{isLoading:e.isLoading,error:e.error,stages:e.stages,zeroPointTickets:e.zeroPointTickets,employees:e.employees,draggedTicket:e.draggedTicket,currentStep:o.currentStep,progress:o.progress,stepDetails:o.stepDetails,loadingProgress:o,loadSectorData:n.loadSectorData,handleTicketDragStart:n.handleTicketDragStart,handleTicketDrop:n.handleTicketDrop,assignTicketToEmployee:n.assignTicketToEmployee,moveTicketToStage:n.moveTicketToStage,createTicket:n.createTicket,getEmployeeTickets:e.getEmployeeTickets,showLoggerControl:s,handleRetry:i,isTransitioning:n.isTransitioning,goBack:r}}},Pr={class:"dashboard-header"},Br={key:0,class:"dashboard-content"},Fr={class:"stages-container"};function xr(t,e,n,r,i,o){const s=b("LoadingPreloader"),a=b("DashboardStage"),l=b("LoggerControl");return y(),p("div",{class:V(["dashboard-sector-1c",{"is-dragging":r.draggedTicket}])},[d("div",Pr,[d("button",{class:"back-button",onClick:e[0]||(e[0]=(...g)=>r.goBack&&r.goBack(...g)),"aria-label":"–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é"},[...e[2]||(e[2]=[d("span",{class:"back-button-icon"},"‚Üê",-1),d("span",{class:"back-button-text"},"–ù–ê–ó–ê–î",-1)])]),e[3]||(e[3]=d("h1",null,"–î–∞—à–±–æ—Ä–¥ - –°–µ–∫—Ç–æ—Ä 1–°",-1))]),M(ie,{name:"preloader-fade"},{default:x(()=>[r.isLoading||r.error||r.currentStep?(y(),A(s,{key:0,"current-step":r.currentStep,progress:r.progress,"step-details":r.stepDetails,error:r.error||null,onRetry:r.handleRetry},null,8,["current-step","progress","step-details","error","onRetry"])):k("",!0)]),_:1}),M(ie,{name:"dashboard-fade"},{default:x(()=>[!r.isLoading&&!r.error&&!r.currentStep?(y(),p("div",Br,[d("div",Fr,[(y(!0),p(w,null,L(r.stages,g=>(y(),A(a,{key:g.id,stage:g,"zero-point-tickets":r.zeroPointTickets[g.id]||[],onTicketMoved:r.handleTicketDrop,onTicketAssigned:r.assignTicketToEmployee},null,8,["stage","zero-point-tickets","onTicketMoved","onTicketAssigned"]))),128))])])):k("",!0)]),_:1}),d("button",{class:"floating-back-button",onClick:e[1]||(e[1]=(...g)=>r.goBack&&r.goBack(...g)),"aria-label":"–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é",title:"–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é"},[...e[4]||(e[4]=[d("span",{class:"floating-back-button-icon"},"‚Üê",-1)])]),M(l,{"show-control":r.showLoggerControl},null,8,["show-control"])],2)}const zr=N(Mr,[["render",xr],["__scopeId","data-v-988e9e77"]]);export{zr as default};
