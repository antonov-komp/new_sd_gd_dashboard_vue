# –ê–Ω–∞–ª–∏–∑ –ø–æ–ø–∞–ø–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –≤ –º–æ–¥—É–ª–µ "–ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°"

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-12 08:47 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω  
**–ú–æ–¥—É–ª—å:** –ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°  
**–ó–∞–¥–∞—á–∞:** TASK-033

---

## üìã –û–±–∑–æ—Ä

–ü–æ–ø–∞–ø —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–ª–∏–Ω–µ–π–Ω—ã–π, —Å—Ç–æ–ª–±—á–∞—Ç—ã–π, –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞) –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–±–∏–≤–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç–∞–¥–∏–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ø–∞–ø–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `EmployeeDetailsModal.vue`

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/src/components/graph-state/EmployeeDetailsModal.vue`

**–¢–∏–ø:** Vue 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (Composition API) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `<Teleport>` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ body

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```javascript
{
  isVisible: Boolean,        // –í–∏–¥–∏–º–æ—Å—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  stageName: String,          // –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ")
  totalCount: Number,          // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ —ç—Ç–∞–ø–∞
  employees: Array,           // –ú–∞—Å—Å–∏–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏
  others: Object | null        // –î–∞–Ω–Ω—ã–µ –æ –≥—Ä—É–ø–ø–µ "–î—Ä—É–≥–∏–µ" (–µ—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ > 10)
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

```javascript
{
  id: Number,                  // ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–∏–ª–∏ 1051 –¥–ª—è —Ö—Ä–∞–Ω–∏—Ç–µ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤)
  name: String,                // –ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  count: Number,               // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ
  percentage: Number,          // –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 40.0)
  progressBarWidth: Number,   // –®–∏—Ä–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
  progressBarColor: String,    // –¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ (hex, –Ω–∞–ø—Ä–∏–º–µ—Ä '#007bff')
  isKeeper: Boolean            // –§–ª–∞–≥ –¥–ª—è —Ö—Ä–∞–Ω–∏—Ç–µ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ "–î—Ä—É–≥–∏–µ"

```javascript
{
  count: Number,               // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ –≥—Ä—É–ø–ø—ã "–î—Ä—É–≥–∏–µ"
  employeeCount: Number,       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –≥—Ä—É–ø–ø–µ
  percentage: Number,          // –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
  progressBarWidth: Number,   // –®–∏—Ä–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
  progressBarColor: String     // –¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ (—Å–µ—Ä—ã–π '#6c757d')
}
```

---

## üîÑ –ú–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–ø–∞–ø–∞

### 1. –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (`line`)

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `handleLineChartClick()` –≤ `GraphStateChart.vue`

**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–ª–∏–∫ –Ω–∞ —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —ç—Ç–∞–ø –ø–æ `dataset.label` (–Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞)
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É –¥–∞–Ω–Ω—ã—Ö:
   - `0` ‚Üí `weekStart` (–Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏)
   - `1` ‚Üí `weekEnd` (–∫–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏)
   - `2` ‚Üí `current` (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
3. –ü–æ–ª—É—á–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: `dataset.meta.employees[timePoint]`
4. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `openEmployeeDetailsModalForLine()`:
   - –ü–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–ø–æ–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–æ—á–∫–µ
   - –ü–æ–ª—É—á–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ —ç—Ç–∞–ø–∞ –∏–∑ —Å–ª–µ–ø–∫–∞
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `formatEmployeeProgressBarData()`
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ø–∞–ø

**–ö–æ–¥:**

```javascript
function handleLineChartClick(event, elements, chart) {
  if (chartType.value !== 'line' || elements.length === 0) {
    return;
  }

  const element = elements[0];
  const datasetIndex = element.datasetIndex;
  const dataIndex = element.index;

  const dataset = chart.data.datasets[datasetIndex];
  const stageId = getStageIdFromLabel(dataset.label);
  const timePoint = getTimePointFromIndex(dataIndex);
  const employeeData = dataset.meta?.employees?.[timePoint];

  if (!employeeData || employeeData.length === 0) {
    return;
  }

  openEmployeeDetailsModalForLine(stageId, timePoint, employeeData);
}
```

### 2. –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (`doughnut`)

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫:** `handleDoughnutChartClick()` –≤ `GraphStateChart.vue`

**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–ª–∏–∫ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —ç—Ç–∞–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É —Å–µ–∫—Ç–æ—Ä–∞
2. –ü–æ–ª—É—á–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: `chartData.datasets[0].meta.employees[stageId]`
3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `openEmployeeDetailsModalForDoughnut()`:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ø–∞–ø —Å —É–∂–µ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ö–æ–¥:**

```javascript
function handleDoughnutChartClick(event, elements, chart) {
  if (chartType.value !== 'doughnut' || elements.length === 0) {
    return;
  }

  const element = elements[0];
  const index = element.index;
  const chartData = chart.data;
  const label = chartData.labels[index];
  const stageId = getStageIdFromLabel(label);
  const employeesMeta = chartData.datasets[0]?.meta?.employees;
  const employeeData = employeesMeta?.[stageId];

  if (!employeeData) {
    console.warn('–î–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –¥–ª—è —ç—Ç–∞–ø–∞:', stageId);
    return;
  }

  openEmployeeDetailsModalForDoughnut(stageId, employeeData);
}
```

### 3. –°—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ (`bar`)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ø–∞–ø –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–∏–¥–µ —Å—Ç–æ–ª–±—Ü–æ–≤, –ø–æ—ç—Ç–æ–º—É –ø–æ–ø–∞–ø –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–µ–Ω. –û–¥–Ω–∞–∫–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–∫ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ø–∞–ø–∞

### –£—Ç–∏–ª–∏—Ç–∞: `formatEmployeeProgressBarData()`

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/src/utils/graph-state/employeeChartUtils.js`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**

```javascript
formatEmployeeProgressBarData(
  employees,      // –ú–∞—Å—Å–∏–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å count
  totalCount,      // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ —ç—Ç–∞–ø–∞
  stageColor,      // –¶–≤–µ—Ç —ç—Ç–∞–ø–∞ (hex)
  maxVisible = 10  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–∏–º—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
)
```

**–ü—Ä–æ—Ü–µ—Å—Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–∫–µ—Ç–æ–≤
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ `maxVisible` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ "–î—Ä—É–≥–∏–µ"

2. **–†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤:**
   - `percentage = (count / totalCount) * 100`
   - –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 1 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞:**
   - –û–±—ã—á–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: —Ü–≤–µ—Ç —ç—Ç–∞–ø–∞ (`stageColor`)
   - –•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤ (`isKeeper: true`): `#f59e0b` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
   - "–î—Ä—É–≥–∏–µ": `#6c757d` (—Å–µ—Ä—ã–π)

4. **–®–∏—Ä–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞:**
   - `progressBarWidth = percentage`

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**

```javascript
{
  employees: [
    {
      id: 123,
      name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
      count: 10,
      percentage: 40.0,
      progressBarWidth: 40.0,
      progressBarColor: '#007bff'
    },
    {
      id: 1051,
      name: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤ (–ù–µ—Ä–∞–∑–æ–±—Ä–∞–Ω–Ω–æ–µ)",
      count: 5,
      percentage: 20.0,
      progressBarWidth: 20.0,
      progressBarColor: '#f59e0b',
      isKeeper: true
    }
  ],
  others: {
    count: 2,
    employeeCount: 1,
    percentage: 8.0,
    progressBarWidth: 8.0,
    progressBarColor: '#6c757d'
  }
}
```

---

## üé® –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ø–∞–ø–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞]  –í—Å–µ–≥–æ: X —Ç–∏–∫–µ—Ç–æ–≤  [√ó] ‚îÇ ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ–∫
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                         ‚îÇ
‚îÇ  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤                            ‚îÇ
‚îÇ  [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 10 —Ç–∏–∫–µ—Ç–æ–≤ (40%)‚îÇ ‚Üê –°–æ—Ç—Ä—É–¥–Ω–∏–∫ 1
‚îÇ                                         ‚îÇ
‚îÇ  –•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤ (–ù–µ—Ä–∞–∑–æ–±—Ä–∞–Ω–Ω–æ–µ)    ‚îÇ
‚îÇ  [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 5 —Ç–∏–∫–µ—Ç–æ–≤ (20%) ‚îÇ ‚Üê –•—Ä–∞–Ω–∏—Ç–µ–ª—å
‚îÇ                                         ‚îÇ
‚îÇ  –î—Ä—É–≥–∏–µ (1)                             ‚îÇ
‚îÇ  [‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 2 —Ç–∏–∫–µ—Ç–∞ (8%)   ‚îÇ ‚Üê –ì—Ä—É–ø–ø–∞ "–î—Ä—É–≥–∏–µ"
‚îÇ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ")
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
   - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è (√ó)

2. **–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**
   - –ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (—Å–ª–µ–≤–∞)
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–ø–æ —Ü–µ–Ω—Ç—Ä—É)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç (—Å–ø—Ä–∞–≤–∞)

3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏:**
   - –•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤: –æ—Ä–∞–Ω–∂–µ–≤–∞—è –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –∏ —Ñ–æ–Ω
   - –ì—Ä—É–ø–ø–∞ "–î—Ä—É–≥–∏–µ": —Å–µ—Ä–∞—è –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞

---

## üîç –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ —Å–ª–µ–ø–∫–∞

**–§—É–Ω–∫—Ü–∏—è:** `getEmployeesForStageFromSnapshot()` –≤ `employeeChartUtils.js`

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. **–û–±—ã—á–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:**
   - –ò–∑ `snapshot.statistics.employees`
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `emp.ticketsByStage[stageId] > 0`
   - –§–æ—Ä–º–∞—Ç: `{ id, name, count }`

2. **–•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤:**
   - ID: `1051`
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤ (–ù–µ—Ä–∞–∑–æ–±—Ä–∞–Ω–Ω–æ–µ)"
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑ `snapshot.statistics.zeroPointByStage[stageId].keeper`
   - –§–ª–∞–≥: `isKeeper: true`

3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
   - –ü–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–∫–µ—Ç–æ–≤ (`b.count - a.count`)

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–ª–µ–ø–∫–∞:**

```javascript
{
  statistics: {
    employees: [
      {
        id: 123,
        name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        ticketsByStage: {
          formed: 10,
          review: 5,
          execution: 3
        }
      }
    ],
    zeroPointByStage: {
      formed: { keeper: 5 },
      review: { keeper: 2 },
      execution: { keeper: 1 }
    },
    stages: {
      formed: { count: 15 },
      review: { count: 7 },
      execution: { count: 4 }
    }
  }
}
```

---

## üéØ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### 1. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç:** 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞:** `MAX_EMPLOYEES = 10` –≤ `employeeChartUtils.js`
- **–û—Å—Ç–∞–ª—å–Ω—ã–µ:** –ì—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ "–î—Ä—É–≥–∏–µ"

### 2. –•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤

- **ID:** `1051`
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç:** `#f59e0b` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **–û—Ç–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –§–ª–∞–≥ `isKeeper: true`

### 3. –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ

- –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö"
- –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–∞–ø–∞: –ø–æ–ø–∞–ø –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### 4. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –∑–∞–Ω–∏–º–∞—é—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É

---

## üîó –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. **GraphStateChart.vue:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `EmployeeDetailsModal` –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ø–∞–ø–∞ —á–µ—Ä–µ–∑ refs
   - –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—ã

2. **employeeChartUtils.js:**
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

3. **SnapshotService.js:**
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–ø–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–µ–ø–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ø–∞–ø–∞ –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

```javascript
// –í GraphStateChart.vue
const employeeData = [
  { id: 123, name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", count: 10 },
  { id: 456, name: "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤", count: 5 }
];

openEmployeeDetailsModalForLine('formed', 'weekEnd', employeeData);
```

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ø–∞–ø–∞ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã

```javascript
// –í GraphStateChart.vue
const employeeData = {
  stageName: "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ",
  totalCount: 25,
  employees: [
    { id: 123, name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", count: 10, percentage: 40.0, ... },
    { id: 456, name: "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤", count: 5, percentage: 20.0, ... }
  ],
  others: null
};

openEmployeeDetailsModalForDoughnut('formed', employeeData);
```

---

## üêõ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö, –ø–æ–ø–∞–ø –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –ø–æ–ø–∞–ø–∞

### 2. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Å—É–º–º–æ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∏–∫–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º (—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤)

**–†–µ—à–µ–Ω–∏–µ:** –£—á–∏—Ç—ã–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏—Ç–µ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (> 10) –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2025-12-11:** –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal.vue` (TASK-031-03)
- **2025-12-11:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–∏–Ω–µ–π–Ω—ã–º –≥—Ä–∞—Ñ–∏–∫–æ–º
- **2025-12-11:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π
- **2025-12-12:** –ü—Ä–æ–≤–µ–¥—ë–Ω –∞–Ω–∞–ª–∏–∑ –ø–æ–ø–∞–ø–∞ (TASK-033)

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `DOCS/TASKS/TASK-031-integrate-employee-details-into-charts.md` ‚Äî –ó–∞–¥–∞—á–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- `DOCS/TASKS/TASK-031-03-integrate-line-and-bar-charts.md` ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- `vue-app/src/components/graph-state/GraphStateChart.vue` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞
- `vue-app/src/utils/graph-state/employeeChartUtils.js` ‚Äî –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

---

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–ü–æ–ø–∞–ø —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏ –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
2. **–î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è** —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É `formatEmployeeProgressBarData()`
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤ "–î—Ä—É–≥–∏–µ"
4. **–•—Ä–∞–Ω–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
5. **–°—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫** –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ø–∞–ø–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** AI Assistant  
**–î–∞—Ç–∞:** 2025-12-12 08:47 (UTC+3, –ë—Ä–µ—Å—Ç)




