# –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏: Server-Sent Events (SSE)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-09 09:51 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–¢–∏–ø:** –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìã –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ **Server-Sent Events (SSE)**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –Ω–æ–≤—ã–µ –ª–æ–≥–∏ –≤–µ–±—Ö—É–∫–æ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `api/webhook-realtime.php`

**URL:** `https://your-domain.com/api/webhook-realtime.php`

**–ü—Ä–æ—Ç–æ–∫–æ–ª:** Server-Sent Events (SSE)

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç SSE

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

**Server-Sent Events (SSE)** ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–µ—Ä–≤–µ—Ä—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- –ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤, —á–µ–º WebSocket

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å–≤—è–∑—å (—Å–µ—Ä–≤–µ—Ä ‚Üí –∫–ª–∏–µ–Ω—Ç)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. **–ö–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   ```
   GET /api/webhook-realtime.php
   Accept: text/event-stream
   ```

2. **–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
   ```
   Content-Type: text/event-stream
   Cache-Control: no-cache
   Connection: keep-alive
   ```

3. **–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ –ª–æ–≥–∏:**
   - –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
   - –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∏–∑–≤–µ—Å—Ç–Ω—ã–º timestamp

4. **–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è:**
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –Ω–æ–≤—ã–µ –ª–æ–≥–∏ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ `new_logs`
   - –ï—Å–ª–∏ –Ω–µ—Ç –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `keep-alive`
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ `error`

5. **–ö–ª–∏–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è:**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üì° –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### last_timestamp

**–¢–∏–ø:** string  
**–§–æ—Ä–º–∞—Ç:** ISO 8601 (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2025-12-09T10:15:30+03:00`)  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ–¥–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π timestamp. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/webhook-realtime.php?last_timestamp=2025-12-09T10:15:30+03:00
```

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** null (–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤—Å–µ –Ω–æ–≤—ã–µ –ª–æ–≥–∏)

### category

**–¢–∏–ø:** string  
**–ó–Ω–∞—á–µ–Ω–∏—è:** `tasks`, `smart-processes`, `errors`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/webhook-realtime.php?category=tasks
```

### event

**–¢–∏–ø:** string  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞.

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/webhook-realtime.php?event=ONTASKADD
```

---

## üìä –§–æ—Ä–º–∞—Ç —Å–æ–±—ã—Ç–∏–π

### –°–æ–±—ã—Ç–∏–µ: connected

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–§–æ—Ä–º–∞—Ç:**
```
event: connected
data: {"message": "Connected to realtime stream", "timestamp": "2025-12-09T10:15:30+03:00"}
```

### –°–æ–±—ã—Ç–∏–µ: new_logs

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤.

**–§–æ—Ä–º–∞—Ç:**
```
event: new_logs
data: [{"timestamp": "2025-12-09T10:20:45+03:00", "event": "ONTASKADD", ...}, ...]
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```json
[
  {
    "timestamp": "2025-12-09T10:20:45+03:00",
    "ip": "195.208.184.34",
    "event": "ONTASKADD",
    "category": "tasks",
    "payload": { ... },
    "details": { ... }
  }
]
```

### –°–æ–±—ã—Ç–∏–µ: keep-alive

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–§–æ—Ä–º–∞—Ç:**
```
event: keep-alive
data: {"timestamp": "2025-12-09T10:25:00+03:00"}
```

**–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –°–æ–±—ã—Ç–∏–µ: error

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ.

**–§–æ—Ä–º–∞—Ç:**
```
event: error
data: {"message": "Error message", "timestamp": "2025-12-09T10:25:00+03:00"}
```

### –°–æ–±—ã—Ç–∏–µ: timeout

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–§–æ—Ä–º–∞—Ç:**
```
event: timeout
data: {"message": "Connection timeout", "timestamp": "2025-12-09T10:30:00+03:00"}
```

---

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ JavaScript

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```javascript
const eventSource = new EventSource('/api/webhook-realtime.php');

eventSource.addEventListener('connected', (event) => {
  console.log('Connected:', JSON.parse(event.data));
});

eventSource.addEventListener('new_logs', (event) => {
  const logs = JSON.parse(event.data);
  console.log('New logs:', logs);
  // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤
});

eventSource.addEventListener('error', (event) => {
  console.error('Error:', JSON.parse(event.data));
});

eventSource.addEventListener('keep-alive', (event) => {
  // –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
});

// –ó–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
eventSource.close();
```

### –ü—Ä–∏–º–µ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```javascript
const category = 'tasks';
const lastTimestamp = '2025-12-09T10:15:30+03:00';

const url = `/api/webhook-realtime.php?category=${category}&last_timestamp=${encodeURIComponent(lastTimestamp)}`;
const eventSource = new EventSource(url);

eventSource.addEventListener('new_logs', (event) => {
  const logs = JSON.parse(event.data);
  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ –ª–æ–≥–∏
});
```

### –ü—Ä–∏–º–µ—Ä —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

```javascript
const eventSource = new EventSource('/api/webhook-realtime.php');

eventSource.onerror = (error) => {
  console.error('SSE error:', error);
  // –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  setTimeout(() => {
    eventSource.close();
    // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
  }, 5000);
};

eventSource.addEventListener('error', (event) => {
  const error = JSON.parse(event.data);
  console.error('Server error:', error.message);
});
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

### –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 5 —Å–µ–∫—É–Ω–¥

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```php
use WebhookLogs\Config\WebhookLogsConfig;

$interval = WebhookLogsConfig::getRealtimeCheckInterval();
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5 —Å–µ–∫—É–Ω–¥
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ú–µ–Ω—å—à–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª = –±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ë–æ–ª—å—à–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª = –±–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ: 5-10 —Å–µ–∫—É–Ω–¥

### –ò–Ω—Ç–µ—Ä–≤–∞–ª keep-alive

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 30 —Å–µ–∫—É–Ω–¥

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```php
$interval = WebhookLogsConfig::getRealtimeKeepAliveInterval();
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 —Å–µ–∫—É–Ω–¥
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã–º
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –ø—Ä–æ–∫—Å–∏/–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–≤

### –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```php
$timeout = WebhookLogsConfig::getRealtimeTimeout();
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 300 —Å–µ–∫—É–Ω–¥
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –¥–æ–ª–≥–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîç –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤:

**–ß—Ç–æ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è:**
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤ (—Ä–∞–∑–º–µ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π)
- –ü–æ—Å–ª–µ–¥–Ω–∏–π timestamp –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**TTL –∫–µ—à–∞:** 60 —Å–µ–∫—É–Ω–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–µ–Ω—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –ë—ã—Å—Ç—Ä–µ–µ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ (—Ä–∞–∑–º–µ—Ä, –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è)
2. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî –ø—Ä–æ–ø—É—Å–∫ —á—Ç–µ–Ω–∏—è
3. –ï—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî —á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–µ–Ω—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π I/O
- –ë—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫

#### 1. –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –§–∞–π–ª—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã

**–î–µ–π—Å—Ç–≤–∏–µ:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `error`
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

#### 2. –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
- –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏

**–î–µ–π—Å—Ç–≤–∏–µ:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `timeout`
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

#### 3. –†–∞–∑—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ö–ª–∏–µ–Ω—Ç –∑–∞–∫—Ä—ã–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞

**–î–µ–π—Å—Ç–≤–∏–µ:**
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –†–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- –í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–¥–µ–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å rate limiting
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏

–°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏:

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

### Nginx

**–í–∞–∂–Ω–æ:** –û—Ç–∫–ª—é—á–∏—Ç—å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è SSE.

```nginx
location /api/webhook-realtime.php {
    fastcgi_pass unix:/var/run/php/php8.4-fpm.sock;
    fastcgi_index index.php;
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    
    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è SSE
    proxy_buffering off;
    proxy_cache off;
    fastcgi_read_timeout 300;
    
    # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
    add_header X-Accel-Buffering no;
}
```

### Apache

```apache
<Location /api/webhook-realtime.php>
    Require all granted
    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è SSE
    SetEnv no-buffer 1
</Location>
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫:
- **08-web-interface.md** ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **09-troubleshooting.md** ‚Äî —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

---

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- `06-api-reading.md` ‚Äî API –¥–ª—è —á—Ç–µ–Ω–∏—è –ª–æ–≥–æ–≤
- `02-architecture.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
- `src/WebhookLogs/Service/WebhookRealtimeService.php` ‚Äî –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-09 09:51 (UTC+3, –ë—Ä–µ—Å—Ç)


