# TASK-031-04: –≠—Ç–∞–ø 4 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-11 15:33 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-031

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä —ç—Ç–∞–ø–∞ —Å —É—á–µ—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö UX-—Ä–µ—à–µ–Ω–∏–π.

---

## ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤

### –≠—Ç–∞–ø 1 (TASK-031-01) - –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:
- **–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä
- **Tooltip –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏:** –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø—Ä–æ—Ü–µ–Ω—Ç)
- **–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:** –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –ú–∞–∫—Å–∏–º—É–º 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≥–ª–æ–±–∞–ª—å–Ω–æ

### –≠—Ç–∞–ø 2 (TASK-031-02) - –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `prepareDoughnutChartEmployeeData()` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
- `formatEmployeeProgressBarData()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- `groupEmployeesByCount()` ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `calculateEmployeePercentages()` ‚Äî —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤

### –≠—Ç–∞–ø 3 (TASK-031-03) - –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `EmployeeDetailsModal.vue` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

---

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞

1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
3. –û–±–Ω–æ–≤–∏—Ç—å tooltip –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal` –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 4.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareDoughnutData()` –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

### 4.1.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 663-701

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏—è `prepareDoughnutData()` —Å–æ–∑–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã —Å —Å—É–º–º–∞—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —ç—Ç–∞–ø–∞–º.

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è), –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞ —ç—Ç–∞–ø–∞.

#### –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Chart.js –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
   - –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –∫–∞–∂–¥—ã–π —Å–µ–∫—Ç–æ—Ä

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareDoughnutChartEmployeeData()` –∏–∑ —ç—Ç–∞–ø–∞ 2
   - –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `dataset.meta` –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

```javascript
{
  labels: ['–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ', '–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó', '–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ'],
  datasets: [{
    label: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º',
    data: [25, 15, 20],
    backgroundColor: ['#007bff80', '#ffc10780', '#28a74580'],
    borderColor: ['#007bff', '#ffc107', '#28a745'],
    borderWidth: 2,
    meta: {
      // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
      employees: {
        formed: {
          stageName: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ',
          totalCount: 25,
          employees: [
            { id: 123, name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", count: 10, percentage: 40.0, progressBarWidth: 40.0 },
            // ... –¥—Ä—É–≥–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10)
          ],
          others: {
            count: 2,
            employeeCount: 1,
            percentage: 8.0,
            progressBarWidth: 8.0
          }
        },
        review: {
          // ... –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–∞–ø–∞ "–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó"
        },
        execution: {
          // ... –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–∞–ø–∞ "–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ"
        }
      }
    }
  }]
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ prepareDoughnutData()

```javascript
/**
 * –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
 */
function prepareDoughnutData(snapshotsData) {
  const { current, weekEnd } = snapshotsData;
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–µ–ø–æ–∫
  const source = current || weekEnd;
  if (!source || !source.statistics || !source.statistics.stages) {
    return null;
  }

  const labels = [];
  const data = [];
  const backgroundColor = [];
  const borderColor = [];
  const employeesMeta = {}; // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö

  stages.forEach(stage => {
    const count = source.statistics.stages[stage.id]?.count || 0;
    if (count > 0) {
      labels.push(stage.name);
      data.push(count);
      backgroundColor.push(stage.color + '80'); // –° –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
      borderColor.push(stage.color);
      
      // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è —ç—Ç–∞–ø–∞
      const employeeData = prepareDoughnutChartEmployeeData(stage.id, source);
      if (employeeData) {
        employeesMeta[stage.id] = employeeData;
      }
    }
  });

  if (data.length === 0) {
    return null;
  }

  return {
    labels,
    datasets: [{
      label: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º',
      data,
      backgroundColor,
      borderColor,
      borderWidth: 2,
      meta: {
        employees: employeesMeta
      }
    }]
  };
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareDoughnutChartEmployeeData()` –∏–∑ `employeeChartUtils.js`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareDoughnutData()` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `meta.employees`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

---

### 4.1.2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

#### –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–ª–µ–ø–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–±–æ—Ä–∞:**
1. `current` ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
2. `weekEnd` ‚Äî –∫–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
3. `weekStart` ‚Äî –Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏ (fallback)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ getSnapshotForDoughnut()

```javascript
/**
 * –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–ø–∫–∞ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
 * 
 * @param {Object} snapshotsData - –û–±—ä–µ–∫—Ç —Å —Å–ª–µ–ø–∫–∞–º–∏
 * @returns {Object|null} –°–ª–µ–ø–æ–∫ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
 */
function getSnapshotForDoughnut(snapshotsData) {
  const { current, weekEnd, weekStart } = snapshotsData;
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: current > weekEnd > weekStart
  return current || weekEnd || weekStart || null;
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getSnapshotForDoughnut()` (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Å–ª–µ–ø–∫–∞
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å–ª–µ–ø–∫—É

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 4.2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã

### 4.2.1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —Å–µ–∫—Ç–æ—Ä —ç—Ç–∞–ø–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º (—Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏).

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞

```javascript
/**
 * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
 * 
 * @param {Event} event - –°–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞
 * @param {Array} elements - –ú–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
 * @param {Object} chart - –≠–∫–∑–µ–º–ø–ª—è—Ä Chart.js
 */
function handleDoughnutChartClick(event, elements, chart) {
  if (chartType.value !== 'doughnut' || elements.length === 0) {
    return;
  }
  
  const element = elements[0];
  const index = element.index;
  
  // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∞
  const chartData = chart.data;
  const label = chartData.labels[index];
  
  // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID —ç—Ç–∞–ø–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
  const stageId = getStageIdFromLabel(label);
  
  // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  const employeesMeta = chartData.datasets[0].meta?.employees;
  const employeeData = employeesMeta?.[stageId];
  
  if (!employeeData) {
    console.warn('–î–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –¥–ª—è —ç—Ç–∞–ø–∞:', stageId);
    return;
  }
  
  // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
  openEmployeeDetailsModalForDoughnut(stageId, employeeData);
}
```

#### –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ID —ç—Ç–∞–ø–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

```javascript
/**
 * –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID —ç—Ç–∞–ø–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
 * 
 * @param {string} label - –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
 * @returns {string} ID —ç—Ç–∞–ø–∞ ('formed' | 'review' | 'execution')
 */
function getStageIdFromLabel(label) {
  const mapping = {
    '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ': 'formed',
    '–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó': 'review',
    '–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ': 'execution'
  };
  return mapping[label] || 'formed';
}
```

#### –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

```javascript
/**
 * –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
 * 
 * @param {string} stageId - ID —ç—Ç–∞–ø–∞
 * @param {Object} employeeData - –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
 */
function openEmployeeDetailsModalForDoughnut(stageId, employeeData) {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç EmployeeDetailsModal
  modalStageName.value = employeeData.stageName;
  modalTotalCount.value = employeeData.totalCount;
  modalEmployees.value = employeeData.employees;
  modalOthers.value = employeeData.others;
  showEmployeeModal.value = true;
}
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ chartOptions

```javascript
const chartOptions = computed(() => {
  const baseOptions = {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ü–∏–∏ ...
    onClick: (event, elements, chart) => {
      if (chartType.value === 'doughnut') {
        handleDoughnutChartClick(event, elements, chart);
      } else if (chartType.value === 'line') {
        handleLineChartClick(event, elements, chart);
      }
    }
  };
  // ...
});
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `handleDoughnutChartClick()`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getStageIdFromLabel()`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `openEmployeeDetailsModalForDoughnut()`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `chartOptions.onClick`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∏–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ—Ç

---

### 4.2.2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ–∫—Ç–æ—Ä–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –°–µ–∫—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω—è—Ç—å—Å—è –Ω–∞ pointer
- –í–æ–∑–º–æ–∂–Ω–æ, –¥–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç hover –¥–ª—è —Å–µ–∫—Ç–æ—Ä–æ–≤

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Chart.js –æ–ø—Ü–∏–∏

```javascript
const chartOptions = computed(() => {
  // ...
  if (chartType.value === 'doughnut') {
    return {
      ...baseOptions,
      onHover: (event, elements) => {
        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä
        event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
      }
    };
  }
  // ...
});
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onHover` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫—É—Ä—Å–æ—Ä –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 4.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tooltip –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã

### 4.3.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.label`

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 492-627 (chartOptions)

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.label`

```javascript
label: (context) => {
  // –î–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
  if (chartType.value === 'doughnut') {
    const label = context.label || '';
    const value = context.parsed || 0;
    
    // –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞
    const total = context.dataset.data.reduce((a, b) => a + b, 0);
    const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;
    
    return `${label}: ${value} —Ç–∏–∫–µ—Ç–æ–≤ (${percentage}%)`;
  }
  
  // –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤ - —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞
  // ...
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.afterBody`

```javascript
afterBody: (tooltipItems) => {
  // –î–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã - –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ
  if (chartType.value === 'doughnut' && tooltipItems.length > 0) {
    return ['–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º'];
  }
  
  // –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ
  if (chartType.value === 'line' && tooltipItems.length > 0) {
    return ['–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º'];
  }
  
  // –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
  // ...
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.label` –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.afterBody` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –≤ tooltip
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞—Ö
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ tooltip –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

---

### 4.3.2. –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ tooltip

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Tooltip –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–º –Ω–∞ –≤—Å–µ—Ö —Ñ–æ–Ω–∞—Ö
- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–º–µ—Ç–Ω–æ–π
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π tooltip (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

```javascript
tooltip: {
  backgroundColor: 'rgba(0, 0, 0, 0.8)',
  titleColor: '#fff',
  bodyColor: '#fff',
  borderColor: 'rgba(255, 255, 255, 0.1)',
  borderWidth: 1,
  padding: 12,
  titleFont: {
    size: 14,
    weight: 'bold'
  },
  bodyFont: {
    size: 13
  },
  footerFont: {
    size: 12,
    style: 'italic',
    color: '#ffc107' // –ñ—ë–ª—Ç—ã–π —Ü–≤–µ—Ç –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ –∫–ª–∏–∫–µ
  }
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ tooltip –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- [ ] –í—ã–¥–µ–ª–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–∏–º —Ü–≤–µ—Ç–æ–º)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å tooltip –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ–Ω–∞—Ö

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 4.4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### 4.4.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

**–§–∞–π–ª:** `vue-app/src/utils/graph-state/employeeChartUtils.js`

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è `prepareDoughnutChartEmployeeData()` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–º–∞–∫—Å–∏–º—É–º 10, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤ "–î—Ä—É–≥–∏–µ").

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º—É–º 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ "–î—Ä—É–≥–∏–µ"
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `prepareDoughnutChartEmployeeData()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø—Ä–∏ —Ä–∞–∑–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (1-10, 10, >10)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ "–î—Ä—É–≥–∏–µ" –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è "–î—Ä—É–≥–∏–µ" –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è

---

### 4.4.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

#### –°–ª—É—á–∞–π 1: –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö")
- Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

#### –°–ª—É—á–∞–π 2: –†–æ–≤–Ω–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—Å–µ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- "–î—Ä—É–≥–∏–µ" –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

#### –°–ª—É—á–∞–π 3: –ë–æ–ª–µ–µ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –¢–æ–ø-10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- "–î—Ä—É–≥–∏–µ" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ —Ç–∏–∫–µ—Ç–æ–≤

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

```javascript
function openEmployeeDetailsModalForDoughnut(stageId, employeeData) {
  if (!employeeData || !employeeData.employees || employeeData.employees.length === 0) {
    // –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö
    notifications.warning('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞');
    return;
  }
  
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç EmployeeDetailsModal
  modalStageName.value = employeeData.stageName;
  modalTotalCount.value = employeeData.totalCount;
  modalEmployees.value = employeeData.employees;
  modalOthers.value = employeeData.others && employeeData.others.count > 0
    ? employeeData.others
    : null;
  showEmployeeModal.value = true;
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª—É—á–∞—è —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª—É—á–∞—è —Å —Ä–æ–≤–Ω–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª—É—á–∞—è —Å >10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 4.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

### 4.5.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ EmployeeDetailsModal

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal` —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ —ç—Ç–∞–ø–µ 3 –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞.

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Ç–µ –∂–µ props.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```vue
<template>
  <!-- ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ... -->
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏ –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã -->
  <EmployeeDetailsModal
    v-if="showEmployeeModal"
    :is-visible="showEmployeeModal"
    :stage-name="modalStageName"
    :total-count="modalTotalCount"
    :employees="modalEmployees"
    :others="modalOthers"
    @close="closeEmployeeModal"
  />
</template>
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal` —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏–∑ –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

### 4.5.2. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–í —ç—Ç–∞–ø–µ 3 —Å–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `openEmployeeDetailsModal()` –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞.

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é.

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```javascript
/**
 * –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
 * 
 * @param {string} stageName - –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
 * @param {number} totalCount - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
 * @param {Array} employees - –ú–∞—Å—Å–∏–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
 * @param {Object} others - –î–∞–Ω–Ω—ã–µ –æ –≥—Ä—É–ø–ø–µ "–î—Ä—É–≥–∏–µ" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
 */
function openEmployeeDetailsModal(stageName, totalCount, employees, others = null) {
  modalStageName.value = stageName;
  modalTotalCount.value = totalCount;
  modalEmployees.value = employees;
  modalOthers.value = others && others.count > 0 ? others : null;
  showEmployeeModal.value = true;
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏

```javascript
// –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
function openEmployeeDetailsModalForLine(stageId, timePoint, employeeData) {
  const stage = stages.find(s => s.id === stageId);
  const snapshot = getSnapshotByTimePoint(timePoint);
  const totalCount = getStageTotalCount(stageId, snapshot);
  const formatted = formatEmployeeProgressBarData(employeeData, totalCount, 10);
  
  openEmployeeDetailsModal(stage.name, totalCount, formatted.employees, formatted.others);
}

// –î–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
function openEmployeeDetailsModalForDoughnut(stageId, employeeData) {
  openEmployeeDetailsModal(
    employeeData.stageName,
    employeeData.totalCount,
    employeeData.employees,
    employeeData.others
  );
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–¥—Ö–æ–¥ –∫ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –æ–±–µ—Ä—Ç–∫–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —ç—Ç–∞–ø–∞

### –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:

- [ ] Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä
- [ ] Tooltip —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–∫–ª–∏–∫ –≤–Ω–µ, Escape, –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è)
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ—Ç

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:

- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
- [ ] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:

- [ ] –ö—É—Ä—Å–æ—Ä –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ pointer –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä
- [ ] –ö–ª–∏–∫ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤ "–î—Ä—É–≥–∏–µ" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —ç—Ç–∞–ø–∞ 2 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal` –∏–∑ —ç—Ç–∞–ø–∞ 3 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [ ] –°—Ç–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≥–∞–π–¥–ª–∞–π–Ω–∞–º Bitrix24 UI Kit
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —ç—Ç–∞–ø–∞–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã tooltips –Ω–∞ –≤—Å–µ—Ö —Å–µ–∫—Ç–æ—Ä–∞—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ —Ä–∞–∑–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 1. –¢–µ—Å—Ç –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip**
- –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä —ç—Ç–∞–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø—Ä–æ—Ü–µ–Ω—Ç)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞**
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å–µ–∫—Ç–æ—Ä —ç—Ç–∞–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞**
- –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "√ó"
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏—à—É Escape

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –†–∞–∑–Ω—ã–µ —ç—Ç–∞–ø—ã**
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å–µ–∫—Ç–æ—Ä "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å–µ–∫—Ç–æ—Ä "–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

#### 2. –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–∞–ø –±–µ–∑ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–æ–≤–Ω–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–∞–ø —Å —Ä–æ–≤–Ω–æ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ 10 –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, "–î—Ä—É–≥–∏–µ" –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ë–æ–ª–µ–µ 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–∞–ø —Å >10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–ø-10 –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, "–î—Ä—É–≥–∏–µ" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`vue-app/src/components/graph-state/GraphStateChart.vue`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareDoughnutData()` —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `chartOptions` –¥–ª—è tooltips
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `EmployeeDetailsModal`

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:

1. **`vue-app/src/utils/graph-state/employeeChartUtils.js`**
   - –§—É–Ω–∫—Ü–∏—è `prepareDoughnutChartEmployeeData()`

2. **`vue-app/src/components/graph-state/EmployeeDetailsModal.vue`**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (—Å–æ–∑–¥–∞–Ω –≤ —ç—Ç–∞–ø–µ 3)

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:
- `vue-app/src/components/graph-state/GraphStateChart.vue` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞
- `vue-app/src/utils/graph-state/employeeChartUtils.js` ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `vue-app/src/components/graph-state/EmployeeDetailsModal.vue` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `DOCS/TASKS/TASK-031-integrate-employee-details-into-charts.md` ‚Äî —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞
- `DOCS/TASKS/TASK-031-01-analysis-and-design.md` ‚Äî —ç—Ç–∞–ø 1 (–∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `DOCS/TASKS/TASK-031-02-prepare-employee-data.md` ‚Äî —ç—Ç–∞–ø 2 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
- `DOCS/TASKS/TASK-031-03-integrate-line-and-bar-charts.md` ‚Äî —ç—Ç–∞–ø 3 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ª–∏–Ω–µ–π–Ω—ã–π –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫–∏)

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤

–≠—Ç–∞–ø 4 –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç—Ç–∞–ø–æ–≤ 1, 2 –∏ 3:
- –í—ã–±—Ä–∞–Ω–Ω—ã–µ UX-—Ä–µ—à–µ–Ω–∏—è (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ)
- –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal`
- –§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã)

### –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 4:
- **–≠—Ç–∞–ø 5:** –£–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –°—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–Ω—å—à–µ
   - –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö

2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal`
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–æ
   - Tooltips –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–¥–ª—è—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∫—É –≥—Ä–∞—Ñ–∏–∫–∞

4. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - Tooltips –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–º–∏ –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-11 15:33 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ TASK-031-04 –¥–ª—è —ç—Ç–∞–ø–∞ 4 "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É"

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 4:
1. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç—Ç–∞–ø—É 5: –£–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
4. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

