# TASK-080: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –¥–ª—è —Ä–µ–∂–∏–º–∞ "4 –Ω–µ–¥–µ–ª–∏"

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-10 10:30 (UTC+3, –ë—Ä–µ—Å—Ç)
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ (–Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–æ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Backend Developer (PHP)
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** [TASK-076: –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–µ–π —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏](./TASK-076-manual-cache-creation-with-notifications.md)
**–ü–æ–¥–∑–∞–¥–∞—á–∞:** –≠—Ç–∞–ø –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –¥–ª—è —Ä–µ–∂–∏–º–∞ "4 –Ω–µ–¥–µ–ª–∏" –≤ –º–æ–¥—É–ª–µ "–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–∏—ë–º–∞ –∏ –∑–∞–∫—Ä—ã—Ç–∏–π —Å–µ–∫—Ç–æ—Ä–∞ 1–°". –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–¥—É–ª—è.

**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø—É—Å–∫–∞ –º–æ–¥—É–ª—è (–ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ vs. —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞ —á–µ—Ä–µ–∑ "–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º").

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–≥–¥–∞ –º–æ–¥—É–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é: –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–µ—Ä–Ω–æ
- –ö–æ–≥–¥–∞ –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ "üóëÔ∏è –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º": –¥–∞–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–æ–¥—É–ª–µ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–±–∏—Ä–∞—é—Ç—Å—è

**–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–î–≤–∞ —Ç–∏–ø–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ GraphAdmissionClosureService:**
   - **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** (exact cache): –∫–µ—à –ø–æ –ø–æ–ª–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∑–∞–ø—Ä–æ—Å–∞
   - **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à** (universal cache): –∫–µ—à –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

2. **–†–∞–∑–ª–∏—á–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö:**

   **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à (cache-create.php):**
   ```php
   $defaultParams = [
       'includeTickets' => true,
       'includeNewTicketsByStages' => true,
       'includeCarryoverTickets' => false,          // ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ false
       'includeCarryoverTicketsByDuration' => true
   ];
   ```

   **–ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ –º–æ–¥—É–ª—è (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å):**
   ```php
   $payload = [
       'includeTickets' => true,
       'includeNewTicketsByStages' => true,
       'includeCarryoverTickets' => true,           // ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å true
       'includeCarryoverTicketsByDuration' => true
   ];
   ```

3. **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏—Ö —Ç–∏–∫–µ—Ç–æ–≤
   - –ü—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à (–µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç)
   - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –Ω–µ–ø–æ–ª–Ω—ã–º–∏ (–±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏—Ö —Ç–∏–∫–µ—Ç–æ–≤)

### –¢—Ä–µ–±—É–µ—Ç—Å—è:

- –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- –ò–ª–∏ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤ –ø–æ–ª—å–∑—É —Ç–æ—á–Ω–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

---

## üèóÔ∏è –ú–æ–¥—É–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:

- `api/admin/cache-create.php` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –¥–ª—è weeks —Ä–µ–∂–∏–º–∞
- `api/graph-admission-closure/service/GraphAdmissionClosureService.php` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–µ—à–∞

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **–û—Ç –∑–∞–¥–∞—á:**
  - TASK-076: –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–µ–π —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
  - TASK-068-03: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–µ–∂–∏–º–∞ "weeks"

- **–û—Ç –º–æ–¥—É–ª–µ–π:**
  - GraphAdmissionClosureService
  - cache-create.php endpoint

---

## üéØ –°—Ç—É–ø–µ–Ω—á–∞—Ç—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 1: –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–¶–µ–ª—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Vue.js –¥–ª—è —Ä–µ–∂–∏–º–∞ "weeks".

**–®–∞–≥–∏:**

1. **–ò–∑—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GraphAdmissionClosureDashboard.vue**
   - –ù–∞–π—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ API –¥–ª—è —Ä–µ–∂–∏–º–∞ "weeks"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

2. **–ò–∑—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GraphAdmissionClosureChart.vue**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è weeks —Ä–µ–∂–∏–º–∞
- [x] –°–æ—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞

**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

**–®–∞–≥–∏:**

1. **–û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ cache-create.php**
   ```php
   // –ë—ã–ª–æ:
   'includeCarryoverTickets' => false,
   'includeCarryoverTicketsByDuration' => true

   // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å (–µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç true):
   'includeCarryoverTickets' => true,
   'includeCarryoverTicketsByDuration' => true
   ```

2. **–ò–ª–∏ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞**
   - –£–±—Ä–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à –¥–ª—è weeks —Ä–µ–∂–∏–º–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [x] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- [x] –î–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞—Ö –∑–∞–ø—É—Å–∫–∞

---

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ –∏ —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞.

**–®–∞–≥–∏:**

1. **–°–æ–∑–¥–∞—Ç—å –∫–µ—à —á–µ—Ä–µ–∑ "–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º"**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥—É–ª—å –Ω–∞–ø—Ä—è–º—É—é —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**
3. **–°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ cache hit**

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [x] –î–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞—Ö –∑–∞–ø—É—Å–∫–∞
- [x] Cache hit —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ù–µ—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç–∏–∫–µ—Ç–æ–≤

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

1. **cache-create.php (—Å—Ç—Ä–æ–∫–∏ 261-270):**
   ```php
   $defaultParams = [
       'product' => '1C',
       'periodMode' => 'weeks',
       'weekStartUtc' => $weekStart->format('Y-m-d\TH:i:s\Z'),
       'weekEndUtc' => $weekEnd->format('Y-m-d\TH:i:s\Z'),
       'includeTickets' => true,
       'includeNewTicketsByStages' => true,
       'includeCarryoverTickets' => true,          // TASK-080: –ò–∑–º–µ–Ω–µ–Ω–æ —Å false –Ω–∞ true
       'includeCarryoverTicketsByDuration' => true
   ];
   ```

2. **GraphAdmissionClosureCache.php (—Å—Ç—Ä–æ–∫–∏ 371-382):**
   ```php
   $universalParams = [
       'product' => '1C',
       'periodMode' => 'weeks',
       'weekStartUtc' => $weekStartUtc,
       'weekEndUtc' => $weekEndUtc,
       'includeTickets' => true,
       'includeNewTicketsByStages' => true,
       'includeCarryoverTickets' => true,           // TASK-080: –ò–∑–º–µ–Ω–µ–Ω–æ —Å false –Ω–∞ true
       'includeCarryoverTicketsByDuration' => true,
       '_cache_version' => 'v2'                      // TASK-080: –í–µ—Ä—Å–∏—è –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö –∫–µ—à–µ–π
   ];
   ```

3. **GraphAdmissionClosureDashboard.vue (—Å—Ç—Ä–æ–∫–∏ 308-316 –∏ 455-464):**
   ```javascript
   fetchAdmissionClosureStats({
     product: '1C',
     periodMode: 'weeks',
     weekStartUtc,
     weekEndUtc,
     includeTickets: true,
     includeNewTicketsByStages: true,
     includeCarryoverTickets: true,             // TASK-080: –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
     includeCarryoverTicketsByDuration: true
   })
   ```

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∫–µ—à–∞ (universal/exact) –≤ cache-create.php
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤ GraphAdmissionClosureService.php

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- [x] –î–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø—É—Å–∫–∞
- [x] –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- [x] Cache hit —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø—É—Å–∫–∞
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [x] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PSR-12

### –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
```php
// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
$universalParams = [
   'includeCarryoverTickets' => true,  // TASK-080: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å false –Ω–∞ true
   'includeTickets' => true,
   'includeNewTicketsByStages' => true,
   'includeCarryoverTicketsByDuration' => true,
   '_cache_version' => 'v2'             // TASK-080: –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
];
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:**
- –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—è –Ω–∞–ø—Ä—è–º—É—é: –¥–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ (includeCarryoverTickets=true)
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞ —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¥–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à v2)
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫: cache hit, –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
- –°—Ç–∞—Ä—ã–µ –∫–µ—à–∏ (v1) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–¢–µ—Å—Ç 1: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥—É–ª—å –Ω–∞–ø—Ä—è–º—É—é
   curl -X POST /api/graph-admission-closure/bootstrap.php \
     -d '{"periodMode":"weeks","includeCarryoverTickets":true}'
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   ```

2. **–¢–µ—Å—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞ —á–µ—Ä–µ–∑ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å –∫–µ—à —á–µ—Ä–µ–∑ API
   curl -X POST /api/admin/cache-create.php \
     -d '{"module_id":"graph-admission-closure-weeks"}'
   ```

3. **–¢–µ—Å—Ç 3: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥—É–ª—å —Å–Ω–æ–≤–∞ - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å cache hit
   curl -X POST /api/graph-admission-closure/bootstrap.php \
     -d '{"periodMode":"weeks","includeCarryoverTickets":true}'
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cache hit –≤ –ª–æ–≥–∞—Ö
   ```

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –†–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ API –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–¥–∏–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è weeks —Ä–µ–∂–∏–º–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–µ—à —Å includeCarryoverTickets=true –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∫–∞–∑ –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤ –ø–æ–ª—å–∑—É —Ç–æ—á–Ω–æ–≥–æ
- –ò–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏—Ö —Ç–∏–∫–µ—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–µ—à–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- –û—á–∏—Å—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–µ—à–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π –∫–µ—à–∞

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [TASK-076: –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–µ–π —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏](./TASK-076-manual-cache-creation-with-notifications.md)
- [TASK-068-03: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–µ–∂–∏–º–∞ "weeks"](./TASK-068-03-add-cache-to-service.md)
- [GraphAdmissionClosureService.php](../../../api/graph-admission-closure/service/GraphAdmissionClosureService.php)
- [cache-create.php](../../../api/admin/cache-create.php)

---

## üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-01-10 10:30 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞
- **2025-01-10 12:00 (UTC+3, –ë—Ä–µ—Å—Ç):** –ó–∞–¥–∞—á–∞ –≤–∑—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É, –Ω–∞—á–∞—Ç –∞–Ω–∞–ª–∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **2025-01-10 13:00 (UTC+3, –ë—Ä–µ—Å—Ç):** –ù–∞–π–¥–µ–Ω–∞ –∫–æ—Ä–µ–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª includeCarryoverTickets
- **2025-01-10 13:30 (UTC+3, –ë—Ä–µ—Å—Ç):** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ cache-create.php, GraphAdmissionClosureCache.php –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Vue.js
- **2025-01-10 13:45 (UTC+3, –ë—Ä–µ—Å—Ç):** –î–æ–±–∞–≤–ª–µ–Ω–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **2025-01-10 14:00 (UTC+3, –ë—Ä–µ—Å—Ç):** –ó–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –æ–±–µ—Å–ø–µ—á–µ–Ω–∞

---

## ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –≤—ã—è–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

**–°–∏–º–ø—Ç–æ–º—ã:**
- –†—É—á–Ω–æ–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥—É–ª—è "–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–∏–µ–º–∞ –∏ –∑–∞–∫—Ä—ã—Ç–∏–π —Å–µ–∫—Ç–æ—Ä–∞ 1–°" –Ω–∞–ø—Ä—è–º—É—é –∫–µ—à –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ (cache miss)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–†–∞–∑–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ–¥–µ–ª—å:** –†—É—á–Ω–æ–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –Ω–µ–¥–µ–ª—å –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è, –º–æ–¥—É–ª—å - –Ω–∞ –º–æ–º–µ–Ω—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è
2. **–ö–æ—Ä–æ—Ç–∫–∏–π TTL:** –ö–µ—à –∏—Å—Ç–µ–∫–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ (TTL = 120 —Å–µ–∫ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–µ—à–∞, 300 —Å–µ–∫ –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ)
3. **–†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏:** –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ–¥–µ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É TASK-081 –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è.

---

**–ê–≤—Ç–æ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0