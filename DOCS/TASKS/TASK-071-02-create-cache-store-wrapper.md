# TASK-071-02: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ë—Ä—Ç–∫–∏ CacheStore

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-23 18:03 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Backend Developer (PHP)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** [TASK-071: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–æ–¥—É–ª—è "–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–∏–∫–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ 1–°"](./TASK-071-cache-time-tracking-sector-1c.md)  
**–ü–æ–¥–∑–∞–¥–∞—á–∞:** –≠—Ç–∞–ø 2 –∏–∑ TASK-071

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É `CacheStore` –Ω–∞–¥ `TimeTrackingCache` –¥–ª—è –º–æ–¥—É–ª—è "–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–∏–∫–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ 1–°", –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `api/graph-admission-closure/cache/CacheStore.php`. –û–±—ë—Ä—Ç–∫–∞ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–º –ø–µ—Ä–µ–Ω–æ—Å–µ –ª–æ–≥–∏–∫–∏, –Ω–µ –º–µ–Ω—è—è —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–µ–π/TTL/—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö.

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–µ—à–µ–º –≤ –º–æ–¥—É–ª–µ.

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

- –ö–ª–∞—Å—Å `TimeTrackingCache` —Å–æ–∑–¥–∞–Ω (TASK-071-01)
- –ù–µ—Ç –æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–µ—à–µ–º –≤ –º–æ–¥—É–ª–µ
- –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: `CacheStore` –≤ `api/graph-admission-closure/cache/CacheStore.php`

### –¢—Ä–µ–±—É–µ—Ç—Å—è:

- –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `CacheStore` –¥–ª—è –º–æ–¥—É–ª—è "–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–∏–∫–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ 1–°"
- –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã –≤ `TimeTrackingCache`
- –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—É–¥—É—â–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

---

## üèóÔ∏è –ú–æ–¥—É–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

- `api/tickets-time-tracking-sector-1c/cache/CacheStore.php` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ `TimeTrackingCache`

### –ù–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

- `api/tickets-time-tracking-sector-1c/cache/` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–ª–∞—Å—Å–∞ –æ–±—ë—Ä—Ç–∫–∏

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **–û—Ç –∑–∞–¥–∞—á:** 
  - TASK-071-01: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ TimeTrackingCache (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
  - TASK-071: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–æ–¥—É–ª—è "–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–∏–∫–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ 1–°"
- **–û—Ç –º–æ–¥—É–ª–µ–π:** 
  - –ö–ª–∞—Å—Å: `TimeTrackingCache` –≤ `api/cache/TimeTrackingCache.php`
  - –†–µ—Ñ–µ—Ä–µ–Ω—Å: `CacheStore` –≤ `api/graph-admission-closure/cache/CacheStore.php`
- **–û—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫:** 
  - PHP 8.4+

---

## üéØ –°—Ç—É–ø–µ–Ω—á–∞—Ç—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–ª–∞—Å—Å–∞ CacheStore

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–ª–∞—Å—Å–∞ –æ–±—ë—Ä—Ç–∫–∏.

**–®–∞–≥–∏:**

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `cache/`**
   ```bash
   # –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
   mkdir -p api/tickets-time-tracking-sector-1c/cache
   
   # –ò–ª–∏ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
   mkdir -p /var/www/app/public/rest_api_aps/sd_it_gen_plan/api/tickets-time-tracking-sector-1c/cache
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π**
   ```bash
   ls -la api/tickets-time-tracking-sector-1c/
   # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è cache/
   ```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `cache/` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ

---

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 2.2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ CacheStore

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `CacheStore` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ –≤ `TimeTrackingCache`.

**–®–∞–≥–∏:**

1. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `api/tickets-time-tracking-sector-1c/cache/CacheStore.php`**

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å `TimeTrackingCache`**
   - –î–æ–±–∞–≤–∏—Ç—å `require_once` –¥–ª—è `TimeTrackingCache`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∞

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞:**
   - `get(string $key): ?array` ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `TimeTrackingCache::get()`
   - `set(string $key, array $data, int $ttl = 300): bool` ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `TimeTrackingCache::set()`
   - `generateKey(array $params): string` ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `TimeTrackingCache::generateKey()`
   - `clearExpired(): int` ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `TimeTrackingCache::clearExpired()`

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```php
<?php

require_once __DIR__ . '/../../cache/TimeTrackingCache.php';

/**
 * TASK-071-02: –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ TimeTrackingCache
 * 
 * –ü–æ–∑–≤–æ–ª–∏—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–º –ø–µ—Ä–µ–Ω–æ—Å–µ –ª–æ–≥–∏–∫–∏,
 * –Ω–µ –º–µ–Ω—è—è —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–µ–π/TTL/—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö.
 * 
 * –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: api/tickets-time-tracking-sector-1c/cache/CacheStore.php
 * 
 * –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ: api/graph-admission-closure/cache/CacheStore.php
 */
class CacheStore
{
    /**
     * –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞
     * 
     * @param string $key –ö–ª—é—á –∫–µ—à–∞
     * @return array|null –î–∞–Ω–Ω—ã–µ –∏–ª–∏ null, –µ—Å–ª–∏ –∫–µ—à –Ω–µ –Ω–∞–π–¥–µ–Ω/–∏—Å—Ç—ë–∫
     */
    public function get(string $key): ?array
    {
        return TimeTrackingCache::get($key);
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–µ—à
     * 
     * @param string $key –ö–ª—é—á –∫–µ—à–∞
     * @param array $data –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
     * @param int $ttl TTL –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç)
     * @return bool true –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ
     */
    public function set(string $key, array $data, int $ttl = 300): bool
    {
        return TimeTrackingCache::set($key, $data, $ttl);
    }

    /**
     * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –∫–µ—à–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞
     * 
     * @param array $params –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
     * @return string –ö–ª—é—á –∫–µ—à–∞
     */
    public function generateKey(array $params): string
    {
        return TimeTrackingCache::generateKey($params);
    }

    /**
     * –û—á–∏—Å—Ç–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –∫–µ—à–∞
     * 
     * @return int –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
     */
    public function clearExpired(): int
    {
        return TimeTrackingCache::clearExpired();
    }
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ö–ª–∞—Å—Å `CacheStore` —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –ú–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –≤—ã–∑–æ–≤—ã –≤ `TimeTrackingCache`
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ TASK-071-02
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PSR-12

---

### –ü–æ–¥–∑–∞–¥–∞—á–∞ 2.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å TimeTrackingCache

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã `CacheStore` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å `TimeTrackingCache`.

**–®–∞–≥–∏:**

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - –ü—É—Ç—å `__DIR__ . '/../../cache/TimeTrackingCache.php'` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º
   - –§–∞–π–ª `TimeTrackingCache.php` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤**
   - –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ `CacheStore` –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `TimeTrackingCache`
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ü—É—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–≤–ø–∞–¥–∞—é—Ç

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞:

```php
class CacheStore
{
    public function get(string $key): ?array
    public function set(string $key, array $data, int $ttl = 300): bool
    public function generateKey(array $params): string
    public function clearExpired(): int
}
```

### –ü—É—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å:** `__DIR__ . '/../../cache/TimeTrackingCache.php'`
- **–ü–æ–ª–Ω—ã–π –ø—É—Ç—å:** `api/cache/TimeTrackingCache.php` (–æ—Ç –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

- –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –Ω–∞–ø—Ä—è–º—É—é –≤ `TimeTrackingCache`
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- [ ] –ö–ª–∞—Å—Å `CacheStore` —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –≤—ã–∑–æ–≤—ã –≤ `TimeTrackingCache`
- [ ] –ö–ª–∞—Å—Å –ø–æ–¥–∫–ª—é—á—ë–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—É—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `TimeTrackingCache` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å `TimeTrackingCache`
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PSR-12
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ TASK-071-02

### –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–ª–∞—Å—Å–∞:**
```php
// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã:
public function get(string $key): ?array
public function set(string $key, array $data, int $ttl = 300): bool
public function generateKey(array $params): string
public function clearExpired(): int
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```php
// –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å TimeTrackingCache
public function get(string $key): ?array
{
    return TimeTrackingCache::get($key);
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–¢–µ—Å—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è get():**
   ```php
   $cacheStore = new CacheStore();
   $key = 'time_tracking_test_key';
   $data = ['test' => 'data'];
   TimeTrackingCache::set($key, $data, 60);
   $cached = $cacheStore->get($key);
   assert($cached === $data, 'CacheStore::get() should delegate to TimeTrackingCache');
   ```

2. **–¢–µ—Å—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è set():**
   ```php
   $cacheStore = new CacheStore();
   $key = 'time_tracking_test_key_2';
   $data = ['test' => 'data'];
   $result = $cacheStore->set($key, $data, 60);
   assert($result === true, 'CacheStore::set() should delegate to TimeTrackingCache');
   $cached = TimeTrackingCache::get($key);
   assert($cached === $data, 'Data should be cached');
   ```

3. **–¢–µ—Å—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è generateKey():**
   ```php
   $cacheStore = new CacheStore();
   $params = ['product' => '1C', 'page' => 1];
   $key1 = $cacheStore->generateKey($params);
   $key2 = TimeTrackingCache::generateKey($params);
   assert($key1 === $key2, 'CacheStore::generateKey() should delegate to TimeTrackingCache');
   ```

4. **–¢–µ—Å—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è clearExpired():**
   ```php
   $cacheStore = new CacheStore();
   $deleted1 = $cacheStore->clearExpired();
   $deleted2 = TimeTrackingCache::clearExpired();
   // –û–±–∞ –≤—ã–∑–æ–≤–∞ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ
   assert($deleted1 >= 0 && $deleted2 >= 0, 'clearExpired() should work');
   ```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CacheStore:

```php
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
$cacheStore = new CacheStore();

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
$params = [
    'product' => '1C',
    'weekStartUtc' => '2025-12-16T00:00:00Z',
    'weekEndUtc' => '2025-12-22T23:59:59Z'
];
$cacheKey = $cacheStore->generateKey($params);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–µ—à–∞
$cachedData = $cacheStore->get($cacheKey);
if ($cachedData !== null) {
    return $cachedData; // –í–æ–∑–≤—Ä–∞—Ç –∏–∑ –∫–µ—à–∞
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–µ—à
$response = ['success' => true, 'data' => [...]];
$cacheStore->set($cacheKey, $response, 300);

// –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–µ—à–µ–π
$deleted = $cacheStore->clearExpired();
```

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Ç—å `__DIR__ . '/../../cache/TimeTrackingCache.php'` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
  - `api/tickets-time-tracking-sector-1c/cache/CacheStore.php` (—Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª)
  - `api/cache/TimeTrackingCache.php` (–ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–π —Ñ–∞–π–ª)
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å: `__DIR__` ‚Üí `api/tickets-time-tracking-sector-1c/cache/`
- –ü–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ 2 —É—Ä–æ–≤–Ω—è: `../../` ‚Üí `api/`
- –í–æ–π—Ç–∏ –≤ `cache/`: `cache/TimeTrackingCache.php`
- **–ò—Ç–æ–≥–æ–≤—ã–π –ø—É—Ç—å:** `__DIR__ . '/../../cache/TimeTrackingCache.php'`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–ª–∞—Å—Å TimeTrackingCache –Ω–µ –Ω–∞–π–¥–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ `TimeTrackingCache` –Ω–µ —Å–æ–∑–¥–∞–Ω (TASK-071-01 –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞), –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ TASK-071-01 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º TASK-071-02
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `api/cache/TimeTrackingCache.php`

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [TASK-071: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–æ–¥—É–ª—è "–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–∏–∫–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ 1–°"](./TASK-071-cache-time-tracking-sector-1c.md)
- [TASK-071-01: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ TimeTrackingCache](./TASK-071-01-create-time-tracking-cache.md)
- [TASK-065-8: –ö–µ—à –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (CacheStore.php)](./TASK-065-8-cache-logging.md) (—Ä–µ—Ñ–µ—Ä–µ–Ω—Å)

---

## üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-23 18:03 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∞ TASK-071-02 –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ë—Ä—Ç–∫–∏ CacheStore

---

**–ê–≤—Ç–æ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

