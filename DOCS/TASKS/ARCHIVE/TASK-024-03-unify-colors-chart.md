# TASK-024-03: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –≤ GraphStateChart

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-11 11:44 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-024 (–≠—Ç–∞–ø 3)

---

## üìã –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Bitrix24 UI Kit –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `GraphStateChart.vue`. –û–±–µ—Å–ø–µ—á–∏—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã, —É–ª—É—á—à–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–∞–π–¥–ª–∞–π–Ω–∞–º Bitrix24 –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∞–∑—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã —Å –ª–µ–≥–µ–Ω–¥–æ–π/–ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏.

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `GraphStateChart.vue` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–±–æ—Ä –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏, –ª–µ–≥–µ–Ω–¥–∞, –∫–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç—ã, —Ñ–æ–Ω–æ–≤—ã–µ –±–ª–æ–∫–∏, –æ—à–∏–±–∫–∏). –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (TASK-024-01) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Bitrix24.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- ‚úÖ TASK-024-01 (—Å–∏—Å—Ç–µ–º–∞ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞)
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞ TASK-024
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `GraphStateChart.vue` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–í–ª–∏—è–µ—Ç –Ω–∞:**
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤–∏–¥ –≥—Ä–∞—Ñ–∏–∫–∞ –∏ –ª–µ–≥–µ–Ω–¥—ã
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–∞–π–¥–ª–∞–π–Ω–∞–º Bitrix24
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã TASK-024 (–ª–µ–≥–µ–Ω–¥–∞, –ø–æ–¥—Å–∫–∞–∑–∫–∏, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)

---

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö —Ü–≤–µ—Ç–æ–≤ (GraphStateChart.vue)

### –û—Å–Ω–æ–≤–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ —Å —Ü–≤–µ—Ç–∞–º–∏

1) **–õ–µ–≥–µ–Ω–¥–∞ —Ç—Ä–µ–Ω–¥–æ–≤**  
- `#10b981` (—Ä–æ—Å—Ç), `#ef4444` (—Å–Ω–∏–∂–µ–Ω–∏–µ), `#9ca3af` (—Å—Ç–∞–±–∏–ª—å–Ω–æ)

2) **–¶–≤–µ—Ç–∞ —ç—Ç–∞–ø–æ–≤ (stages)**  
- formed: `#007bff`  
- review: `#ffc107`  
- execution: `#28a745`

3) **–¶–≤–µ—Ç–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –≤ JS (getTrendColor)**  
- increase: `#10b981`, `#059669`  
- decrease: `#ef4444`, `#dc2626`  
- stable: `#9ca3af`, `#6b7280`  
- fallback: `#6c757d`

4) **UI-—ç–ª–µ–º–µ–Ω—Ç—ã (CSS)**  
- –¢–µ–∫—Å—Ç: `#333`, `#666`, `#999`, `#1f2937`  
- –ö–Ω–æ–ø–∫–∏/–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏: `#007bff`, `#0056b3`, `#dc3545`  
- –ì—Ä–∞–Ω–∏—Ü—ã: `#ddd`, `#e5e7eb`  
- –§–æ–Ω—ã: `#f5f5f5`, `#f8f9fa`, `#f9fafb`, `#f3f4f6`, `#fffbeb`, `#fef3c7`, `#ffffff`

5) **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**  
- –õ–µ–≤—ã–π –±–æ—Ä–¥–µ—Ä: `#3b82f6` (–æ–±—ã—á–Ω—ã–µ), `#f59e0b` (keeper)  
- –§–æ–Ω—ã –∫–∞—Ä—Ç–æ—á–µ–∫: `#f9fafb`, hover `#f3f4f6`, keeper —Ñ–æ–Ω `#fffbeb`, hover keeper `#fef3c7`

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–∏–Ω—Ü–∏–ø –∑–∞–º–µ–Ω—ã
1. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `bitrix24-ui-variables.css` (TASK-024-01)  
2. –î–ª—è JS-—Ü–≤–µ—Ç–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏/–ª–µ–≥–µ–Ω–¥—ã) —á–∏—Ç–∞–µ–º CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `getComputedStyle` —Å fallback  
3. –î–ª—è CSS –∑–∞–º–µ–Ω—è–µ–º hex ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`var(--b24-*)`, `var(--spacing-*)`, `var(--radius-*)`)  
4. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ–º–∞–Ω—Ç–∏–∫—É: primary/ warning/ success/ danger/ muted  

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–º–µ–Ω
- –ì—Ä–∞—Ñ–∏–∫–∏/–ª–µ–≥–µ–Ω–¥–∞ (JS + inline style)  
- –ö–Ω–æ–ø–∫–∏/–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏  
- –¢–µ–∫—Å—Ç –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏  
- –§–æ–Ω—ã –∏ –≥—Ä–∞–Ω–∏—Ü—ã  
- –û—à–∏–±–∫–∏/—Å–æ—Å—Ç–æ—è–Ω–∏—è  
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `bitrix24-ui-variables.css` –ø–æ–¥–∫–ª—é—á–µ–Ω (TASK-024-01)
- –°–¥–µ–ª–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤—ã—à–µ)
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É —á—Ç–µ–Ω–∏—è CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ JS:
```js
const cssVar = (name, fallback) => {
  const value = getComputedStyle(document.documentElement).getPropertyValue(name).trim();
  return value || fallback;
};
```

### –®–∞–≥ 2: –õ–µ–≥–µ–Ω–¥–∞ —Ç—Ä–µ–Ω–¥–æ–≤ (inline style)
- –ù–∞–π—Ç–∏:
```html
<span class="legend-color" style="background-color: #10b981;"></span>
<span class="legend-color" style="background-color: #ef4444;"></span>
<span class="legend-color" style="background-color: #9ca3af;"></span>
```
- –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
```html
<span class="legend-color legend-increase"></span>
<span class="legend-color legend-decrease"></span>
<span class="legend-color legend-stable"></span>
```
- –ò –≤ `<style scoped>`:
```css
.legend-increase { background-color: var(--b24-success); }
.legend-decrease { background-color: var(--b24-danger); }
.legend-stable   { background-color: var(--b24-text-muted); }
```

### –®–∞–≥ 3: –¶–≤–µ—Ç–∞ —ç—Ç–∞–ø–æ–≤ (stages array)
- –ù–∞–π—Ç–∏ –º–∞—Å—Å–∏–≤ stages:
```js
{ id: 'formed', color: '#007bff' },
{ id: 'review', color: '#ffc107' },
{ id: 'execution', color: '#28a745' }
```
- –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
```js
const stageColors = {
  formed: cssVar('--b24-primary', '#007bff'),
  review: cssVar('--b24-warning', '#ffc107'),
  execution: cssVar('--b24-success', '#28a745')
};

const stages = [
  { id: 'formed', name: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ', color: stageColors.formed },
  { id: 'review', name: '–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó', color: stageColors.review },
  { id: 'execution', name: '–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ', color: stageColors.execution }
];
```
(–µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Ç–∏–ª–∏—Ç—É ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å hex, –Ω–æ –æ–Ω–∏ —É–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç Bitrix24: primary, warning, success)

### –®–∞–≥ 4: –¶–≤–µ—Ç–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –≤ JS (getTrendColor)
- –ù–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç colors –≤ `getTrendColor`
- –ó–∞–º–µ–Ω–∏—Ç—å hex –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `cssVar`:
```js
const colors = {
  increase: {
    background: cssVar('--b24-success', '#28a745'),
    border: cssVar('--b24-success-hover', '#218838'),
    point: cssVar('--b24-success', '#28a745')
  },
  decrease: {
    background: cssVar('--b24-danger', '#dc3545'),
    border: cssVar('--b24-danger-hover', '#c82333'),
    point: cssVar('--b24-danger', '#dc3545')
  },
  stable: {
    background: cssVar('--b24-text-muted', '#9ca3af'),
    border: cssVar('--b24-text-secondary', '#6b7280'),
    point: cssVar('--b24-text-muted', '#9ca3af')
  }
};
return colors[trend]?.[type] || cssVar('--b24-text-secondary', '#6c757d');
```

### –®–∞–≥ 5: UI-–∫–Ω–æ–ø–∫–∏/–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ (CSS)
- –ó–∞–º–µ–Ω–∏—Ç—å:
  - `#007bff` ‚Üí `var(--b24-primary)`
  - `#0056b3` ‚Üí `var(--b24-primary-hover)` –∏–ª–∏ `var(--b24-primary-active)`
  - `#dc3545` ‚Üí `var(--b24-danger)`
  - `#f5f5f5` / `#f8f9fa` / `#f9fafb` ‚Üí `var(--b24-bg-light)`/`var(--b24-bg)` –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
  - `#ddd` ‚Üí `var(--b24-border-medium)`
  - `#333` / `#666` / `#999` ‚Üí `var(--b24-text-primary/secondary/muted)`

–ü—Ä–∏–º–µ—Ä (chart-type-btn):
```css
.chart-type-btn {
  background: var(--b24-bg-white);
  border: 1px solid var(--b24-border-medium);
  color: var(--b24-text-primary);
  transition: all var(--transition-base);
}
.chart-type-btn:hover {
  background: var(--b24-bg-light);
  border-color: var(--b24-primary);
}
.chart-type-btn.active {
  background: var(--b24-primary);
  color: var(--b24-text-inverse);
  border-color: var(--b24-primary);
}
```

### –®–∞–≥ 6: –¢–µ–∫—Å—Ç, —Ñ–æ–Ω—ã, –≥—Ä–∞–Ω–∏—Ü—ã (CSS)
- –¢–µ–∫—Å—Ç:
  - `#333` ‚Üí `var(--b24-text-primary)`
  - `#666` ‚Üí `var(--b24-text-secondary)`
  - `#999` ‚Üí `var(--b24-text-muted)`
  - `#1f2937` ‚Üí `var(--b24-text-primary)`
  - `#6b7280` ‚Üí `var(--b24-text-secondary)`
- –§–æ–Ω—ã:
  - `#f5f5f5` / `#f8f9fa` / `#f9fafb` / `#f3f4f6` ‚Üí –ø–æ–¥–æ–±—Ä–∞—Ç—å: `var(--b24-bg)` –∏–ª–∏ `var(--b24-bg-light)`
  - `#fffbeb` / `#fef3c7` (keeper) ‚Üí –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–∞—Ä: `--b24-keeper-bg`, `--b24-keeper-bg-hover` (–¥–æ–±–∞–≤–∏—Ç—å –≤ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å warning-light/ lighter
- –ì—Ä–∞–Ω–∏—Ü—ã:
  - `#ddd` ‚Üí `var(--b24-border-medium)`
  - `#e5e7eb` ‚Üí `var(--b24-border-light)`

### –®–∞–≥ 7: –û—à–∏–±–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `#dc3545` (error text) ‚Üí `var(--b24-danger)`
- –ö–Ω–æ–ø–∫–∞ retry –≤ –æ—à–∏–±–∫–µ ‚Üí `var(--b24-primary)` / hover `var(--b24-primary-hover)`
- `no-data` —Ç–µ–∫—Å—Ç ‚Üí `var(--b24-text-muted)`

### –®–∞–≥ 8: –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- –õ–µ–≤—ã–π –±–æ—Ä–¥–µ—Ä –æ–±—ã—á–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: `#3b82f6` ‚Üí `var(--b24-primary)`
- –õ–µ–≤—ã–π –±–æ—Ä–¥–µ—Ä keeper: `#f59e0b` ‚Üí `var(--b24-warning)` (–∏–ª–∏ –∑–∞–≤–µ—Å—Ç–∏ `--b24-keeper` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –§–æ–Ω—ã:
  - –ö–∞—Ä—Ç–æ—á–∫–∞: `#f9fafb` ‚Üí `var(--b24-bg-light)`
  - Hover: `#f3f4f6` ‚Üí `var(--b24-bg)`
  - Keeper —Ñ–æ–Ω: `#fffbeb` ‚Üí `var(--b24-warning-light)` (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ variables)
  - Hover keeper: `#fef3c7` ‚Üí `var(--b24-warning-lighter)`
- –¢–µ–∫—Å—Ç:
  - `#374151` ‚Üí `var(--b24-text-primary)`
  - `#6b7280` ‚Üí `var(--b24-text-secondary)`
  - `#9ca3af` ‚Üí `var(--b24-text-muted)`

### –®–∞–≥ 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (hover/active/disabled)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ (WebAIM, WCAG AA >= 4.5:1)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤: —Ü–≤–µ—Ç–∞ –ª–∏–Ω–∏–π/–±–∞—Ä–æ–≤/–ø–æ–Ω—á–∏–∫–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–≥–µ–Ω–¥—ã –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å)
- –ë—Ä–∞—É–∑–µ—Ä—ã: Chrome, Firefox, Safari, Edge
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: –º–æ–±–∏–ª—å–Ω—ã–π (<768), –ø–ª–∞–Ω—à–µ—Ç (768-1023), –¥–µ—Å–∫—Ç–æ–ø (>=1024)

---

## üé® –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ü–≤–µ—Ç–æ–≤ (–∫–ª—é—á–µ–≤—ã–µ)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ–∫—É—â–∏–π | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è Bitrix24 | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|---------|---------------------|-------------|
| –¢—Ä–µ–Ω–¥ ‚Üë —Ñ–æ–Ω | `#10b981` | `var(--b24-success)` | –õ–µ–≥–µ–Ω–¥–∞, –≥—Ä–∞—Ñ–∏–∫ |
| –¢—Ä–µ–Ω–¥ ‚Üë border | `#059669` | `var(--b24-success-hover)` | –õ–∏–Ω–∏–∏/—Ç–æ—á–∫–∏ |
| –¢—Ä–µ–Ω–¥ ‚Üì —Ñ–æ–Ω | `#ef4444` | `var(--b24-danger)` | –õ–µ–≥–µ–Ω–¥–∞, –≥—Ä–∞—Ñ–∏–∫ |
| –¢—Ä–µ–Ω–¥ ‚Üì border | `#dc2626` | `var(--b24-danger-hover)` | –õ–∏–Ω–∏–∏/—Ç–æ—á–∫–∏ |
| –¢—Ä–µ–Ω–¥ ‚Üî —Ñ–æ–Ω | `#9ca3af` | `var(--b24-text-muted)` | –õ–µ–≥–µ–Ω–¥–∞, –≥—Ä–∞—Ñ–∏–∫ |
| –¢—Ä–µ–Ω–¥ ‚Üî border | `#6b7280` | `var(--b24-text-secondary)` | |
| Primary (UI) | `#007bff` | `var(--b24-primary)` | –ö–Ω–æ–ø–∫–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ |
| Primary hover | `#0056b3` | `var(--b24-primary-hover)` | Hover |
| Danger | `#dc3545` | `var(--b24-danger)` | –û—à–∏–±–∫–∏/–∫–Ω–æ–ø–∫–∏ |
| Text primary | `#333`, `#1f2937`, `#374151` | `var(--b24-text-primary)` | –ó–∞–≥–æ–ª–æ–≤–∫–∏, –æ—Å–Ω–æ–≤–Ω–æ–π |
| Text secondary | `#666`, `#6b7280` | `var(--b24-text-secondary)` | –ü–æ–¥–ø–∏—Å–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∏ |
| Text muted | `#999`, `#9ca3af` | `var(--b24-text-muted)` | –°–µ—Ä—ã–π —Ç–µ–∫—Å—Ç |
| Border light | `#e5e7eb` | `var(--b24-border-light)` | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ |
| Border medium | `#ddd` | `var(--b24-border-medium)` | –ü–æ–ª—è, –∫–∞—Ä—Ç–æ—á–∫–∏ |
| BG light | `#f9fafb`, `#f8f9fa`, `#f5f5f5` | `var(--b24-bg-light)` / `var(--b24-bg)` | –ü–æ–¥–±–∏—Ä–∞—Ç—å –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| BG white | `#ffffff` | `var(--b24-bg-white)` | –ö–∞—Ä—Ç–æ—á–∫–∏ |
| Keeper border | `#f59e0b` | `var(--b24-warning)` | Keeper |
| Keeper bg | `#fffbeb`, `#fef3c7` | `var(--b24-warning-light/lighter)` | Keeper —Ñ–æ–Ω |

---

## üîß –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –≤ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞ (Chart.js)

–ß—Ç–æ–±—ã —Ü–≤–µ—Ç–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –ª–µ–≥–µ–Ω–¥—ã —Ç–æ–∂–µ –±—Ä–∞–ª–∏—Å—å –∏–∑ Bitrix24-–ø–∞–ª–∏—Ç—Ä—ã:

1) **–¶–≤–µ—Ç–∞ datasets (line/bar)**
```js
const cssVar = (name, fallback) => {
  const v = getComputedStyle(document.documentElement).getPropertyValue(name).trim();
  return v || fallback;
};

const primary  = cssVar('--b24-primary', '#007bff');
const warning  = cssVar('--b24-warning', '#ffc107');
const success  = cssVar('--b24-success', '#28a745');
const danger   = cssVar('--b24-danger', '#dc3545');
const muted    = cssVar('--b24-text-muted', '#9ca3af');
const secondary= cssVar('--b24-text-secondary', '#6b7280');

// –î–ª—è –∫–∞–∂–¥–æ–≥–æ stage dataset –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–≤–µ—Ç–∞ –≤—ã—à–µ:
datasets.push({
  label: stage.name,
  data,
  backgroundColor: Array.isArray(backgroundColor) ? backgroundColor : primary,
  borderColor: Array.isArray(borderColor) ? borderColor : primary,
  pointBackgroundColor: Array.isArray(pointBackgroundColor) ? pointBackgroundColor : primary,
  pointBorderColor: Array.isArray(borderColor) ? borderColor : primary,
  ...
});
```

2) **–¶–≤–µ—Ç–∞ –¥–ª—è doughnut**
```js
const doughnutColors = [
  cssVar('--b24-primary', '#007bff'),
  cssVar('--b24-warning', '#ffc107'),
  cssVar('--b24-success', '#28a745'),
  cssVar('--b24-info', '#17a2b8'),
  cssVar('--b24-danger', '#dc3545'),
];
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ backgroundColor / borderColor datasets –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
```

3) **–¶–≤–µ—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ –ª–µ–≥–µ–Ω–¥—ã Chart.js**
```js
plugins: {
  legend: {
    labels: { color: cssVar('--b24-text-primary', '#333') }
  },
  tooltip: {
    titleColor: cssVar('--b24-text-primary', '#333'),
    bodyColor: cssVar('--b24-text-primary', '#333'),
    backgroundColor: cssVar('--b24-bg-dark', '#343a40'),
    borderColor: cssVar('--b24-border', '#dee2e6'),
    borderWidth: 1,
  }
}
```

4) **chart-config.js**
- –ï—Å–ª–∏ `chartColors` –∏–∑ `utils/chart-config.js` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –Ω–∞ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ª–∏—Ç—Ä–æ–π.

5) **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ª–µ–ø–∫–æ–≤ (comparison)**
- –¢—Ä–µ–Ω–¥—ã –≤ tooltips –∏—Å–ø–æ–ª—å–∑—É—é—Ç `getTrendColor` ‚Üí –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ tooltips –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–∞–ª–∏—Ç—Ä–µ.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] –í—Å–µ —Ü–≤–µ—Ç–∞ (JS –∏ CSS) –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Bitrix24 –∏–ª–∏ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `getComputedStyle`
- [ ] –¶–≤–µ—Ç–∞ —ç—Ç–∞–ø–æ–≤ (stages) –∏—Å–ø–æ–ª—å–∑—É—é—Ç palette (primary, warning, success)
- [ ] –¶–≤–µ—Ç–∞ —Ç—Ä–µ–Ω–¥–æ–≤ (increase/decrease/stable) –∏—Å–ø–æ–ª—å–∑—É—é—Ç palette Bitrix24
- [ ] –í—Å–µ –∫–Ω–æ–ø–∫–∏/–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–æ—Å–Ω–æ–≤–Ω–æ–π, hover, disabled)
- [ ] –í—Å–µ —Ç–µ–∫—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (primary/secondary/muted/inverse)
- [ ] –í—Å–µ —Ñ–æ–Ω—ã –∏ –≥—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–±–æ—Ä–¥–µ—Ä—ã, —Ñ–æ–Ω—ã, —Ç–µ–∫—Å—Ç—ã)
- [ ] –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç WCAG AA (‚â• 4.5:1)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (–º–æ–±–∏–ª—å–Ω—ã–π/–ø–ª–∞–Ω—à–µ—Ç/–¥–µ—Å–∫—Ç–æ–ø, Chrome/Firefox/Safari/Edge)
- [ ] –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ axe DevTools (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤/–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏)
- [ ] –¢–∞–±–ª–∏—Ü–∞ –∑–∞–º–µ–Ω –æ—Ç—Ä–∞–∂–µ–Ω–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∏–ª–∏ README –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (line/bar/doughnut) ‚Äî —Ü–≤–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ —ç—Ç–∞–ø–∞–º ‚Äî —Ü–≤–µ—Ç–∞ —á–µ–∫–±–æ–∫—Å–æ–≤/–ª–µ–π–±–ª–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –õ–µ–≥–µ–Ω–¥–∞ —Ç—Ä–µ–Ω–¥–æ–≤ ‚Äî —Ü–≤–µ—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
- [ ] –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚Äî –±–æ—Ä–¥–µ—Ä—ã/—Ñ–æ–Ω—ã/—Ç–µ–∫—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî —Å—Ç–∏–ª–∏ –æ—à–∏–±–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π (hover/disabled)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–≥–µ–Ω–¥—ã –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–ª–∏–Ω–∏–∏/—Å—Ç–æ–ª–±—Ü—ã/–ø–æ–Ω—á–∏–∫–∏) ‚Äî –ø–∞–ª–∏—Ç—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ (WebAIM)

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** `DOCS/TASKS/TASK-024-improve-graph-state-ui-design.md`
- **–≠—Ç–∞–ø 1 (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ):** `DOCS/TASKS/TASK-024-01-create-css-variables-system.md`
- **–≠—Ç–∞–ø 2 (Dashboard):** `DOCS/TASKS/TASK-024-02-unify-colors-dashboard.md`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `vue-app/src/components/graph-state/GraphStateChart.vue`
- **Bitrix24 UI Kit:** https://apidocs.bitrix24.ru/sdk/ui.html

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:**  
  - ‚úÖ TASK-024-01 (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)  
  - ‚úÖ TASK-024-02 (–ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å Dashboard)  

- **–í–ª–∏—è–µ—Ç –Ω–∞:**  
  - –≠—Ç–∞–ø 8 (–ª–µ–≥–µ–Ω–¥–∞ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏)  
  - –≠—Ç–∞–ø 9 (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)  
  - –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤–∏–¥ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –ª–µ–≥–µ–Ω–¥—ã

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- 2025-12-11 11:44 (UTC+3, –ë—Ä–µ—Å—Ç): –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∞ TASK-024-03 –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ü–≤–µ—Ç–æ–≤ –≤ GraphStateChart

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1) –î–µ–ª–∞—Ç—å –∑–∞–º–µ–Ω—É –≥—Ä—É–ø–ø–∞–º–∏ (–ª–µ–≥–µ–Ω–¥–∞ ‚Üí –∫–Ω–æ–ø–∫–∏ ‚Üí —Ç–µ–∫—Å—Ç—ã ‚Üí —Ñ–æ–Ω—ã ‚Üí –æ—à–∏–±–∫–∏ ‚Üí –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.  
2) –î–ª—è JS-—Ü–≤–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `getComputedStyle` —Å fallback, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º.  
3) –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å (–µ—Å–ª–∏ —Ü–≤–µ—Ç ¬´—Å–µ—Ä—ã–π¬ª –¥–∞—ë—Ç –Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç, —É—Å–∏–ª–∏–≤–∞–π—Ç–µ –æ—Ç—Ç–µ–Ω–æ–∫ –∏–ª–∏ —Ñ–æ–Ω).  
4) –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è keeper (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--b24-keeper`, `--b24-keeper-bg`).  

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ù–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç —Å–µ—Ä—ã—Ö —Ü–≤–µ—Ç–æ–≤ –Ω–∞ —Å–≤–µ—Ç–ª—ã—Ö —Ñ–æ–Ω–∞—Ö ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç—ë–º–Ω—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏.  
- Inline-—Å—Ç–∏–ª–∏ –≤ –ª–µ–≥–µ–Ω–¥–µ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–ª–∞—Å—Å—ã, –∏–Ω–∞—á–µ —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.  
- –¶–≤–µ—Ç–∞ –∏–∑ Chart.js –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –ª–∏–Ω–∏–π/–ø–ª–æ—â–∞–¥–µ–π ‚Äî –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã.  

