# TASK-031-06: –î–æ—Ä–∞–±–æ—Ç–∫–∞ UI/UX —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-11 16:53 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js) + UX/UI-–¥–∏–∑–∞–π–Ω–µ—Ä  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-031

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–° –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–º—ë–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥ —Å—Ç–æ–ª–±—Ü–∞–º–∏, —É–ª—É—á—à–µ–Ω–∏–µ –ª–µ–≥–µ–Ω–¥—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Å—Ç–∞–¥–∏—è–º.

---

## üéØ –¶–µ–ª—å

–£–ª—É—á—à–∏—Ç—å UX —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞, —Å–¥–µ–ª–∞–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏ –Ω–∞–≥–ª—è–¥–Ω–æ–π:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º—ë–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–∫–µ—Ç–æ–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π
- –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–∫–µ—Ç–æ–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `prepareBarChartEmployeeData()` –≤ `employeeChartUtils.js`
- Labels —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞–¥–∏–∏ –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: `"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ (62)"`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `getStageTotalCountFromSnapshot()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª—ã:**
- `vue-app/src/utils/graph-state/employeeChartUtils.js` (—Å—Ç—Ä–æ–∫–∏ 368-372)

---

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–µ–≥–µ–Ω–¥—ã —Å –∏–º–µ–Ω–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏, –Ω–µ –±—ã–ª–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—Ç–æ–ª–±—Ü–∞–º–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–µ–≥–µ–Ω–¥–∞ –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- –ò–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Å—Ç–∞–¥–∏–π
- –§–æ—Ä–º–∞—Ç: –ò–º—è –∏ –§–∞–º–∏–ª–∏—è –≤ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏, –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏ (-12¬∞)
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (—á–µ—Ä–µ–∑ `title` –∞—Ç—Ä–∏–±—É—Ç)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω computed `barChartLegendData` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- –°–æ–∑–¥–∞–Ω–∞ HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `.bar-chart-stage-labels` –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Å—Ç–∞–¥–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

**–§–∞–π–ª—ã:**
- `vue-app/src/components/graph-state/GraphStateChart.vue` (—Å—Ç—Ä–æ–∫–∏ 123-131, 695-701, 1613-1634)

---

### 3. –†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Å—Ç–æ–ª–±—Ü—ã –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ü–≤–µ—Ç, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ.

**–†–µ—à–µ–Ω–∏–µ:**
- –ö–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –∏–º–µ–µ—Ç —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞ (—Å—Ç–∞–¥–∏–∏)
- –†–∞–∑–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (0.6-0.95)
- –°—Ç–æ–ª–±—Ü—ã –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è "–•—Ä–∞–Ω–∏—Ç–µ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤" (#f59e0b)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `prepareBarChartEmployeeData()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ `backgroundColor` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
- –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–≤–µ—Ç—É —ç—Ç–∞–ø–∞ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã:**
- `vue-app/src/utils/graph-state/employeeChartUtils.js` (—Å—Ç—Ä–æ–∫–∏ 386-426)

---

### 4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º—ë–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å—Ç–æ–ª–±—Ü–∞–º, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–∞–≥–∏–Ω Chart.js `employeeLabelsPlugin`
- –ü–ª–∞–≥–∏–Ω —Ä–∏—Å—É–µ—Ç –∏–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º –Ω–∞ canvas
- –§–æ—Ä–º–∞—Ç: –ò–º—è –∏ –§–∞–º–∏–ª–∏—è –≤ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏, –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏ (-12¬∞)
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º —Å –æ—Ç—Å—Ç—É–ø–æ–º 25px

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü–ª–∞–≥–∏–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `ChartJS.register(employeeLabelsPlugin)`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ `afterDatasetsDraw` –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö datasets
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º—ë–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞–≥–∏–Ω–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å

**–§–∞–π–ª—ã:**
- `vue-app/src/components/graph-state/GraphStateChart.vue` (—Å—Ç—Ä–æ–∫–∏ 278-355)

---

### 5. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–¥–ø–∏—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ–±—Ä–µ–∑–∞–ª–∏—Å—å –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–µ–Ω–∞ –≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ —Å `300px` –¥–æ `380px`
- –î–æ–±–∞–≤–ª–µ–Ω `layout.padding.bottom: 80` –≤ –æ–ø—Ü–∏—è—Ö Chart.js –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –ò–∑–º–µ–Ω—ë–Ω `overflow: visible` –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –£–≤–µ–ª–∏—á–µ–Ω –æ—Ç—Å—Ç—É–ø –ø–æ–¥ —Å—Ç–æ–ª–±—Ü–æ–º —Å `18px` –¥–æ `25px` –≤ –ø–ª–∞–≥–∏–Ω–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ `.chart-canvas-container`
- –î–æ–±–∞–≤–ª–µ–Ω `layout.padding` –≤ `chartOptions` –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–ª–∞–≥–∏–Ω–µ `employeeLabelsPlugin`

**–§–∞–π–ª—ã:**
- `vue-app/src/components/graph-state/GraphStateChart.vue` (—Å—Ç—Ä–æ–∫–∏ 770-777, 1595-1602)

---

### 6. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 404 (—Å–æ–∑–¥–∞–Ω–∏–µ API endpoint)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª —Ñ–∞–π–ª `api/snapshots.php`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É 404 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `api/snapshots.php` —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–µ–ø–∫–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π: `create`, `get`, `list`
- –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `snapshots/sector-1c/` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–µ–ø–∫–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–ø–∫–æ–≤)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å JSON-–æ—Ç–≤–µ—Ç–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–∞–º –∏ —Ç–∏–ø–∞–º

**–§–∞–π–ª—ã:**
- `api/snapshots.php` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª, 315 —Å—Ç—Ä–æ–∫)

---

### 7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–ª–µ–ø–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–ø–∫–æ–≤ –≤—ã–±—Ä–∞—Å—ã–≤–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞, —á—Ç–æ –ø—Ä–µ—Ä—ã–≤–∞–ª–æ —Ä–∞–±–æ—Ç—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `SnapshotService.getSnapshot()` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ `null` –≤–º–µ—Å—Ç–æ –≤—ã–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `GraphStateChart` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `null` –∑–Ω–∞—á–µ–Ω–∏—è
- –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–ø–∫–æ–≤ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è "–Ω–µ –Ω–∞–π–¥–µ–Ω" –≤ –æ—Ç–≤–µ—Ç–µ API
- –í–æ–∑–≤—Ä–∞—Ç `null` –≤–º–µ—Å—Ç–æ –≤—ã–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–ø–∫–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–§–∞–π–ª—ã:**
- `vue-app/src/services/graph-state/SnapshotService.js` (—Å—Ç—Ä–æ–∫–∏ 177-183)

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `api/snapshots.php` - API endpoint –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–µ–ø–∫–∞–º–∏ (315 —Å—Ç—Ä–æ–∫)

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `vue-app/src/components/graph-state/GraphStateChart.vue`
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–∞–≥–∏–Ω `employeeLabelsPlugin` (—Å—Ç—Ä–æ–∫–∏ 278-355)
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã `chartOptions` —Å `layout.padding` (—Å—Ç—Ä–æ–∫–∏ 770-777)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getStageLabelWithCount()` (—Å—Ç—Ä–æ–∫–∏ 627-640)
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 1595-1602)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Å—Ç–∞–¥–∏–π (—Å—Ç—Ä–æ–∫–∏ 123-131)

2. `vue-app/src/utils/graph-state/employeeChartUtils.js`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ `prepareBarChartEmployeeData()` –¥–ª—è —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 386-426)
   - –ò–∑–º–µ–Ω–µ–Ω—ã labels –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 368-372)
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ `employeesByStage` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–µ–≥–µ–Ω–¥—ã (—Å—Ç—Ä–æ–∫–∏ 374-384)

3. `vue-app/src/services/graph-state/SnapshotService.js`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–ª–µ–ø–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 177-183)

---

## üé® UX/UI —É–ª—É—á—à–µ–Ω–∏—è

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –ì—Ä–∞—Ñ–∏–∫ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏
   - –ò–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º (–ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏)
   - –ù–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π –≤–Ω–∏–∑—É —Å –æ–±—â–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–∏–∫–µ—Ç–æ–≤

2. **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:**
   - –ö–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –∏–º–µ–µ—Ç —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞
   - –†–∞–∑–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è "–•—Ä–∞–Ω–∏—Ç–µ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤"

3. **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞:**
   - –®—Ä–∏—Ñ—Ç: `bold 9px Arial, sans-serif`
   - –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞: `#6b7280`
   - –ü–æ–≤–æ—Ä–æ—Ç: -12 –≥—Ä–∞–¥—É—Å–æ–≤
   - –§–æ—Ä–º–∞—Ç: –ò–º—è\n–§–∞–º–∏–ª–∏—è (–¥–≤–µ —Å—Ç—Ä–æ–∫–∏)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–ª–∞–≥–∏–Ω Chart.js:
```javascript
const employeeLabelsPlugin = {
  id: 'employeeLabelsPlugin',
  afterDatasetsDraw: (chart) => {
    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–º—ë–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–¥ —Å—Ç–æ–ª–±—Ü–∞–º–∏
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ò–º—è\n–§–∞–º–∏–ª–∏—è
    // –ü–æ–≤–æ—Ä–æ—Ç: -12 –≥—Ä–∞–¥—É—Å–æ–≤
    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º
  }
};
ChartJS.register(employeeLabelsPlugin);
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
- Labels: –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π –≤–Ω–∏–∑—É —á–µ—Ä–µ–∑ HTML)
- Datasets: –º–∞—Å—Å–∏–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `employeesByStage` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–µ–≥–µ–Ω–¥—ã

### API Endpoint:
- `POST /api/snapshots.php?action=create` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–µ–ø–∫–∞
- `GET /api/snapshots.php?action=get&date=...&type=...` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–ø–∫–∞
- `GET /api/snapshots.php?action=list&startDate=...&endDate=...` - —Å–ø–∏—Å–æ–∫ —Å–ª–µ–ø–∫–æ–≤

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [x] –ò–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å—Ç–æ–ª–±—Ü–æ–º
- [x] –ù–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–¥–∏–π —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
- [x] –°—Ç–æ–ª–±—Ü—ã —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ (—Ü–≤–µ—Ç —ç—Ç–∞–ø–∞ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏)
- [x] –ü–æ–¥–ø–∏—Å–∏ –Ω–µ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- [x] API endpoint `snapshots.php` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–ø–∫–æ–≤
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [x] –ü–ª–∞–≥–∏–Ω Chart.js —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

1. **–û—à–∏–±–∫–∞ 404 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –ü—Ä–∏—á–∏–Ω–∞: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª —Ñ–∞–π–ª `api/snapshots.php`
   - –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π API

2. **–û—à–∏–±–∫–∞ "–°–ª–µ–ø–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω":**
   - –ü—Ä–∏—á–∏–Ω–∞: –≤—ã–±—Ä–∞—Å—ã–≤–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ –≤–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ `null`
   - –†–µ—à–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ `SnapshotService.getSnapshot()`

3. **–û–±—Ä–µ–∑–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**
   - –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞
   - –†–µ—à–µ–Ω–∏–µ: —É–≤–µ–ª–∏—á–µ–Ω–∞ –≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω padding

4. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞:**
   - –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ `updateChartData()`
   - –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

5. **–û—à–∏–±–∫–∞ Canvas "exceeds max size":**
   - –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ canvas
   - –†–µ—à–µ–Ω–∏–µ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Chart.js

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-11 16:53 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç TASK-031-06 —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫ UI/UX —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- **2025-12-11 22:14 (UTC+3, –ë—Ä–µ—Å—Ç):** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ —Å TASK-036-06 –Ω–∞ TASK-031-06

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- **TASK-031:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –≤ –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°
- **TASK-031-01:** –≠—Ç–∞–ø 1 - –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **TASK-031-02:** –≠—Ç–∞–ø 2 - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **TASK-031-03:** –≠—Ç–∞–ø 3 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ª–∏–Ω–µ–π–Ω—ã–π –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫–∏
- **TASK-031-04:** –≠—Ç–∞–ø 4 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- Vue.js 3.x (Composition API)
- Chart.js 4.x
- vue-chartjs
- Vanilla JavaScript –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤ Chart.js

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- Chart.js Plugins: https://www.chartjs.org/docs/latest/developers/plugins.html
- Bitrix24 UI Kit: https://apidocs.bitrix24.ru/sdk/ui.html

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-12-11 16:53 (UTC+3, –ë—Ä–µ—Å—Ç)

