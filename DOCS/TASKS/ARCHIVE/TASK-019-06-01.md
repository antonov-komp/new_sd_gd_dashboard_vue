# TASK-019-06-01: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ GraphStateChart —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Chart.js –∏ –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-08 11:30 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –í—ã–ø–æ–ª–Ω–µ–Ω–∞  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-12-08 13:54 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-019-00 (–≠—Ç–∞–ø 6, —á–∞—Å—Ç—å 1)

---

## üìã –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π Vue.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `GraphStateChart.vue` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Chart.js, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö (—Å–ª–µ–ø–∫–∏ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ + —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ) –∏ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤.

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

–î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–° –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–µ–ø–∫–æ–≤ (–Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏, –∫–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Chart.js
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫
- –ò–º–µ—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chart.js –∏ vue-chartjs (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `SnapshotService`
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ `LoadingSpinner` –∏–ª–∏ `LoadingPreloader`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –≠—Ç–∞–ø 2 (TASK-019-02-01, TASK-019-02-02) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω ‚Äî `SnapshotService` —Å–æ–∑–¥–∞–Ω
- –≠—Ç–∞–ø 3 (TASK-019-03-01, TASK-019-03-02) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- Chart.js –∏ vue-chartjs —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Chart.js —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`vue-app/src/utils/chart-config.js`)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
vue-app/src/components/graph-state/
‚îú‚îÄ‚îÄ GraphStateChart.vue          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞
‚îî‚îÄ‚îÄ graph-state-chart-utils.js   # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç GraphStateChart

**–ü–∞—Ç—Ç–µ—Ä–Ω:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Vue.js 3 (Composition API)

**Props:**
- `period` (Object, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  - `startDate` (String | Date) ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞
  - `endDate` (String | Date) ‚Äî –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞
- `showCurrentState` (Boolean, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`) ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `chartType` (String, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `'line'`)

**Composables:**
- `useNotifications` ‚Äî –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- `SnapshotService` ‚Äî –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–µ–ø–∫–æ–≤
- `SectorDataAdapter` ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `isLoading` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `error` ‚Äî –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- `chartData` ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
- `snapshots` ‚Äî –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–ª–µ–ø–∫–∏

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/src/components/graph-state/GraphStateChart.vue`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
- Template —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
- Script setup —Å –ª–æ–≥–∏–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- Style —Å –±–∞–∑–æ–≤—ã–º–∏ —Å—Ç–∏–ª—è–º–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Chart.js (Line, Bar, Doughnut)
- –ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (isLoading, error, chartData)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

---

### 2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Chart.js

**–î–µ–π—Å—Ç–≤–∏—è:**
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `vue-chartjs`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `vue-app/src/utils/chart-config.js`
- –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≥—Ä–∞—Ñ–∏–∫–∞ (options)
- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π –≥—Ä–∞—Ñ–∏–∫ (Line chart) –¥–ª—è –Ω–∞—á–∞–ª–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
import { Line } from 'vue-chartjs';
import { chartColors } from '@/utils/chart-config.js';

// –í setup()
const chartOptions = {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: {
      display: true,
      position: 'top'
    },
    tooltip: {
      enabled: true
    }
  },
  scales: {
    y: {
      beginAtZero: true
    }
  }
};
```

---

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö

**–î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏:**
1. –°–ª–µ–ø–æ–∫ –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏ (—Ç–∏–ø `week_start`)
2. –°–ª–µ–ø–æ–∫ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ (—Ç–∏–ø `week_end`)
3. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ–∫—Ç–æ—Ä–∞ (—á–µ—Ä–µ–∑ `SectorDataAdapter`)

**–õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:**
```javascript
import { SnapshotService } from '@/services/graph-state/SnapshotService';
import { SectorDataAdapter } from '@/services/graph-state/SectorDataAdapter';

const loadData = async () => {
  isLoading.value = true;
  error.value = null;

  try {
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏
    const today = new Date();
    const startOfWeek = getStartOfWeek(today);
    const endOfWeek = getEndOfWeek(today);

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–ø–∫–æ–≤
    const [weekStartSnapshot, weekEndSnapshot] = await Promise.all([
      SnapshotService.getSnapshot(startOfWeek, 'week_start'),
      SnapshotService.getSnapshot(endOfWeek, 'week_end')
    ]);

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    const currentState = await SectorDataAdapter.getSectorDataForSnapshot({
      useCache: true
    });

    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
    const chartData = prepareChartData({
      weekStart: weekStartSnapshot,
      weekEnd: weekEndSnapshot,
      current: currentState
    });

    chartData.value = chartData;
  } catch (err) {
    error.value = err.message;
    notifications.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ' + err.message);
  } finally {
    isLoading.value = false;
  }
};
```

---

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Chart.js:**
```javascript
{
  labels: ['–ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏', '–ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏', '–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ'],
  datasets: [
    {
      label: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ',
      data: [5, 3, 4],
      backgroundColor: '#007bff',
      borderColor: '#007bff'
    },
    {
      label: '–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó',
      data: [3, 4, 5],
      backgroundColor: '#ffc107',
      borderColor: '#ffc107'
    },
    {
      label: '–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ',
      data: [8, 10, 12],
      backgroundColor: '#28a745',
      borderColor: '#28a745'
    }
  ]
}
```

**–õ–æ–≥–∏–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:**
- –ò–∑–≤–ª–µ—á—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —ç—Ç–∞–ø–∞–º –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–ª–µ–ø–∫–∞
- –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–∫–∏ (labels) –¥–ª—è —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

---

### 5. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- –ó–∞–≥—Ä—É–∑–∫–∞: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `LoadingSpinner`
- –û—à–∏–±–∫–∞: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–≤—Ç–æ—Ä–∞
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```vue
<template>
  <div class="graph-state-chart">
    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <LoadingSpinner v-if="isLoading" message="–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞..." />
    
    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏ -->
    <div v-else-if="error" class="error-container">
      <p class="error-message">{{ error }}</p>
      <button @click="loadData" class="btn-retry">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    </div>
    
    <!-- –ì—Ä–∞—Ñ–∏–∫ -->
    <div v-else-if="chartData" class="chart-container">
      <Line :data="chartData" :options="chartOptions" :height="300" />
    </div>
    
    <!-- –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö -->
    <div v-else class="no-data">
      <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
    </div>
  </div>
</template>
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GraphStateChart.vue

```vue
<template>
  <div class="graph-state-chart">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≥—Ä–∞—Ñ–∏–∫–∞ -->
    <div class="chart-header">
      <h3 class="chart-title">–ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°</h3>
    </div>

    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <LoadingSpinner v-if="isLoading" message="–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞..." />
    
    <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏ -->
    <div v-else-if="error" class="error-container">
      <p class="error-message">‚ùå {{ error }}</p>
      <button @click="loadData" class="btn-retry">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É</button>
    </div>
    
    <!-- –ì—Ä–∞—Ñ–∏–∫ -->
    <div v-else-if="chartData" class="chart-container">
      <Line 
        :data="chartData" 
        :options="chartOptions" 
        :height="300"
      />
    </div>
    
    <!-- –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö -->
    <div v-else class="no-data">
      <p>üìä –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
      <p class="no-data-hint">–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–ø–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞</p>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue';
import { Line } from 'vue-chartjs';
import { chartColors } from '@/utils/chart-config.js';
import { SnapshotService } from '@/services/graph-state/SnapshotService';
import { SectorDataAdapter } from '@/services/graph-state/SectorDataAdapter';
import { useNotifications } from '@/composables/useNotifications.js';
import LoadingSpinner from '@/components/common/LoadingSpinner.vue';

/**
 * Props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
 */
const props = defineProps({
  /**
   * –ü–µ—Ä–∏–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   */
  period: {
    type: Object,
    default: null
  },
  /**
   * –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
   */
  showCurrentState: {
    type: Boolean,
    default: true
  }
});

/**
 * –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
 */
const isLoading = ref(false);
const error = ref(null);
const chartData = ref(null);
const snapshots = ref({
  weekStart: null,
  weekEnd: null,
  current: null
});

/**
 * –ö–æ–º–ø–æ–∑–∞–±–ª—ã
 */
const notifications = useNotifications();

/**
 * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
 */
const chartOptions = computed(() => ({
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: {
      display: true,
      position: 'top'
    },
    tooltip: {
      enabled: true,
      mode: 'index',
      intersect: false
    },
    title: {
      display: false
    }
  },
  scales: {
    y: {
      beginAtZero: true,
      ticks: {
        stepSize: 1
      }
    }
  }
}));

/**
 * –ü–æ–ª—É—á–∏—Ç—å –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
 */
function getStartOfWeek(date) {
  const d = new Date(date);
  const day = d.getDay();
  const diff = d.getDate() - day + (day === 0 ? -6 : 1); // –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
  return new Date(d.setDate(diff));
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å –¥–∞—Ç—É –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
 */
function getEndOfWeek(date) {
  const d = new Date(date);
  const day = d.getDay();
  const diff = d.getDate() - day + (day === 0 ? 0 : 7); // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
  return new Date(d.setDate(diff));
}

/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –≤ YYYY-MM-DD
 */
function formatDate(date) {
  const d = new Date(date);
  const year = d.getFullYear();
  const month = String(d.getMonth() + 1).padStart(2, '0');
  const day = String(d.getDate()).padStart(2, '0');
  return `${year}-${month}-${day}`;
}

/**
 * –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
 */
function prepareChartData(snapshotsData) {
  const { weekStart, weekEnd, current } = snapshotsData;

  // –ú–µ—Ç–∫–∏ –¥–ª—è —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞
  const labels = [];
  const datasets = [];

  // –≠—Ç–∞–ø—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const stages = [
    { id: 'formed', name: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ', color: '#007bff' },
    { id: 'review', name: '–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –¢–ó', color: '#ffc107' },
    { id: 'execution', name: '–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ', color: '#28a745' }
  ];

  // –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
  stages.forEach(stage => {
    const data = [];

    // –ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏
    if (weekStart) {
      labels[0] = formatDate(weekStart.metadata.createdAt);
      data.push(weekStart.statistics.stages[stage.id]?.count || 0);
    } else {
      labels[0] = '–ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏';
      data.push(0);
    }

    // –ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏
    if (weekEnd) {
      labels[1] = formatDate(weekEnd.metadata.createdAt);
      data.push(weekEnd.statistics.stages[stage.id]?.count || 0);
    } else {
      labels[1] = '–ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏';
      data.push(0);
    }

    // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    if (current && props.showCurrentState) {
      labels[2] = '–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ';
      // –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
      data.push(current.statistics.stages[stage.id]?.count || 0);
    }

    datasets.push({
      label: stage.name,
      data: data,
      backgroundColor: stage.color + '40', // –° –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
      borderColor: stage.color,
      borderWidth: 2,
      fill: false
    });
  });

  return {
    labels: labels.length > 0 ? labels : ['–ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏', '–ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏', '–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ'],
    datasets: datasets
  };
}

/**
 * –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
 */
const loadData = async () => {
  isLoading.value = true;
  error.value = null;

  try {
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç
    const today = props.period?.endDate ? new Date(props.period.endDate) : new Date();
    const startOfWeek = props.period?.startDate 
      ? new Date(props.period.startDate)
      : getStartOfWeek(today);
    const endOfWeek = props.period?.endDate
      ? new Date(props.period.endDate)
      : getEndOfWeek(today);

    const startDateStr = formatDate(startOfWeek);
    const endDateStr = formatDate(endOfWeek);

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–ø–∫–æ–≤ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
    const [weekStartSnapshot, weekEndSnapshot] = await Promise.all([
      SnapshotService.getSnapshot(startDateStr, 'week_start'),
      SnapshotService.getSnapshot(endDateStr, 'week_end')
    ]);

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    let currentState = null;
    if (props.showCurrentState) {
      currentState = await SectorDataAdapter.getSectorDataForSnapshot({
        useCache: true
      });
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ª–µ–ø–∫–æ–≤
    snapshots.value = {
      weekStart: weekStartSnapshot,
      weekEnd: weekEndSnapshot,
      current: currentState
    };

    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
    chartData.value = prepareChartData({
      weekStart: weekStartSnapshot,
      weekEnd: weekEndSnapshot,
      current: currentState
    });

  } catch (err) {
    console.error('Error loading chart data:', err);
    error.value = err.message || '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞';
    notifications.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞: ' + error.value);
  } finally {
    isLoading.value = false;
  }
};

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
onMounted(() => {
  loadData();
});
</script>

<style scoped>
.graph-state-chart {
  width: 100%;
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.chart-header {
  margin-bottom: 20px;
}

.chart-title {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #333;
}

.chart-container {
  position: relative;
  height: 300px;
  width: 100%;
}

.error-container {
  padding: 40px;
  text-align: center;
}

.error-message {
  color: #dc3545;
  font-size: 16px;
  margin-bottom: 20px;
}

.btn-retry {
  padding: 10px 20px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.btn-retry:hover {
  background-color: #0056b3;
}

.no-data {
  padding: 40px;
  text-align: center;
  color: #666;
}

.no-data p {
  margin: 8px 0;
}

.no-data-hint {
  font-size: 14px;
  color: #999;
}
</style>
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] –§–∞–π–ª `vue-app/src/components/graph-state/GraphStateChart.vue` —Å–æ–∑–¥–∞–Ω
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Chart.js (–∏–º–ø–æ—Ä—Ç Line –∏–∑ vue-chartjs)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–µ–ø–∫–∏ —á–µ—Ä–µ–∑ `SnapshotService.getSnapshot()`
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ `SectorDataAdapter.getSectorDataForSnapshot()`
- [ ] –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≥—Ä–∞—Ñ–∏–∫–µ
- [ ] –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (Line chart)
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `LoadingSpinner`
- [ ] –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ö–Ω–æ–ø–∫–∞ –ø–æ–≤—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è props (period, showCurrentState)
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞ (ESLint, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ –æ—Å–Ω–æ–≤–Ω—ã–º –±–ª–æ–∫–∞–º –∫–æ–¥–∞
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ—à–∏–±–∫–∏, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)

---

## üìù –î–µ–π—Å—Ç–≤–∏—è

1. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞–ø–∫–∞ `vue-app/src/components/graph-state/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

2. **–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GraphStateChart.vue:**
   - –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (template, script, style)
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Chart.js (Line)
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã (SnapshotService, SectorDataAdapter)
   - –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (isLoading, error, chartData, snapshots)
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫

3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Chart.js:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `chart-config.js`
   - –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–∞
   - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å Line chart —Å –¥–∞–Ω–Ω—ã–º–∏

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** `DOCS/TASKS/TASK-019-00-plan.md`
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–¥–∞—á–∏:**
  - `DOCS/TASKS/TASK-019-02-01.md` (SnapshotService)
  - `DOCS/TASKS/TASK-019-03-01.md` (SectorDataAdapter)
  - `DOCS/TASKS/TASK-019-03-02.md` (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- **–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞:** `DOCS/TASKS/TASK-019-06-02.md` (—Ç–∏–ø—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:**
  - `vue-app/src/utils/chart-config.js` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Chart.js)
  - `vue-app/src/components/common/LoadingSpinner.vue` (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏)
  - `vue-app/src/services/graph-state/SnapshotService.js`
  - `vue-app/src/services/graph-state/SectorDataAdapter.js`
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
  - `vue-app/src/components/graph-state/GraphStateChart.vue`

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

**3-4 —á–∞—Å–∞**

**–†–∞–∑–±–∏–≤–∫–∞:**
- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: 30-45 –º–∏–Ω—É—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Chart.js: 30-45 –º–∏–Ω—É—Ç
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: 1-1.5 —á–∞—Å–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞: 45-60 –º–∏–Ω—É—Ç
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞: 30-45 –º–∏–Ω—É—Ç

---

## üîó –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ **TASK-019-06-02: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**.

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —Å–ª–µ–ø–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Å –Ω—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ—á–µ–∫
- –î–æ–±–∞–≤–ª—è—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–µ–ø–∫–æ–≤
- –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–µ—à –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å–ª–µ–ø–∫–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (Promise.all)
- –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞

### UX

–£–ª—É—á—à–µ–Ω–∏—è:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª—è—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ —Ç–æ–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–ª–µ–ø–∫–∏
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö

---

## –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-08 11:30 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞
- **2025-12-08 11:29 (UTC+3, –ë—Ä–µ—Å—Ç):** –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- **2025-12-08 13:54 (UTC+3, –ë—Ä–µ—Å—Ç):** –ó–∞–¥–∞—á–∞ –∑–∞–∫—Ä—ã—Ç–∞ –∫–∞–∫ —É—Å–ø–µ—à–Ω–∞—è (–≤—Å–µ –∑–∞–¥–∞—á–∏ TASK-019 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

**–î–∞—Ç–∞:** 2025-12-08 11:29 (UTC+3, –ë—Ä–µ—Å—Ç)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `vue-app/src/components/graph-state/GraphStateChart.vue` ‚Äî –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Chart.js (–∏–º–ø–æ—Ä—Ç `Line` –∏–∑ `vue-chartjs`)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ `chart-config.js` (–∏–º–ø–æ—Ä—Ç `chartColors`)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–ø–∫–æ–≤ —á–µ—Ä–µ–∑ `SnapshotService.getSnapshot()`:
  - –°–ª–µ–ø–æ–∫ –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏ (—Ç–∏–ø `week_start`)
  - –°–ª–µ–ø–æ–∫ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ (—Ç–∏–ø `week_end`)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ—Ä–µ–∑ `SectorDataAdapter.getSectorDataForSnapshot()` —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `prepareChartData()` –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞:
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —ç—Ç–∞–ø–∞–º –∏–∑ —Å–ª–µ–ø–∫–æ–≤
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ (formed, review, execution)
  - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ (labels) –¥–ª—è —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏:
  - `getStartOfWeek()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
  - `getEndOfWeek()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞—Ç—ã –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
  - `formatDate()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –≤ YYYY-MM-DD
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã `SnapshotService.getWeekStartDate()` –∏ `SnapshotService.getWeekEndDate()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞—Ç –Ω–µ–¥–µ–ª–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ `LoadingSpinner`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–≤—Ç–æ—Ä–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö" —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–µ–ø–∫–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è props (`period`, `showCurrentState`) —á–µ—Ä–µ–∑ `watch`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ (`chartOptions`) —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
  - Responsive –∏ maintainAspectRatio
  - –õ–µ–≥–µ–Ω–¥–∞ –∏ tooltip
  - –®–∫–∞–ª–∞ Y —Å beginAtZero –∏ stepSize: 1
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Å–Ω–æ–≤–Ω—ã–º –±–ª–æ–∫–∞–º –∫–æ–¥–∞
- ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏–Ω—Ç–µ—Ä–æ–º ‚Äî –æ—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GraphStateChart —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–µ–ø–∫–æ–≤ –∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –∏—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≥—Ä–∞—Ñ–∏–∫–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Line chart —Å Chart.js. –í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

---

**–ê–≤—Ç–æ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.1

