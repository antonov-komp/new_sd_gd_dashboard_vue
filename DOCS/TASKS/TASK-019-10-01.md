# TASK-019-10-01: –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ "–ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è" (unit –∏ integration)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-08 10:23 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-019-00 (–≠—Ç–∞–ø 10, —á–∞—Å—Ç—å 1)

---

## üìã –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–∞—à–±–æ—Ä–¥–∞ "–ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è". –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ –Ω–µ –º–µ–Ω–µ–µ 70% –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–∞—à–±–æ—Ä–¥–∞ "–ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è" –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
- –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (`SnapshotService`, `SectorDataAdapter`, `CompareSnapshots`)
- –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤ (`useGraphState`)
- –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`GraphStateChart`, `GraphStateDashboard`, `CreateSnapshotButton`)
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏
- –í—ã—è–≤–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Vitest –∏ @vue/test-utils (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: > 70% –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤, > 60% –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å–ø–µ—à–Ω–æ
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —ç—Ç–∞–ø—ã (1-9) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- Vitest –∏ @vue/test-utils —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`vue-app/tests/unit/`, `vue-app/tests/integration/`)

---

## üîç –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ (–∏–∑ vue-app/tests/README.md)

```
tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard-sector-1c/
‚îÇ   ‚îî‚îÄ‚îÄ composables/
‚îî‚îÄ‚îÄ integration/
    ‚îî‚îÄ‚îÄ components/
        ‚îî‚îÄ‚îÄ dashboard/
```

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **Vitest** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **@vue/test-utils** ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **jsdom** ‚Äî –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è DOM –≤ —Ç–µ—Å—Ç–∞—Ö

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vitest

```javascript
// vitest.config.js
export default defineConfig({
  test: {
    environment: 'jsdom',
    globals: true,
    coverage: {
      provider: 'v8',
      thresholds: {
        lines: 70,
        functions: 70,
        branches: 70,
        statements: 70
      }
    }
  }
});
```

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è SnapshotService

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/tests/unit/services/graph-state/SnapshotService.test.js`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- `createSnapshot()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–µ–ø–∫–∞
- `getSnapshot()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–ø–∫–∞
- `getAllSnapshots()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–ª–µ–ø–∫–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
- `deleteSnapshot()` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å–ª–µ–ø–∫–∞
- `normalizeSectorData()` ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞
- `generateSnapshotMetadata()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// vue-app/tests/unit/services/graph-state/SnapshotService.test.js

import { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';
import { SnapshotService } from '@/services/graph-state/SnapshotService.js';

// –ú–æ–∫–∏ –¥–ª—è fetch
global.fetch = vi.fn();

describe('SnapshotService', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  afterEach(() => {
    vi.restoreAllMocks();
  });

  describe('createSnapshot', () => {
    it('–¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —Å–ª–µ–ø–æ–∫ —É—Å–ø–µ—à–Ω–æ', async () => {
      const mockSectorData = {
        stages: {
          formed: { count: 5 },
          review: { count: 3 },
          execution: { count: 8 },
          total: 16
        },
        employees: [],
        zeroPoint: { unassigned: 2, keeper: 1, total: 3 }
      };

      const mockResponse = {
        success: true,
        data: {
          snapshot: {
            metadata: {
              version: '1.0',
              createdAt: '2025-12-08T10:00:00+03:00',
              type: 'manual'
            },
            statistics: mockSectorData.stages,
            ticketIds: [],
            tickets: []
          }
        }
      };

      global.fetch.mockResolvedValueOnce({
        ok: true,
        json: async () => mockResponse
      });

      const result = await SnapshotService.createSnapshot(
        mockSectorData,
        'manual',
        {
          createdBy: { id: 123, name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤' }
        }
      );

      expect(result).toBeDefined();
      expect(result.metadata.type).toBe('manual');
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–µ–ø–∫–∞', async () => {
      global.fetch.mockRejectedValueOnce(new Error('Network error'));

      await expect(
        SnapshotService.createSnapshot({}, 'manual', {})
      ).rejects.toThrow('Network error');
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É API –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–µ–ø–∫–∞', async () => {
      const mockResponse = {
        success: false,
        message: '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–µ–ø–∫–∞'
      };

      global.fetch.mockResolvedValueOnce({
        ok: true,
        json: async () => mockResponse
      });

      await expect(
        SnapshotService.createSnapshot({}, 'manual', {})
      ).rejects.toThrow('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–µ–ø–∫–∞');
    });
  });

  describe('getSnapshot', () => {
    it('–¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–ø–æ–∫ –ø–æ –¥–∞—Ç–µ –∏ —Ç–∏–ø—É', async () => {
      const mockSnapshot = {
        metadata: {
          version: '1.0',
          createdAt: '2025-12-08T10:00:00+03:00',
          type: 'week_start'
        },
        statistics: {
          stages: { formed: { count: 5 } }
        }
      };

      global.fetch.mockResolvedValueOnce({
        ok: true,
        json: async () => ({
          success: true,
          data: { snapshot: mockSnapshot }
        })
      });

      const result = await SnapshotService.getSnapshot('2025-12-08', 'week_start');

      expect(result).toEqual(mockSnapshot);
      expect(global.fetch).toHaveBeenCalledWith(
        expect.stringContaining('get'),
        expect.any(Object)
      );
    });

    it('–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å null, –µ—Å–ª–∏ —Å–ª–µ–ø–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω', async () => {
      global.fetch.mockResolvedValueOnce({
        ok: true,
        json: async () => ({
          success: false,
          message: '–°–ª–µ–ø–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω'
        })
      });

      const result = await SnapshotService.getSnapshot('2025-12-08', 'week_start');

      expect(result).toBeNull();
    });
  });

  describe('getAllSnapshots', () => {
    it('–¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–ª–µ–ø–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥', async () => {
      const mockSnapshots = [
        { date: '2025-12-01', type: 'week_start' },
        { date: '2025-12-07', type: 'week_end' }
      ];

      global.fetch.mockResolvedValueOnce({
        ok: true,
        json: async () => ({
          success: true,
          data: { snapshots: mockSnapshots }
        })
      });

      const result = await SnapshotService.getAllSnapshots({
        startDate: '2025-12-01',
        endDate: '2025-12-07'
      });

      expect(result).toEqual(mockSnapshots);
    });
  });

  describe('normalizeSectorData', () => {
    it('–¥–æ–ª–∂–µ–Ω –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä–∞', () => {
      const sectorData = {
        stages: [
          {
            id: 'formed',
            name: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ',
            employees: [
              {
                id: 456,
                name: '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤',
                tickets: [
                  { id: 789, title: '–¢–∏–∫–µ—Ç 1' }
                ]
              }
            ]
          }
        ],
        employees: [
          { id: 456, name: '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤' }
        ],
        zeroPointTickets: {
          formed: [{ id: 790 }]
        }
      };

      const normalized = SnapshotService.normalizeSectorData(sectorData);

      expect(normalized.statistics.stages.formed.count).toBe(1);
      expect(normalized.statistics.employees).toHaveLength(1);
      expect(normalized.ticketIds).toContain(789);
      expect(normalized.ticketIds).toContain(790);
    });
  });
});
```

---

### 2. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è CompareSnapshots

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/tests/unit/utils/graph-state/compareSnapshots.test.js`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- `compareTwoSnapshots()` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Å–ª–µ–ø–∫–æ–≤
- `calculateDelta()` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã
- `validateSnapshot()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–µ–ø–∫–∞
- `compareMultipleSnapshots()` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–µ–ø–∫–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases (null, undefined, –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// vue-app/tests/unit/utils/graph-state/compareSnapshots.test.js

import { describe, it, expect } from 'vitest';
import CompareSnapshots from '@/utils/graph-state/compareSnapshots.js';

describe('CompareSnapshots', () => {
  const mockSnapshot1 = {
    metadata: {
      version: '1.0',
      createdAt: '2025-12-01T08:00:00+03:00',
      type: 'week_start'
    },
    statistics: {
      stages: {
        formed: { count: 5 },
        review: { count: 3 },
        execution: { count: 8 },
        total: 16
      },
      employees: [
        {
          id: 456,
          name: '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤',
          ticketsByStage: { formed: 2, review: 1, execution: 3 },
          totalTickets: 6
        }
      ],
      zeroPoint: {
        unassigned: 2,
        keeper: 1,
        total: 3
      }
    },
    ticketIds: [789, 790],
    tickets: []
  };

  const mockSnapshot2 = {
    metadata: {
      version: '1.0',
      createdAt: '2025-12-08T08:00:00+03:00',
      type: 'week_end'
    },
    statistics: {
      stages: {
        formed: { count: 3 },
        review: { count: 4 },
        execution: { count: 8 },
        total: 15
      },
      employees: [
        {
          id: 456,
          name: '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤',
          ticketsByStage: { formed: 1, review: 2, execution: 3 },
          totalTickets: 6
        }
      ],
      zeroPoint: {
        unassigned: 1,
        keeper: 2,
        total: 3
      }
    },
    ticketIds: [790, 791],
    tickets: []
  };

  describe('compareTwoSnapshots', () => {
    it('–¥–æ–ª–∂–µ–Ω —Å—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ —Å–ª–µ–ø–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç—å –¥–µ–ª—å—Ç—É', () => {
      const result = CompareSnapshots.compareTwoSnapshots(mockSnapshot1, mockSnapshot2);

      expect(result).toBeDefined();
      expect(result.metadata).toBeDefined();
      expect(result.stages).toBeDefined();
      expect(result.employees).toBeDefined();
      expect(result.zeroPoint).toBeDefined();
      expect(result.summary).toBeDefined();

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ª—å—Ç—ã –ø–æ —ç—Ç–∞–ø–∞–º
      expect(result.stages.formed.delta).toBe(-2);
      expect(result.stages.formed.trend).toBe('decrease');
      expect(result.stages.review.delta).toBe(1);
      expect(result.stages.review.trend).toBe('increase');
      expect(result.stages.execution.delta).toBe(0);
      expect(result.stages.execution.trend).toBe('stable');
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö', () => {
      const emptySnapshot = {
        metadata: { createdAt: '2025-12-01T08:00:00+03:00', type: 'week_start' },
        statistics: {
          stages: { formed: { count: 0 }, review: { count: 0 }, execution: { count: 0 }, total: 0 },
          employees: [],
          zeroPoint: { unassigned: 0, keeper: 0, total: 0 }
        },
        ticketIds: [],
        tickets: []
      };

      const result = CompareSnapshots.compareTwoSnapshots(emptySnapshot, mockSnapshot2);

      expect(result.stages.formed.delta).toBe(3);
      expect(result.stages.formed.trend).toBe('increase');
    });
  });

  describe('calculateDelta', () => {
    it('–¥–æ–ª–∂–µ–Ω –≤—ã—á–∏—Å–ª–∏—Ç—å –¥–µ–ª—å—Ç—É –º–µ–∂–¥—É –¥–≤—É–º—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏', () => {
      const result = CompareSnapshots.calculateDelta(5, 3);

      expect(result.value1).toBe(5);
      expect(result.value2).toBe(3);
      expect(result.delta).toBe(-2);
      expect(result.deltaPercent).toBe(-40);
      expect(result.trend).toBe('decrease');
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å null –∏ undefined', () => {
      const result1 = CompareSnapshots.calculateDelta(null, 5);
      expect(result1.value1).toBe(0);
      expect(result1.value2).toBe(5);
      expect(result1.delta).toBe(5);

      const result2 = CompareSnapshots.calculateDelta(5, undefined);
      expect(result2.value1).toBe(5);
      expect(result2.value2).toBe(0);
      expect(result2.delta).toBe(-5);
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å', () => {
      const result = CompareSnapshots.calculateDelta(0, 5);
      expect(result.value1).toBe(0);
      expect(result.value2).toBe(5);
      expect(result.delta).toBe(5);
      expect(result.deltaPercent).toBe(Infinity);
    });
  });

  describe('validateSnapshot', () => {
    it('–¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–ª–µ–ø–æ–∫', () => {
      const result = CompareSnapshots.validateSnapshot(mockSnapshot1);

      expect(result.valid).toBe(true);
      expect(result.errors).toHaveLength(0);
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π', () => {
      const invalidSnapshot = {};

      const result = CompareSnapshots.validateSnapshot(invalidSnapshot);

      expect(result.valid).toBe(false);
      expect(result.errors.length).toBeGreaterThan(0);
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç—Ç–∞–ø–æ–≤', () => {
      const invalidSnapshot = {
        metadata: { createdAt: '2025-12-01T08:00:00+03:00', type: 'week_start' },
        statistics: {}
      };

      const result = CompareSnapshots.validateSnapshot(invalidSnapshot);

      expect(result.valid).toBe(false);
      expect(result.errors).toContain('Missing statistics.stages');
    });
  });

  describe('compareMultipleSnapshots', () => {
    it('–¥–æ–ª–∂–µ–Ω —Å—Ä–∞–≤–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–µ–ø–∫–æ–≤', () => {
      const snapshots = [mockSnapshot1, mockSnapshot2];

      const result = CompareSnapshots.compareMultipleSnapshots(snapshots);

      expect(result.snapshots).toHaveLength(2);
      expect(result.comparisons).toHaveLength(1);
      expect(result.trends).toBeDefined();
      expect(result.trends.stages.formed).toEqual([5, 3]);
    });

    it('–¥–æ–ª–∂–µ–Ω –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–ø–∫–∏ –ø–æ –¥–∞—Ç–µ', () => {
      const unsortedSnapshots = [mockSnapshot2, mockSnapshot1];

      const result = CompareSnapshots.compareMultipleSnapshots(unsortedSnapshots);

      expect(result.snapshots[0].date).toBe(mockSnapshot1.metadata.createdAt);
      expect(result.snapshots[1].date).toBe(mockSnapshot2.metadata.createdAt);
    });
  });
});
```

---

### 3. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è SectorDataAdapter

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/tests/unit/services/graph-state/SectorDataAdapter.test.js`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- `getSectorDataForSnapshot()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞
- `isDataAvailable()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `DashboardSector1CService`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// vue-app/tests/unit/services/graph-state/SectorDataAdapter.test.js

import { describe, it, expect, vi, beforeEach } from 'vitest';
import { SectorDataAdapter } from '@/services/graph-state/SectorDataAdapter.js';
import { DashboardSector1CService } from '@/services/dashboard-sector-1c/index.js';

// –ú–æ–∫ –¥–ª—è DashboardSector1CService
vi.mock('@/services/dashboard-sector-1c/index.js', () => ({
  DashboardSector1CService: {
    getSectorData: vi.fn()
  }
}));

describe('SectorDataAdapter', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  describe('getSectorDataForSnapshot', () => {
    it('–¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ DashboardSector1CService', async () => {
      const mockSectorData = {
        stages: [
          {
            id: 'formed',
            name: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ',
            employees: []
          }
        ],
        employees: [],
        zeroPointTickets: {}
      };

      DashboardSector1CService.getSectorData.mockResolvedValueOnce(mockSectorData);

      const result = await SectorDataAdapter.getSectorDataForSnapshot({
        useCache: true
      });

      expect(result).toEqual(mockSectorData);
      expect(DashboardSector1CService.getSectorData).toHaveBeenCalledWith(true, null);
    });

    it('–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ª–±—ç–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞', async () => {
      const mockSectorData = { stages: [], employees: [], zeroPointTickets: {} };
      const progressCallback = vi.fn();

      DashboardSector1CService.getSectorData.mockResolvedValueOnce(mockSectorData);

      await SectorDataAdapter.getSectorDataForSnapshot({
        useCache: true,
        onProgress: progressCallback
      });

      expect(DashboardSector1CService.getSectorData).toHaveBeenCalledWith(
        true,
        progressCallback
      );
    });

    it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', async () => {
      const error = new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
      DashboardSector1CService.getSectorData.mockRejectedValueOnce(error);

      await expect(
        SectorDataAdapter.getSectorDataForSnapshot({})
      ).rejects.toThrow('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
    });
  });

  describe('isDataAvailable', () => {
    it('–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å true, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã', async () => {
      DashboardSector1CService.getSectorData.mockResolvedValueOnce({
        stages: [],
        employees: [],
        zeroPointTickets: {}
      });

      const result = await SectorDataAdapter.isDataAvailable();

      expect(result).toBe(true);
    });

    it('–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å false, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã', async () => {
      DashboardSector1CService.getSectorData.mockRejectedValueOnce(
        new Error('–û—à–∏–±–∫–∞')
      );

      const result = await SectorDataAdapter.isDataAvailable();

      expect(result).toBe(false);
    });
  });
});
```

---

### 4. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–∑–∞–±–ª–∞ useGraphState

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/tests/unit/composables/useGraphState.test.js`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏–∑ localStorage
- –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// vue-app/tests/unit/composables/useGraphState.test.js

import { describe, it, expect, beforeEach, vi } from 'vitest';
import { useGraphState } from '@/composables/useGraphState.js';

// –ú–æ–∫ –¥–ª—è localStorage
const localStorageMock = {
  getItem: vi.fn(),
  setItem: vi.fn(),
  removeItem: vi.fn(),
  clear: vi.fn()
};
global.localStorage = localStorageMock;

describe('useGraphState', () => {
  beforeEach(() => {
    vi.clearAllMocks();
    localStorageMock.getItem.mockReturnValue(null);
  });

  it('–¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {
    const { filters } = useGraphState();

    expect(filters.value.stages.formed).toBe(true);
    expect(filters.value.stages.review).toBe(true);
    expect(filters.value.stages.execution).toBe(true);
    expect(filters.value.employees).toEqual(['all']);
    expect(filters.value.dateRange).toBe('last-week');
  });

  it('–¥–æ–ª–∂–µ–Ω –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–ª—å—Ç—Ä–∞ –¥–∞—Ç', () => {
    const { filters, selectedPeriod } = useGraphState();

    filters.value.dateRange = 'last-week';

    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø–µ—Ä–∏–æ–¥ –≤—ã—á–∏—Å–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    expect(selectedPeriod.value).toBeDefined();
    expect(selectedPeriod.value.startDate).toBeDefined();
    expect(selectedPeriod.value.endDate).toBeDefined();
  });

  it('–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ localStorage', () => {
    const { filters, saveFiltersToLocalStorage } = useGraphState();

    filters.value.dateRange = 'last-month';
    saveFiltersToLocalStorage();

    expect(localStorageMock.setItem).toHaveBeenCalledWith(
      'graphStateFilters',
      expect.stringContaining('last-month')
    );
  });

  it('–¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–∑ localStorage', () => {
    const savedFilters = {
      stages: { formed: false, review: true, execution: true },
      employees: ['all'],
      dateRange: 'last-month'
    };

    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify(savedFilters));

    const { filters, loadFiltersFromLocalStorage } = useGraphState();
    loadFiltersFromLocalStorage();

    expect(filters.value.dateRange).toBe('last-month');
    expect(filters.value.stages.formed).toBe(false);
  });

  it('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {
    const { filters, resetFilters } = useGraphState();

    filters.value.dateRange = 'last-month';
    filters.value.stages.formed = false;

    resetFilters();

    expect(filters.value.dateRange).toBe('last-week');
    expect(filters.value.stages.formed).toBe(true);
  });
});
```

---

### 5. –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `vue-app/tests/integration/components/graph-state/GraphStateDashboard.test.js`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ù–∞–≤–∏–≥–∞—Ü–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// vue-app/tests/integration/components/graph-state/GraphStateDashboard.test.js

import { describe, it, expect, vi, beforeEach } from 'vitest';
import { mount } from '@vue/test-utils';
import { createRouter, createWebHashHistory } from 'vue-router';
import GraphStateDashboard from '@/components/graph-state/GraphStateDashboard.vue';
import GraphStateChart from '@/components/graph-state/GraphStateChart.vue';
import CreateSnapshotButton from '@/components/graph-state/CreateSnapshotButton.vue';

// –ú–æ–∫–∏ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
vi.mock('@/services/graph-state/SnapshotService.js');
vi.mock('@/services/graph-state/SectorDataAdapter.js');

describe('GraphStateDashboard Integration', () => {
  let router;
  let wrapper;

  beforeEach(() => {
    router = createRouter({
      history: createWebHashHistory(),
      routes: [
        {
          path: '/dashboard/graph-state',
          name: 'dashboard-graph-state',
          component: GraphStateDashboard
        }
      ]
    });

    wrapper = mount(GraphStateDashboard, {
      global: {
        plugins: [router],
        stubs: {
          'router-link': true
        }
      }
    });
  });

  it('–¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã', () => {
    expect(wrapper.find('.dashboard-header').exists()).toBe(true);
    expect(wrapper.find('.filters-panel').exists()).toBe(true);
    expect(wrapper.findComponent(GraphStateChart).exists()).toBe(true);
  });

  it('–¥–æ–ª–∂–µ–Ω –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏', async () => {
    const filtersPanel = wrapper.find('.filters-panel');
    const checkbox = filtersPanel.find('input[type="checkbox"]');

    await checkbox.setValue(false);
    await wrapper.vm.$nextTick();

    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
    expect(wrapper.vm.filters.stages.formed).toBe(false);
  });

  it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–µ–ø–∫–∞', async () => {
    const createButton = wrapper.findComponent(CreateSnapshotButton);

    await createButton.vm.$emit('snapshot-created', {
      id: 123,
      metadata: { type: 'manual' }
    });

    await wrapper.vm.$nextTick();

    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
    expect(wrapper.vm.snapshotCreated).toBe(true);
  });

  it('–¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤', async () => {
    const chart = wrapper.findComponent(GraphStateChart);

    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    await wrapper.setData({
      filters: {
        ...wrapper.vm.filters,
        dateRange: 'last-month'
      }
    });

    await wrapper.vm.$nextTick();

    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≥—Ä–∞—Ñ–∏–∫ –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—ã–µ props
    expect(chart.props('period')).toBeDefined();
  });
});
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
vue-app/tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ graph-state/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SnapshotService.test.js
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SectorDataAdapter.test.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ graph-state/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ compareSnapshots.test.js
‚îÇ   ‚îî‚îÄ‚îÄ composables/
‚îÇ       ‚îî‚îÄ‚îÄ useGraphState.test.js
‚îî‚îÄ‚îÄ integration/
    ‚îî‚îÄ‚îÄ components/
        ‚îî‚îÄ‚îÄ graph-state/
            ‚îú‚îÄ‚îÄ GraphStateDashboard.test.js
            ‚îú‚îÄ‚îÄ GraphStateChart.test.js
            ‚îî‚îÄ‚îÄ CreateSnapshotButton.test.js
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:**
- **–°–µ—Ä–≤–∏—Å—ã:** > 80%
- **–£—Ç–∏–ª–∏—Ç—ã:** > 90%
- **–ö–æ–º–ø–æ–∑–∞–±–ª—ã:** > 70%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** > 60%
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** > 70%

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `SnapshotService` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `CompareSnapshots` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `SectorDataAdapter` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `useGraphState` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è `GraphStateDashboard` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è `GraphStateChart` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è `CreateSnapshotButton` –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ > 70% –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- [ ] –ú–æ–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Edge cases –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–∫—Ä—ã—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏
- [ ] –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run test`)
- [ ] –û—Ç—á—ë—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

---

## üìù –î–µ–π—Å—Ç–≤–∏—è

1. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:**
   - `vue-app/tests/unit/services/graph-state/`
   - `vue-app/tests/unit/utils/graph-state/`
   - `vue-app/tests/unit/composables/`
   - `vue-app/tests/integration/components/graph-state/`

2. **–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤:**
   - `SnapshotService.test.js`
   - `SectorDataAdapter.test.js`

3. **–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç:**
   - `compareSnapshots.test.js`

4. **–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤:**
   - `useGraphState.test.js`

5. **–ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
   - `GraphStateDashboard.test.js`
   - `GraphStateChart.test.js`
   - `CreateSnapshotButton.test.js`

6. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ:**
   - `npm run test`
   - `npm run test:coverage`
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** `DOCS/TASKS/TASK-019-00-plan.md`
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–¥–∞—á–∏:**
  - –í—Å–µ —ç—Ç–∞–ø—ã 1-9 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- **–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞:** `DOCS/TASKS/TASK-019-10-02.md` (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
  - `vue-app/tests/unit/services/graph-state/SnapshotService.test.js`
  - `vue-app/tests/unit/services/graph-state/SectorDataAdapter.test.js`
  - `vue-app/tests/unit/utils/graph-state/compareSnapshots.test.js`
  - `vue-app/tests/unit/composables/useGraphState.test.js`
  - `vue-app/tests/integration/components/graph-state/GraphStateDashboard.test.js`
  - `vue-app/tests/integration/components/graph-state/GraphStateChart.test.js`
  - `vue-app/tests/integration/components/graph-state/CreateSnapshotButton.test.js`
- **–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
  - `vue-app/tests/README.md` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤)

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

**4-6 —á–∞—Å–æ–≤**

**–†–∞–∑–±–∏–≤–∫–∞:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–æ–≤: 15-20 –º–∏–Ω—É—Ç
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤: 1-1.5 —á–∞—Å–∞
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç: 1-1.5 —á–∞—Å–∞
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤: 30-45 –º–∏–Ω—É—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã: 1-1.5 —á–∞—Å–∞
- –û—Ç–ª–∞–¥–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 30-45 –º–∏–Ω—É—Ç

---

## üîó –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ **TASK-019-10-02: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞**.

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ú–æ–∫–∏ –∏ —Å—Ç–∞–±—ã

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–∫–∏:
- –ú–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (API, localStorage)
- –ú–æ–∫–∏ –¥–ª—è Vue Router
- –ú–æ–∫–∏ –¥–ª—è –∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è:
- `vitest --coverage` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ thresholds –≤ `vitest.config.js`
- –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

### –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `beforeEach` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ù–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞

---

## –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-08 10:23 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞

---

**–ê–≤—Ç–æ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

