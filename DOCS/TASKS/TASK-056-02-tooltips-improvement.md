# TASK-056-02: –£–ª—É—á—à–µ–Ω–∏–µ tooltips –≥—Ä–∞—Ñ–∏–∫–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-17 16:42 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js Developer)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** [TASK-056: –£–ª—É—á—à–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –ª–∏–Ω–µ–π–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤](./TASK-056-line-charts-design-improvements.md)  
**–≠—Ç–∞–ø:** 2/7

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–£–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É tooltips –¥–ª—è –ª–∏–Ω–µ–π–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –º–æ–¥—É–ª—è ¬´–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–∏—ë–º–∞ –∏ –∑–∞–∫—Ä—ã—Ç–∏–π —Å–µ–∫—Ç–æ—Ä–∞ 1–°¬ª: –¥–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏, —É–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª, –¥–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ —É–ª—É—á—à–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ.

---

## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Tooltips —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –±–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è —Ç—ã—Å—è—á
- –ù–µ—Ç –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –∏–∫–æ–Ω–æ–∫
- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Tooltips –Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã
- –°–ª–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Ä–∏—è–º–∏

**–¢—Ä–µ–±—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π tooltip —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å–ø–∏—Å–∫–æ–º –∑–Ω–∞—á–µ–Ω–∏–π
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ä–∏–∏ (—Ü–≤–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Ç—ã—Å—è—á
- –°–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è ("—Ç–∏–∫–µ—Ç", "—Ç–∏–∫–µ—Ç–∞", "—Ç–∏–∫–µ—Ç–æ–≤")
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ (—Ñ–æ–Ω, —Ç–µ–Ω—å, —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ)
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ tooltip

**–§–æ—Ä–º–∞—Ç:**
```
–ù–µ–¥–µ–ª—è 51 (15 –¥–µ–∫ ‚Äî 21 –¥–µ–∫)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚óè –ù–æ–≤—ã–µ: 25 —Ç–∏–∫–µ—Ç–æ–≤
‚óè –ó–∞–∫—Ä—ã—Ç—ã–µ (–≤—Å–µ): 18 —Ç–∏–∫–µ—Ç–æ–≤
‚óè –ó–∞–∫—Ä—ã—Ç—ã–µ (—Å–æ–∑–¥–∞–Ω—ã —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π): 12 —Ç–∏–∫–µ—Ç–æ–≤
‚óè –ó–∞–∫—Ä—ã—Ç—ã–µ (—Å–æ–∑–¥–∞–Ω—ã –¥—Ä—É–≥–æ–π –Ω–µ–¥–µ–ª–µ–π): 6 —Ç–∏–∫–µ—Ç–æ–≤
```

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: –Ω–æ–º–µ—Ä –Ω–µ–¥–µ–ª–∏ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
- –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π: –∫–∞–∂–¥–∞—è —Å–µ—Ä–∏—è —Å –∏–∫–æ–Ω–∫–æ–π, –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –µ–¥–∏–Ω–∏—Ü–µ–π –∏–∑–º–µ—Ä–µ–Ω–∏—è

### 2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ç—ã—Å—è—á: –ø—Ä–æ–±–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1 234` –≤–º–µ—Å—Ç–æ `1234`)
- ‚úÖ **–§–∞–∫—Ç –∏–∑ TASK-053:** –í LineChartMonths.vue —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `formatNumber()` —Å `toLocaleString('ru-RU')` ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É

**–§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```javascript
function formatNumber(value) {
  if (value === null || value === undefined || isNaN(value)) {
    return '0';
  }
  
  if (value >= 1000) {
    return value.toLocaleString('ru-RU'); // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ç—ã—Å—è—á
  }
  
  return value.toString();
}
```

### 3. –°–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–ü—Ä–∞–≤–∏–ª–∞ —Å–∫–ª–æ–Ω–µ–Ω–∏—è:**
- 1, 21, 31, ... ‚Üí "—Ç–∏–∫–µ—Ç"
- 2-4, 22-24, 32-34, ... ‚Üí "—Ç–∏–∫–µ—Ç–∞"
- 5-20, 25-30, ... ‚Üí "—Ç–∏–∫–µ—Ç–æ–≤"
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è: 11-14 ‚Üí "—Ç–∏–∫–µ—Ç–æ–≤"

**–§—É–Ω–∫—Ü–∏—è —Å–∫–ª–æ–Ω–µ–Ω–∏—è:**
```javascript
function getUnitLabel(count) {
  const lastDigit = count % 10;
  const lastTwoDigits = count % 100;
  
  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return '—Ç–∏–∫–µ—Ç–æ–≤';
  }
  
  if (lastDigit === 1) {
    return '—Ç–∏–∫–µ—Ç';
  }
  
  if (lastDigit >= 2 && lastDigit <= 4) {
    return '—Ç–∏–∫–µ—Ç–∞';
  }
  
  return '—Ç–∏–∫–µ—Ç–æ–≤';
}
```

### 4. –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ

**–°—Ç–∏–ª–∏ tooltip:**
- –§–æ–Ω: –±–µ–ª—ã–π (`rgba(255, 255, 255, 0.98)`)
- –¢–µ–Ω—å: `0 4px 12px rgba(0, 0, 0, 0.15)`
- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ: `8px`
- Padding: `16px`
- –ì—Ä–∞–Ω–∏—Ü–∞: `1px solid #e5e7eb`

**–¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `#111827` (—Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–π), –∂–∏—Ä–Ω—ã–π
- –ó–Ω–∞—á–µ–Ω–∏—è: `#374151` (—Å–µ—Ä—ã–π)
- –ò–∫–æ–Ω–∫–∏: —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ü–≤–µ—Ç—É —Å–µ—Ä–∏–∏

### 5. –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å fade-in —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è: `200ms` (–Ω–µ —Å—Ä–∞–∑—É –ø—Ä–∏ hover)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏: `300ms`
- Easing: `ease-out`

---

## üìù –°—Ç—É–ø–µ–Ω—á–∞—Ç—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - `formatNumber(value)` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
   - `getUnitLabel(count)` ‚Äî —Å–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
   - `formatDate(dateStr)` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ LineChartMonths.vue:**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `formatNumber()` –∏–∑ TASK-053-05

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é tooltip

1. **–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª:**
   - `vue-app/src/components/graph-admission-closure/GraphAdmissionClosureChart.vue`

2. **–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ script setup (–µ—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç):**
   ```javascript
   // ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ LineChartMonths.vue –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–¥–µ—Å—å
   function formatNumber(value) {
     if (value === null || value === undefined || isNaN(value)) {
       return '0';
     }
     
     if (value >= 1000) {
       return value.toLocaleString('ru-RU'); // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ç—ã—Å—è—á
     }
     
     return value.toString();
   }
   
   function getUnitLabel(count) {
     const lastDigit = count % 10;
     const lastTwoDigits = count % 100;
     
     if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
       return '—Ç–∏–∫–µ—Ç–æ–≤';
     }
     
     if (lastDigit === 1) {
       return '—Ç–∏–∫–µ—Ç';
     }
     
     if (lastDigit >= 2 && lastDigit <= 4) {
       return '—Ç–∏–∫–µ—Ç–∞';
     }
     
     return '—Ç–∏–∫–µ—Ç–æ–≤';
   }
   
   function formatDate(dateStr) {
     if (!dateStr) return '‚Äî';
     try {
       const date = new Date(dateStr);
       return date.toLocaleDateString('ru-RU', { 
         day: '2-digit', 
         month: 'short' 
       });
     } catch {
       return dateStr;
     }
   }
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å `chartOptions.computed` —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ tooltips:**
   ```javascript
   const chartOptions = computed(() => ({
     responsive: true,
     maintainAspectRatio: false,
     resizeDelay: 0,
     plugins: {
       tooltip: {
         enabled: true,
         backgroundColor: 'rgba(255, 255, 255, 0.98)',
         titleColor: '#111827',
         bodyColor: '#374151',
         borderColor: '#e5e7eb',
         borderWidth: 1,
         cornerRadius: 8,
         padding: 16,
         titleFont: {
           size: 14,
           weight: 'bold'
         },
         bodyFont: {
           size: 13
         },
         displayColors: true,
         boxPadding: 6,
         usePointStyle: true,
         animation: {
           duration: 300
         },
         // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ CSS (–¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ç–∏–ª–∏)
         callbacks: {
           title: (items) => {
             if (!items || items.length === 0) {
               return '';
             }
             
             const index = items[0]?.dataIndex;
             const weeks = props.meta?.weeks || [];
             
             // –†–µ–∂–∏–º "4 –Ω–µ–¥–µ–ª–∏" - –∏—Å–ø–æ–ª—å–∑—É–µ–º weeks
             if (weeks.length > 0 && index !== undefined && weeks[index]) {
               const week = weeks[index];
               return `–ù–µ–¥–µ–ª—è ${week.weekNumber} (${formatDate(week.weekStartUtc)} ‚Äî ${formatDate(week.weekEndUtc)})`;
             }
             
             // Fallback –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (—Ä–µ–∂–∏–º –æ–¥–Ω–æ–π –Ω–µ–¥–µ–ª–∏)
             const weekNumber = props.meta?.weekNumber;
             const weekStartUtc = props.meta?.weekStartUtc;
             const weekEndUtc = props.meta?.weekEndUtc;
             if (weekNumber && weekStartUtc && weekEndUtc) {
               return `–ù–µ–¥–µ–ª—è ${weekNumber} (${formatDate(weekStartUtc)} ‚Äî ${formatDate(weekEndUtc)})`;
             }
             
             // –ü–æ—Å–ª–µ–¥–Ω–∏–π fallback
             return items[0]?.label || '';
           },
           label: (context) => {
             const value = context.parsed.y;
             const label = context.dataset.label || '';
             
             // –û–±—Ä–∞–±–æ—Ç–∫–∞ null/undefined/NaN
             if (value === null || value === undefined || isNaN(value)) {
               return `${label}: 0 —Ç–∏–∫–µ—Ç–æ–≤`;
             }
             
             const formattedValue = formatNumber(value);
             const unit = getUnitLabel(value);
             
             return `${label}: ${formattedValue} ${unit}`;
           },
           // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–µ—Ä–∏–π
           labelOrder: 'asc' // –∏–ª–∏ 'desc', 'auto'
         }
       }
     }
   }));
   ```

4. **–î–æ–±–∞–≤–∏—Ç—å CSS –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è tooltip:**
   ```css
   /* –í <style scoped> —Å–µ–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ */
   /* Chart.js —Å–æ–∑–¥–∞—ë—Ç tooltip —Å –∫–ª–∞—Å—Å–æ–º, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ –æ–ø—Ü–∏–∏ */
   ```
   
   **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chart.js –æ–ø—Ü–∏—é `delay` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –≤–µ—Ä—Å–∏–∏) –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–∞–≥–∏–Ω –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏.

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ –≤ tooltip

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `displayColors: true`:**
   - Chart.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç —Ü–≤–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏ —Å—Ç–∏–ª—å —á–µ—Ä–µ–∑ CSS

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–∞—Å—Ç–æ–º–Ω—ã–π tooltip):**
   - –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `external` tooltip
   - –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è tooltip

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é

1. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –ø–æ—è–≤–ª–µ–Ω–∏—è:**
   ```javascript
   tooltip: {
     // ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     animation: {
       duration: 300
     },
     // –ó–∞–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ CSS –∏–ª–∏ Chart.js –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   }
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ tooltip –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

---

## üîç –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **`vue-app/src/components/graph-admission-closure/GraphAdmissionClosureChart.vue`**
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –û–±–Ω–æ–≤–∏—Ç—å `chartOptions.computed`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å callbacks –¥–ª—è tooltip

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –æ–±–æ–∏–º –≥—Ä–∞—Ñ–∏–∫–∞–º

**–õ–µ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫ (–ù–æ–≤—ã–µ –∏ –ó–∞–∫—Ä—ã—Ç—ã–µ):**
- Tooltip –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ 4 —Å–µ—Ä–∏–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–ü—Ä–∞–≤—ã–π –≥—Ä–∞—Ñ–∏–∫ (–ü–µ—Ä–µ—Ö–æ–¥—è—â–∏–µ):**
- Tooltip –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ 3 —Å–µ—Ä–∏–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `props.meta?.weeks` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–µ–¥–µ–ª—è—Ö
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã –∏–∑ `weekStartUtc` –∏ `weekEndUtc`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ weeks:**
  ```javascript
  weeks: [
    {
      weekNumber: 48,
      weekStartUtc: '2025-11-25T00:00:00Z',
      weekEndUtc: '2025-12-01T23:59:59Z'
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ–¥–µ–ª–∏
  ]
  ```

**–î–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `props.meta?.months` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—è—Ü–∞—Ö
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ months (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
  ```javascript
  months: [
    {
      month: 10,
      monthName: '–û–∫—Ç—è–±—Ä—å',
      monthStartUtc: '2025-10-01T00:00:00Z',
      monthEndUtc: '2025-10-31T23:59:59Z'
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Å—è—Ü—ã
  ]
  ```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases:**
- –ï—Å–ª–∏ `weeks` –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback —Å `weekNumber`, `weekStartUtc`, `weekEndUtc`
- –ï—Å–ª–∏ `index` –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback
- –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `'‚Äî'` –≤–º–µ—Å—Ç–æ –¥–∞—Ç—ã
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `null` –∏–ª–∏ `undefined` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `'0 —Ç–∏–∫–µ—Ç–æ–≤'`

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –§—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```javascript
// ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ LineChartMonths.vue (TASK-053-05)
function formatNumber(value) {
  if (value === null || value === undefined || isNaN(value)) {
    return '0';
  }
  
  if (value >= 1000) {
    return value.toLocaleString('ru-RU'); // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ç—ã—Å—è—á
  }
  
  return value.toString();
}

function getUnitLabel(count) {
  const lastDigit = count % 10;
  const lastTwoDigits = count % 100;
  
  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return '—Ç–∏–∫–µ—Ç–æ–≤';
  }
  
  if (lastDigit === 1) {
    return '—Ç–∏–∫–µ—Ç';
  }
  
  if (lastDigit >= 2 && lastDigit <= 4) {
    return '—Ç–∏–∫–µ—Ç–∞';
  }
  
  return '—Ç–∏–∫–µ—Ç–æ–≤';
}

function formatDate(dateStr) {
  if (!dateStr) return '‚Äî';
  try {
    const date = new Date(dateStr);
    return date.toLocaleDateString('ru-RU', { day: '2-digit', month: 'short' });
  } catch {
    return dateStr;
  }
}
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è tooltip

```javascript
const chartOptions = computed(() => ({
  // ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  plugins: {
    tooltip: {
      enabled: true,
      backgroundColor: 'rgba(255, 255, 255, 0.98)',
      titleColor: '#111827',
      bodyColor: '#374151',
      borderColor: '#e5e7eb',
      borderWidth: 1,
      cornerRadius: 8,
      padding: 16,
      titleFont: {
        size: 14,
        weight: 'bold'
      },
      bodyFont: {
        size: 13
      },
      displayColors: true,
      boxPadding: 6,
      animation: {
        duration: 300
      },
      callbacks: {
        title: (items) => {
          const index = items[0]?.dataIndex;
          const weeks = props.meta?.weeks || [];
          if (weeks.length > 0 && index !== undefined && weeks[index]) {
            const week = weeks[index];
            return `–ù–µ–¥–µ–ª—è ${week.weekNumber} (${formatDate(week.weekStartUtc)} ‚Äî ${formatDate(week.weekEndUtc)})`;
          }
          // Fallback –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
          const weekNumber = props.meta?.weekNumber;
          const weekStartUtc = props.meta?.weekStartUtc;
          const weekEndUtc = props.meta?.weekEndUtc;
          if (weekNumber && weekStartUtc && weekEndUtc) {
            return `–ù–µ–¥–µ–ª—è ${weekNumber} (${formatDate(weekStartUtc)} ‚Äî ${formatDate(weekEndUtc)})`;
          }
          return items[0]?.label || '';
        },
        label: (context) => {
          const value = context.parsed.y;
          const label = context.dataset.label || '';
          const unit = getUnitLabel(value);
          return `${label}: ${formatNumber(value)} ${unit}`;
        }
      }
    }
  }
}));
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] Tooltip –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π)
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä –Ω–µ–¥–µ–ª–∏ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç
- [ ] –ß–∏—Å–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Ç—ã—Å—è—á (–ø—Ä–æ–±–µ–ª)
- [ ] –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∫–ª–æ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ("—Ç–∏–∫–µ—Ç", "—Ç–∏–∫–µ—Ç–∞", "—Ç–∏–∫–µ—Ç–æ–≤")
- [ ] –ò–∫–æ–Ω–∫–∏ (—Ü–≤–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ä–∏–∏
- [ ] Tooltip –∏–º–µ–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ (–±–µ–ª—ã–π —Ñ–æ–Ω, —Ç–µ–Ω—å, —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ)
- [ ] Padding tooltip —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç `16px`
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–ª–∞–≤–Ω–∞—è (300ms, fade-in)
- [ ] –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è tooltip —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç `200ms`
- [ ] Tooltip —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –æ–±–æ–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- [ ] Tooltip —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö (–Ω–µ–¥–µ–ª–∏ –∏ –º–µ—Å—è—Ü—ã)
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–≤–∫–ª—é—á–∞—è 0)

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:**
- [TASK-056-01: –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–∏–Ω–∏–π](./TASK-056-01-lines-visualization.md) ‚Äî –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞:**
- [TASK-056-03: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–µ–≥–µ–Ω–¥—ã](./TASK-056-03-legend-optimization.md) ‚Äî –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-17 16:42 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω —ç—Ç–∞–ø TASK-056-02
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è tooltips
  - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `formatNumber()` –∏–∑ LineChartMonths.vue
- **–°–∫–ª–æ–Ω–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–∫–ª–æ–Ω–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤ (1, 2-4, 5-20, 21, 22-24, –∏ —Ç.–¥.)
- **–ò–∫–æ–Ω–∫–∏:** Chart.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ `displayColors: true`
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (0, 1, 2, 5, 11, 21, 1000, –∏ —Ç.–¥.)

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Tooltip –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
**–ü—Ä–∏—á–∏–Ω–∞:** Chart.js –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–∞–≥–∏–Ω –∏–ª–∏ CSS `transition-delay` —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** `toLocaleString('ru-RU')` –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å fallback:
```javascript
function formatNumber(value) {
  if (value === null || value === undefined || isNaN(value)) {
    return '0';
  }
  
  if (value >= 1000) {
    // –ü—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å toLocaleString
    try {
      return value.toLocaleString('ru-RU');
    } catch {
      // Fallback: —Ä—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
      return value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
    }
  }
  
  return value.toString();
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°–∫–ª–æ–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥–∏–∫–∞ —Å–∫–ª–æ–Ω–µ–Ω–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ª—É—á–∞–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
```javascript
// –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏
const testCases = [1, 2, 3, 4, 5, 11, 12, 13, 14, 21, 22, 23, 24, 25, 101, 102, 111, 112];
testCases.forEach(count => {
  console.log(`${count} ${getUnitLabel(count)}`);
});
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞—Ç—ã
**–ü—Ä–∏—á–∏–Ω–∞:** –î–∞—Ç—ã –≤ UTC, –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å  
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `formatDate` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç UTC –¥–∞—Ç—ã:
```javascript
function formatDate(dateStr) {
  if (!dateStr) return '‚Äî';
  try {
    const date = new Date(dateStr); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç UTC
    // toLocaleDateString –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ç–∞–π–º–∑–æ–Ω—É –±—Ä–∞—É–∑–µ—Ä–∞
    return date.toLocaleDateString('ru-RU', { 
      day: '2-digit', 
      month: 'short',
      timeZone: 'UTC' // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ UTC
    });
  } catch (error) {
    console.warn('[formatDate] Error formatting date:', dateStr, error);
    return '‚Äî';
  }
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Tooltip –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º–µ—Å—è—á–Ω–æ–º —Ä–µ–∂–∏–º–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥–∏–∫–∞ tooltip –∑–∞—Ç–æ—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–¥ –Ω–µ–¥–µ–ª–∏  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∂–∏–º–∞:
```javascript
title: (items) => {
  const index = items[0]?.dataIndex;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º
  const months = props.meta?.months || [];
  if (months.length > 0 && index !== undefined && months[index]) {
    const month = months[index];
    return `${month.monthName} (${formatDate(month.monthStartUtc)} ‚Äî ${formatDate(month.monthEndUtc)})`;
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
  const weeks = props.meta?.weeks || [];
  if (weeks.length > 0 && index !== undefined && weeks[index]) {
    const week = weeks[index];
    return `–ù–µ–¥–µ–ª—è ${week.weekNumber} (${formatDate(week.weekStartUtc)} ‚Äî ${formatDate(week.weekEndUtc)})`;
  }
  
  // Fallback
  return items[0]?.label || '';
}
```

## üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. Tooltip –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–∏–π –≤ –æ–±–æ–∏—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö
2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä –Ω–µ–¥–µ–ª–∏ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç
3. –ß–∏—Å–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Ç—ã—Å—è—á (1 234 –≤–º–µ—Å—Ç–æ 1234)
4. –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∫–ª–æ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π
5. –ò–∫–æ–Ω–∫–∏ (—Ü–≤–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
6. Tooltip –∏–º–µ–µ—Ç –±–µ–ª—ã–π —Ñ–æ–Ω, —Ç–µ–Ω—å –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ
7. –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–ª–∞–≤–Ω–∞—è (300ms)
8. –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (200ms)
9. Tooltip —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö (–Ω–µ–¥–µ–ª–∏ –∏ –º–µ—Å—è—Ü—ã)
10. –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases (null, undefined, –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ)

