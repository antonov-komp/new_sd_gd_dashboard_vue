# TASK-009-01: Кнопка "НАЗАД" в заголовке дашборда сектора 1С

**Дата создания:** 2025-12-06 13:26 (UTC+3, Брест)  
**Статус:** Новая  
**Приоритет:** Средний  
**Исполнитель:** Bitrix24 Программист (Vue.js)

---

## Описание

Добавить кнопку "НАЗАД" в заголовок дашборда сектора 1С для возврата на стартовую страницу. Кнопка должна быть размещена возле верхнего заголовка "Дашборд - Сектор 1С" и обеспечивать навигацию на главную страницу приложения.

---

## Контекст

Дашборд сектора 1С является отдельной страницей в приложении, доступной по маршруту `/dashboard/sector-1c`. Пользователи переходят на дашборд со стартовой страницы (`IndexPage.vue`, маршрут `/`), но в текущей реализации отсутствует возможность вернуться обратно без использования кнопки "Назад" браузера.

**Текущее состояние:**
- Заголовок дашборда находится в компоненте `DashboardSector1C.vue`
- Заголовок отображается в блоке `.dashboard-header` с текстом "Дашборд - Сектор 1С"
- Навигация реализована через Vue Router
- Стартовая страница доступна по маршруту `/`

**Требуется:**
- Добавить кнопку "НАЗАД" в заголовок дашборда
- Кнопка должна быть видна на десктопной и планшетной версиях
- Кнопка должна обеспечивать возврат на стартовую страницу (`/`)

---

## Модули и компоненты

### Изменяемые файлы:
- `vue-app/src/components/dashboard/DashboardSector1C.vue` — главный компонент дашборда
  - Добавление кнопки в секцию `.dashboard-header`
  - Добавление метода навигации
  - Добавление стилей для кнопки

### Используемые зависимости:
- `vue-router` — для навигации (уже используется в проекте)
- `useRouter` из `vue-router` — композабл для работы с роутером

---

## Зависимости

### От других задач:
- **TASK-005** — дашборд сектора 1С должен быть реализован и работать
- **TASK-001** — стартовая страница (`IndexPage.vue`) должна существовать

### От модулей:
- `vue-router` — для навигации
- Vue.js 3.x (Composition API) — для компонентов

---

## Ступенчатые подзадачи

1. **Импорт useRouter в компонент**
   - Добавить импорт `useRouter` из `vue-router` в секцию `<script>`

2. **Добавление метода навигации**
   - Создать метод `goBack()` в `setup()` функции
   - Метод должен выполнять `router.push('/')` для перехода на стартовую страницу

3. **Добавление кнопки в шаблон**
   - Добавить кнопку "НАЗАД" в блок `.dashboard-header`
   - Разместить кнопку слева от заголовка или справа (в зависимости от дизайна)
   - Добавить обработчик события `@click="goBack"`

4. **Стилизация кнопки**
   - Добавить стили для кнопки в секцию `<style scoped>`
   - Кнопка должна соответствовать гайдлайнам Bitrix24 UI
   - Использовать цвета и стили, соответствующие дизайн-системе

5. **Адаптивность**
   - Кнопка должна быть видна на десктопе (> 1024px)
   - Кнопка должна быть видна на планшете (768px - 1024px)
   - На мобильной версии (< 768px) кнопка в заголовке может быть скрыта (для мобильной версии будет отдельная плавающая кнопка в TASK-009-02)

---

## Технические требования

### Версии:
- **Vue.js:** 3.x (Composition API)
- **Vue Router:** последняя версия (уже используется в проекте)

### Дизайн кнопки:
- **Текст:** "НАЗАД" или иконка стрелки влево + текст
- **Стиль:** Соответствие гайдлайнам Bitrix24 UI
- **Цвет:** Основной цвет Bitrix24 или нейтральный серый
- **Размер:** Средний, удобный для клика
- **Расположение:** Слева от заголовка или справа (на усмотрение дизайнера)

### Поведение:
- При клике на кнопку происходит переход на стартовую страницу (`/`)
- Использовать `router.push('/')` для программной навигации
- Кнопка должна быть доступна во всех состояниях компонента (загрузка, ошибка, контент)

### Адаптивность:
- **Десктоп (> 1024px):** Кнопка видна в заголовке
- **Планшет (768px - 1024px):** Кнопка видна в заголовке
- **Мобильный (< 768px):** Кнопка в заголовке может быть скрыта (для мобильной версии будет отдельная плавающая кнопка)

---

## Пример реализации

### Структура заголовка:

```vue
<template>
  <div class="dashboard-sector-1c" :class="{ 'is-dragging': draggedTicket }">
    <!-- Заголовок -->
    <div class="dashboard-header">
      <button class="back-button" @click="goBack" aria-label="Вернуться на главную">
        <span class="back-button-icon">←</span>
        <span class="back-button-text">НАЗАД</span>
      </button>
      <h1>Дашборд - Сектор 1С</h1>
    </div>
    <!-- ... остальной контент ... -->
  </div>
</template>
```

### Метод навигации:

```javascript
import { onMounted, useRouter } from 'vue';

export default {
  name: 'DashboardSector1C',
  setup() {
    const router = useRouter();
    
    /**
     * Возврат на стартовую страницу
     */
    const goBack = () => {
      router.push('/');
    };
    
    // ... остальной код ...
    
    return {
      // ... остальные возвращаемые значения ...
      goBack
    };
  }
};
```

### Стили кнопки:

```css
.dashboard-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
  padding: 15px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.back-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: #f5f5f5;
  border: 1px solid #ddd;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  color: #333;
  transition: all 0.2s ease;
}

.back-button:hover {
  background: #e0e0e0;
  border-color: #bbb;
}

.back-button:active {
  background: #d0d0d0;
}

.back-button-icon {
  font-size: 18px;
  line-height: 1;
}

.back-button-text {
  font-weight: 500;
}

.dashboard-header h1 {
  flex: 1;
  color: #333;
  font-size: 24px;
  margin: 0;
  font-weight: 600;
}

/* Скрытие кнопки на мобильной версии (для плавающей кнопки) */
@media (max-width: 768px) {
  .back-button {
    display: none;
  }
}
```

---

## Критерии приёмки

- [ ] Кнопка "НАЗАД" добавлена в заголовок дашборда
- [ ] Кнопка отображается на десктопной версии (> 1024px)
- [ ] Кнопка отображается на планшетной версии (768px - 1024px)
- [ ] Кнопка скрыта на мобильной версии (< 768px) или видна (на усмотрение)
- [ ] При клике на кнопку происходит переход на стартовую страницу (`/`)
- [ ] Кнопка работает во всех состояниях компонента (загрузка, ошибка, контент)
- [ ] Стили кнопки соответствуют гайдлайнам Bitrix24 UI
- [ ] Кнопка имеет hover-эффект и визуальную обратную связь
- [ ] Кнопка доступна для навигации с клавиатуры (accessibility)
- [ ] Код соответствует стандартам Vue.js и PSR-12 (для комментариев)

---

## Тестирование

### Функциональное тестирование:
1. Открыть дашборд сектора 1С (`/dashboard/sector-1c`)
2. Проверить наличие кнопки "НАЗАД" в заголовке
3. Кликнуть на кнопку — должен произойти переход на стартовую страницу (`/`)
4. Проверить работу кнопки в состоянии загрузки
5. Проверить работу кнопки в состоянии ошибки
6. Проверить работу кнопки при отображении контента

### Адаптивное тестирование:
1. Проверить отображение кнопки на десктопе (> 1024px)
2. Проверить отображение кнопки на планшете (768px - 1024px)
3. Проверить скрытие кнопки на мобильной версии (< 768px)

### Тестирование доступности:
1. Проверить работу кнопки с клавиатуры (Tab, Enter)
2. Проверить наличие aria-label для screen readers
3. Проверить контрастность текста кнопки

---

## Связанные задачи

- **TASK-009-02:** Плавающая кнопка "НАЗАД" для мобильной версии дашборда сектора 1С
- **TASK-005:** Внедрение дашборда сектора 1С (базовая реализация)

---

## История правок

- **2025-12-06 13:26 (UTC+3, Брест):** Создана задача TASK-009-01 для добавления кнопки "НАЗАД" в заголовок дашборда сектора 1С

---

**Автор:** UX/UI-дизайнер  
**Статус:** Новая

