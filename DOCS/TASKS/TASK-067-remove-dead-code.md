# TASK-067: –£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ –∏–∑ `api/graph-1c-admission-closure.php`

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-23 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –†–µ—Ñ–∞–∫—Ç–æ—Ä-–º–µ–Ω–µ–¥–∂–µ—Ä  
**–°–≤—è–∑–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞:** TASK-065

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å (TASK-065), –≤ legacy —Ñ–∞–π–ª–µ `api/graph-1c-admission-closure.php` –æ—Å—Ç–∞–ª—Å—è –º—ë—Ä—Ç–≤—ã–π –∫–æ–¥ (dead code) ‚Äî –∫–æ–¥ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, –∫–æ—Ç–æ—Ä—ã–π –±–æ–ª—å—à–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –≤ —Å—Ç—Ä–æ–∫–∞—Ö 664-667.

---

## üéØ –¶–µ–ª—å

–£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏–∑ legacy —Ñ–∞–π–ª–∞, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ:
1. –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Å—è—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º)
2. –ö–æ–¥ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (`periodMode=months`) ‚Äî —Ä–µ–∂–∏–º "3 –º–µ—Å—è—Ü–∞" (TASK-053-03, TASK-058-01)
3. –ü—Ä–æ–∫—Å–∏ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (redirect –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)

---

## üîé –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ß—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è (–Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å):

**–°—Ç—Ä–æ–∫–∏ 1-639: –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**
- `setupAppLogging()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Å—è—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
- `jsonResponse()`, `parseJsonBody()` ‚Äî —É—Ç–∏–ª–∏—Ç—ã –æ—Ç–≤–µ—Ç–∞
- `getWeekBounds()`, `getFourWeeksBounds()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –º–µ—Å—è—á–Ω–æ–º —Ä–µ–∂–∏–º–µ
- `calculateLastFourMonths()`, `calculateWeeksInMonth()` ‚Äî –º–µ—Å—è—á–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- `isInRange()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç
- `calculateWeekMetrics()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–µ—Å—è—á–Ω–æ–º —Ä–µ–∂–∏–º–µ (–∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –Ω–µ–¥–µ–ª—è–º –≤–Ω—É—Ç—Ä–∏ –º–µ—Å—è—Ü–∞)
- `calculateDurationCategory()` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ä–æ–∫–æ–≤
- `isCarryoverTicket()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–µ—Å—è—á–Ω–æ–º —Ä–µ–∂–∏–º–µ

**–°—Ç—Ä–æ–∫–∏ 640-1693: –ú–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (`periodMode=months`)**
- –†–µ–∂–∏–º "3 –º–µ—Å—è—Ü–∞" (TASK-053-03): –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞
- –†–µ–∂–∏–º "4 –º–µ—Å—è—Ü–∞" (TASK-058-01): –∑–∞–≥—Ä—É–∂–∞–µ—Ç 4 –º–µ—Å—è—Ü–∞ (3 –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è + 1 –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix24 (3 –∑–∞–ø—Ä–æ—Å–∞)
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º –∏ –Ω–µ–¥–µ–ª—è–º
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

**–°—Ç—Ä–æ–∫–∏ 663-667: –ü—Ä–æ–∫—Å–∏ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞**
```php
if ($periodMode === 'weeks') {
    require_once __DIR__ . '/graph-admission-closure/bootstrap.php';
    exit;
}
```

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å (–º—ë—Ä—Ç–≤—ã–π –∫–æ–¥):

**–°—Ç—Ä–æ–∫–∏ 1695-2787: –ö–æ–¥ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞**
- –ö–æ–¥ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 1693 –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å
- –í–∫–ª—é—á–∞–µ—Ç:
  - –ó–∞–ø—Ä–æ—Å—ã –∫ Bitrix24 –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—é –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

## üìù –ü–ª–∞–Ω —Ä–∞–±–æ—Ç

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Å—Ç—Ä–æ–∫ 1695-2787 –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Å—è—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å

### –®–∞–≥ 2: –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- [ ] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ git

### –®–∞–≥ 3: –£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
- [ ] –£–¥–∞–ª–∏—Ç—å –∫–æ–¥ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 1693 (–ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–ª–æ–∫–∞ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
  - –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (1-639)
  - –ú–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (640-1693)
  - –ü—Ä–æ–∫—Å–∏ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (663-667)
  - –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (try-catch)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP: `php -l api/graph-1c-admission-closure.php`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥ —É–¥–∞–ª—ë–Ω (—Å—Ç—Ä–æ–∫–∏ 1695-2787)
- [ ] –ú–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å
- [ ] –°–∏–Ω—Ç–∞–∫—Å–∏—Å PHP –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –§–∞–π–ª —Å—Ç–∞–ª –∫–æ—Ä–æ—á–µ (~1693 —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ 2796)
- [ ] –ö–æ–¥ —Å—Ç–∞–ª –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

1. **–†–∏—Å–∫:** –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Å—è—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –¢—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

2. **–†–∏—Å–∫:** –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è

3. **–†–∏—Å–∫:** –ü–æ—Ç–µ—Ä—è –≤–∞–∂–Ω–æ–≥–æ –∫–æ–¥–∞
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∏ git commit –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ:
- –§–∞–π–ª: ~2796 —Å—Ç—Ä–æ–∫
- –°–º–µ—à–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞: –Ω–µ–¥–µ–ª—å–Ω—ã–π + –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º—ã
- –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: ~1092 —Å—Ç—Ä–æ–∫–∏ (–Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### –ü–æ—Å–ª–µ:
- –§–∞–π–ª: ~1693 —Å—Ç—Ä–æ–∫–∏
- –ß–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞: —Ç–æ–ª—å–∫–æ –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (3 –º–µ—Å—è—Ü–∞) + –ø—Ä–æ–∫—Å–∏ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: 0 —Å—Ç—Ä–æ–∫

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –Ω–∞ ~40%
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ –æ—à–∏–±–æ–∫

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- **TASK-065:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ —Å–ª–æ–∏ (–Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω)
- **TASK-065 (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ):** –ü–µ—Ä–µ–Ω–æ—Å –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å (–ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å legacy —Ñ–∞–π–ª)

---

---

## üìã –ß–∞—Å—Ç—å 2: –ü–ª–∞–Ω –ø–µ—Ä–µ–Ω–æ—Å–∞ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å (10 —ç—Ç–∞–ø–æ–≤)

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (`periodMode=months`) –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å `api/graph-admission-closure/`. –ü–ª–∞–Ω —Ä–∞–∑–±–∏—Ç –Ω–∞ 10 —ç—Ç–∞–ø–æ–≤ (67-1 ‚Äî 67-10).

---

## –≠—Ç–∞–ø 67-1: –ê–Ω–∞–ª–∏–∑ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ —Ñ–∏–∫—Å–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

### –¶–µ–ª—å
–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

### –ó–∞–¥–∞—á–∏
- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–µ–¥–µ–ª—å–Ω—ã–º)
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:
  - `meta.periodMode = "months"`
  - `meta.months` ‚Äî –º–∞—Å—Å–∏–≤ –∏–∑ 3 –º–µ—Å—è—Ü–µ–≤ —Å –Ω–µ–¥–µ–ª—è–º–∏
  - `meta.periodStartUtc`, `meta.periodEndUtc`
  - `data.newTicketsByMonth`, `data.closedTicketsByMonth`, `data.carryoverTicketsByMonth`
  - `data.previousPeriodData` ‚Äî –¥–∞–Ω–Ω—ã–µ 4-–≥–æ –º–µ—Å—è—Ü–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (TASK-058-01)
  - `data.stages` ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ —Å—Ç–∞–¥–∏—è–º
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:
  - –ó–∞–≥—Ä—É–∑–∫–∞ 4 –º–µ—Å—è—Ü–µ–≤ (3 –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è + 1 –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤)
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Bitrix24 (TASK-059-03)
  - –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –≤ –æ–¥–∏–Ω —Ü–∏–∫–ª (TASK-059-02)
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL 300 —Å–µ–∫—É–Ω–¥

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è `DOCS/ANALYSIS/graph-admission-closure-spec.md` (—Ä–∞–∑–¥–µ–ª months mode)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –í—Å–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## –≠—Ç–∞–ø 67-2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ DatePeriodHelper –¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –¶–µ–ª—å
–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –º–µ—Å—è—Ü–∞–º–∏ –≤ `util/DatePeriodHelper.php`.

### –ó–∞–¥–∞—á–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `calculateLastFourMonths(): array` –≤ DatePeriodHelper
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 4 –º–µ—Å—è—Ü–∞ (3 –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è + 1 –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤)
  - –í–∫–ª—é—á–∞–µ—Ç –Ω–µ–¥–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞: monthNumber, monthName, year, monthStartUtc, monthEndUtc, weeks[]
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `calculateWeeksInMonth()` —É–∂–µ –µ—Å—Ç—å –≤ DatePeriodHelper
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-admission-closure/util/DatePeriodHelper.php`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] calculateLastFourMonths() –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –õ–æ–≥–∏–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ legacy –∫–æ–¥—É

---

## –≠—Ç–∞–ø 67-3: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ BitrixClient –¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.

### –ó–∞–¥–∞—á–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `fetchTicketsForMonths(DateTimeImmutable $start, DateTimeImmutable $end, string $product, bool $debug): array`
  - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç created –∏ closed —Ç–∏–∫–µ—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (TASK-059-03)
  - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `fetchCarryoverTicketsForMonths(array $targetStages, DateTimeImmutable $endDate, string $product, bool $debug): array`
  - –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏—Ö —Ç–∏–∫–µ—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ createdTime (TASK-059-01)
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ legacy (executeParallelQueries)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-admission-closure/bitrix/BitrixClient.php`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ú–µ—Ç–æ–¥—ã –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Fallback –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –õ–æ–≥–∏–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ legacy –∫–æ–¥—É

---

## –≠—Ç–∞–ø 67-4: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Aggregator –¥–ª—è –º–µ—Å—è—á–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

### –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ `domain/Aggregator.php`.

### –ó–∞–¥–∞—á–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `aggregateMonths(array $months, array $tickets, ...): array`
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –ø–æ –º–µ—Å—è—Ü–∞–º –∏ –Ω–µ–¥–µ–ª—è–º –≤–Ω—É—Ç—Ä–∏ –º–µ—Å—è—Ü–µ–≤
  - –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –≤ –æ–¥–∏–Ω —Ü–∏–∫–ª (TASK-059-02)
  - –†–∞–∑–±–∏–≤–∫–∞ carryover –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (this/prev/older) –¥–ª—è –Ω–µ–¥–µ–ª—å –≤–Ω—É—Ç—Ä–∏ –º–µ—Å—è—Ü–µ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `calculatePreviousPeriodData(array $previousMonth, array $tickets, ...): array`
  - –†–∞—Å—á—ë—Ç –¥–∞–Ω–Ω—ã—Ö 4-–≥–æ –º–µ—Å—è—Ü–∞ –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (TASK-058-01)
  - newTickets, closedTickets, carryoverTickets
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã `calculateWeekMetrics()` –∏ `isCarryoverTicket()`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–∑–±–∏–≤–∫–∏ –ø–æ —Å—Ç–∞–¥–∏—è–º

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-admission-closure/domain/Aggregator.php`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] aggregateMonths() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] calculatePreviousPeriodData() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –õ–æ–≥–∏–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ legacy –∫–æ–¥—É
- [ ] –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è

---

## –≠—Ç–∞–ø 67-5: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Service –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ months —Ä–µ–∂–∏–º–∞

### –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ `service/GraphAdmissionClosureService.php`.

### –ó–∞–¥–∞—á–∏
- [ ] –£–¥–∞–ª–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É `throw new RuntimeException('months mode not migrated yet')`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `handleMonthsMode(array $payload): array`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞ (—á–µ—Ä–µ–∑ CacheStore)
  - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ BitrixClient (fetchTicketsForMonths, fetchCarryoverTicketsForMonths)
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Aggregator (aggregateMonths, calculatePreviousPeriodData)
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (newTicketsByMonth, closedTicketsByMonth, carryoverTicketsByMonth)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à (TTL 300 —Å–µ–∫—É–Ω–¥)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å handleMonthsMode() –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ handle()
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-admission-closure/service/GraphAdmissionClosureService.php`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] handleMonthsMode() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ handle() –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## –≠—Ç–∞–ø 67-6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–µ—à–∞ –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

### –¶–µ–ª—å
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ CacheStore.

### –ó–∞–¥–∞—á–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CacheStore –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–ª—é—á–∏ –∫–µ—à–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–≤–∫–ª—é—á–∞—è periodMode=months)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TTL (300 —Å–µ–∫—É–Ω–¥ –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–µ—à-—Ö–∏—Ç—ã –∏ –ø—Ä–æ–º–∞—Ö–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å clearExpired() –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-admission-closure/cache/CacheStore.php` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] TTL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –¢–µ—Å—Ç—ã –∫–µ—à–∞ –ø—Ä–æ–π–¥–µ–Ω—ã

---

## –≠—Ç–∞–ø 67-7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ –Ω–æ–≤–æ–º –º–æ–¥—É–ª–µ

### –¶–µ–ª—å
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –Ω–æ–≤–æ–º –º–æ–¥—É–ª–µ.

### –ó–∞–¥–∞—á–∏
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:
  - –° forceRefresh –∏ –±–µ–∑
  - –° includeCarryoverTickets –∏ –±–µ–∑
  - –° includeTickets –∏ –±–µ–∑
  - –° debug –∏ –±–µ–∑
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å JSON –æ—Ç–≤–µ—Ç—ã (–Ω–æ–≤—ã–π –º–æ–¥—É–ª—å vs legacy)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏:
  - newTicketsByMonth (—Å—É–º–º—ã –ø–æ –º–µ—Å—è—Ü–∞–º)
  - closedTicketsByMonth (—Å—É–º–º—ã –ø–æ –º–µ—Å—è—Ü–∞–º)
  - carryoverTicketsByMonth (—Å—É–º–º—ã –ø–æ –º–µ—Å—è—Ü–∞–º)
  - previousPeriodData (4-–π –º–µ—Å—è—Ü)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–µ—à (—Ö–∏—Ç—ã/–ø—Ä–æ–º–∞—Ö–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–¥–æ/–ø–æ—Å–ª–µ)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] JSON –æ—Ç–≤–µ—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã (–Ω–æ–≤—ã–π –º–æ–¥—É–ª—å vs legacy)
- [ ] –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –ö–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Ö—É–∂–µ legacy

---

## –≠—Ç–∞–ø 67-8: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –≤ legacy —Ñ–∞–π–ª–µ

### –¶–µ–ª—å
–û–±–Ω–æ–≤–∏—Ç—å legacy —Ñ–∞–π–ª –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å.

### –ó–∞–¥–∞—á–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ `api/graph-1c-admission-closure.php`:
  ```php
  if ($periodMode === 'weeks') {
      require_once __DIR__ . '/graph-admission-closure/bootstrap.php';
      exit;
  }
  
  if ($periodMode === 'months') {
      require_once __DIR__ . '/graph-admission-closure/bootstrap.php';
      exit;
  }
  ```
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±–∞ —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-1c-admission-closure.php`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ü—Ä–æ–∫—Å–∏ –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –û–±–∞ —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–π–¥–µ–Ω—ã

---

## –≠—Ç–∞–ø 67-9: –£–¥–∞–ª–µ–Ω–∏–µ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏–∑ legacy —Ñ–∞–π–ª–∞

### –¶–µ–ª—å
–£–¥–∞–ª–∏—Ç—å –∫–æ–¥ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏–∑ legacy —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞.

### –ó–∞–¥–∞—á–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é legacy —Ñ–∞–π–ª–∞
- [ ] –£–¥–∞–ª–∏—Ç—å –∫–æ–¥ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Å—Ç—Ä–æ–∫–∏ 640-1693)
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
  - –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–æ–≤—ã–º –º–æ–¥—É–ª–µ–º)
  - –ü—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤ (weeks –∏ months)
  - –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `api/graph-1c-admission-closure.php` (—Ç–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ö–æ–¥ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —É–¥–∞–ª—ë–Ω –∏–∑ legacy
- [ ] Legacy —Ñ–∞–π–ª —Å—Ç–∞–ª —Ç–æ–Ω–∫–∏–º –ø—Ä–æ–∫—Å–∏
- [ ] –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –ü—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –≠—Ç–∞–ø 67-10: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –¶–µ–ª—å
–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

### –ó–∞–¥–∞—á–∏
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤ (weeks –∏ months)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `DOCS/ANALYSIS/graph-admission-closure-spec.md`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `DOCS/TASKS/TASK-065-refactor-graph-1c-admission-closure.md` (—Å—Ç–∞—Ç—É—Å)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `DOCS/TASKS/TASK-065-10-stages-detailed.md` (—Å—Ç–∞—Ç—É—Å –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –æ –ø–µ—Ä–µ–Ω–æ—Å–µ

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç —Å–æ–∑–¥–∞–Ω

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å (—ç—Ç–∞–ø—ã 67-1 ‚Äî 67-10), –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å legacy —Ñ–∞–π–ª `api/graph-1c-admission-closure.php` –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –∫–∞–∫ —Ç–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
- –ù–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–ø–µ (—É–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞) –æ—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (3 –º–µ—Å—è—Ü–∞) –≤ legacy –¥–æ –µ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞.
- –ú–µ—Å—è—á–Ω—ã–π —Ä–µ–∂–∏–º (`periodMode=months`) —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ TASK-053-03 (3 –º–µ—Å—è—Ü–∞) –∏ TASK-058-01 (4 –º–µ—Å—è—Ü–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤).

