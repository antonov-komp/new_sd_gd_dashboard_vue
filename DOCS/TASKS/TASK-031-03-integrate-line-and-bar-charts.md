# TASK-031-03: –≠—Ç–∞–ø 3 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ª–∏–Ω–µ–π–Ω—ã–π –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-11 15:29 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** –ù–æ–≤–∞—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Bitrix24 –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Vue.js)  
**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:** TASK-031

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –ª–∏–Ω–µ–π–Ω—ã–π –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–∞ 1–°. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —á–µ—Ä–µ–∑ tooltips –∏ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å —É—á–µ—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö UX-—Ä–µ—à–µ–Ω–∏–π.

---

## ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤

### –≠—Ç–∞–ø 1 (TASK-031-01) - –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:
- **–õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫:** –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (tooltip + –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç–æ—á–∫—É)
- **–°—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
- **–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:** –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –ú–∞–∫—Å–∏–º—É–º 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≥–ª–æ–±–∞–ª—å–Ω–æ

### –≠—Ç–∞–ø 2 (TASK-031-02) - –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `prepareLineChartEmployeeData()` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- `prepareBarChartEmployeeData()` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- `formatEmployeeProgressBarData()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- `groupEmployeesByCount()` ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `calculateEmployeePercentages()` ‚Äî —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- `getEmployeeColorForBarChart()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–æ–ª–±—Ü–∞

---

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞

1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (tooltip + –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã)
3. –û–±–Ω–æ–≤–∏—Ç—å tooltips –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 3.1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

### 3.1.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareChartData()` –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 707-838

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏—è `prepareChartData()` —Å–æ–∑–¥–∞–µ—Ç datasets –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ —Å —Å—É–º–º–∞—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ç–∏–∫–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏ (–Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏, –∫–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ).

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É datasets (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è), –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞.

#### –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**
   - Datasets –æ—Å—Ç–∞—é—Ç—Å—è —Å —Å—É–º–º–∞—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–∫–∞–∫ —Å–µ–π—á–∞—Å)
   - –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –∫–∞–∂–¥—É—é —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareLineChartEmployeeData()` –∏–∑ —ç—Ç–∞–ø–∞ 2
   - –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `dataset.meta` –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

```javascript
{
  labels: ['–ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏', '–ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏', '–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ'],
  datasets: [
    {
      label: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ',
      data: [10, 15, 20],  // –°—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–∫–∞–∫ —Å–µ–π—á–∞—Å)
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
      meta: {
        // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞
        employees: {
          weekStart: [
            { id: 123, name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", count: 5, percentage: 50.0 },
            // ... –¥—Ä—É–≥–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
          ],
          weekEnd: [
            // ... –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏
          ],
          current: [
            // ... –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
          ],
          others: {
            weekStart: { count: 2, employeeCount: 1 },
            weekEnd: { count: 0, employeeCount: 0 },
            current: { count: 0, employeeCount: 0 }
          }
        }
      }
    },
    // ... –¥—Ä—É–≥–∏–µ —ç—Ç–∞–ø—ã
  ]
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareLineChartEmployeeData()` –∏–∑ `employeeChartUtils.js`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareChartData()` –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `prepareLineChartEmployeeData()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

---

### 3.1.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tooltip –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 492-627 (chartOptions)

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.label`

```javascript
label: (context) => {
  const label = context.dataset.label || '';
  const value = context.parsed.y || 0;
  const index = context.dataIndex;
  
  // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–∫–∞–∫ —Å–µ–π—á–∞—Å)
  let result = `${label}: ${value} —Ç–∏–∫–µ—Ç–æ–≤`;
  
  // –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è ...
  
  return result;
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.afterBody`

```javascript
afterBody: (tooltipItems) => {
  // –¢–æ–ª—å–∫–æ –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
  if (chartType.value !== 'line') {
    return [];
  }
  
  // –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
  return ['–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º'];
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.label` (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.afterBody` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ tooltip –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

---

### 3.1.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç–æ—á–∫—É –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º (—Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏).

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞

```javascript
/**
 * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —Ç–æ—á–∫—É –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
 * 
 * @param {Event} event - –°–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞
 * @param {Array} elements - –ú–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
 * @param {Object} chart - –≠–∫–∑–µ–º–ø–ª—è—Ä Chart.js
 */
function handleLineChartClick(event, elements, chart) {
  if (chartType.value !== 'line' || elements.length === 0) {
    return;
  }
  
  const element = elements[0];
  const datasetIndex = element.datasetIndex;
  const dataIndex = element.index;
  
  // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞
  const dataset = chart.data.datasets[datasetIndex];
  const stageId = getStageIdFromLabel(dataset.label);
  
  // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–æ—á–∫—É –ø–æ –∏–Ω–¥–µ–∫—Å—É
  const timePoint = getTimePointFromIndex(dataIndex);
  
  // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  const employeeData = dataset.meta?.employees?.[timePoint];
  
  if (!employeeData) {
    return;
  }
  
  // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
  openEmployeeDetailsModal(stageId, timePoint, employeeData);
}
```

#### –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏

```javascript
/**
 * –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É –¥–∞–Ω–Ω—ã—Ö
 * 
 * @param {number} index - –ò–Ω–¥–µ–∫—Å —Ç–æ—á–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞ (0, 1, 2)
 * @returns {string} –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ ('weekStart' | 'weekEnd' | 'current')
 */
function getTimePointFromIndex(index) {
  if (index === 0) return 'weekStart';
  if (index === 1) return 'weekEnd';
  if (index === 2) return 'current';
  return 'weekEnd'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ chartOptions

```javascript
const chartOptions = computed(() => {
  const baseOptions = {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ü–∏–∏ ...
    onClick: (event, elements, chart) => {
      if (chartType.value === 'line') {
        handleLineChartClick(event, elements, chart);
      }
    }
  };
  // ...
});
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `handleLineChartClick()`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getTimePointFromIndex()`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `chartOptions.onClick`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∏–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ—Ç

---

### 3.1.4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–§–∞–π–ª:** `vue-app/src/components/graph-state/EmployeeDetailsModal.vue` (–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```vue
<template>
  <div v-if="isVisible" class="employee-details-modal" @click.self="close">
    <div class="modal-content">
      <div class="modal-header">
        <h3>{{ stageName }}</h3>
        <span class="modal-total">–í—Å–µ–≥–æ: {{ totalCount }} —Ç–∏–∫–µ—Ç–æ–≤</span>
        <button class="modal-close" @click="close">√ó</button>
      </div>
      <div class="modal-body">
        <div class="employees-list">
          <div
            v-for="employee in employees"
            :key="employee.id"
            class="employee-item"
          >
            <span class="employee-name">{{ employee.name }}</span>
            <div class="employee-progress">
              <div
                class="progress-bar"
                :style="{
                  width: employee.progressBarWidth + '%',
                  backgroundColor: employee.progressBarColor
                }"
              ></div>
            </div>
            <span class="employee-count">
              {{ employee.count }} —Ç–∏–∫–µ—Ç–æ–≤ ({{ employee.percentage }}%)
            </span>
          </div>
          <div v-if="others && others.count > 0" class="employee-item employee-others">
            <span class="employee-name">–î—Ä—É–≥–∏–µ ({{ others.employeeCount }})</span>
            <div class="employee-progress">
              <div
                class="progress-bar"
                :style="{
                  width: others.progressBarWidth + '%',
                  backgroundColor: others.progressBarColor
                }"
              ></div>
            </div>
            <span class="employee-count">
              {{ others.count }} —Ç–∏–∫–µ—Ç–æ–≤ ({{ others.percentage }}%)
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue';

const props = defineProps({
  isVisible: {
    type: Boolean,
    default: false
  },
  stageName: {
    type: String,
    required: true
  },
  totalCount: {
    type: Number,
    required: true
  },
  employees: {
    type: Array,
    default: () => []
  },
  others: {
    type: Object,
    default: null
  }
});

const emit = defineEmits(['close']);

function close() {
  emit('close');
}
</script>
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ GraphStateChart.vue

```vue
<template>
  <!-- ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ... -->
  
  <EmployeeDetailsModal
    v-if="showEmployeeModal"
    :is-visible="showEmployeeModal"
    :stage-name="modalStageName"
    :total-count="modalTotalCount"
    :employees="modalEmployees"
    :others="modalOthers"
    @close="closeEmployeeModal"
  />
</template>

<script setup>
import EmployeeDetailsModal from '@/components/graph-state/EmployeeDetailsModal.vue';

const showEmployeeModal = ref(false);
const modalStageName = ref('');
const modalTotalCount = ref(0);
const modalEmployees = ref([]);
const modalOthers = ref(null);

function openEmployeeDetailsModal(stageId, timePoint, employeeData) {
  const stage = stages.find(s => s.id === stageId);
  const snapshot = getSnapshotByTimePoint(timePoint);
  const totalCount = getStageTotalCount(stageId, snapshot);
  
  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
  const formatted = formatEmployeeProgressBarData(
    employeeData,
    totalCount,
    10
  );
  
  modalStageName.value = stage.name;
  modalTotalCount.value = totalCount;
  modalEmployees.value = formatted.employees;
  modalOthers.value = formatted.others;
  showEmployeeModal.value = true;
}

function closeEmployeeModal() {
  showEmployeeModal.value = false;
}
</script>
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EmployeeDetailsModal.vue`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `GraphStateChart.vue`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `openEmployeeDetailsModal()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `closeEmployeeModal()`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –∫–ª–∞–≤–∏—à–µ Escape

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 3.2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫

### 3.2.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareChartData()` –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 707-838

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏—è `prepareChartData()` —Å–æ–∑–¥–∞–µ—Ç datasets –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ —Å —Å—É–º–º–∞—Ä–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareBarChartEmployeeData()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞).

#### –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –≥—Ä–∞—Ñ–∏–∫–∞:**
   - –ï—Å–ª–∏ `chartType.value === 'bar'`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `prepareBarChartEmployeeData()`
   - –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —ç—Ç–∞–ø–∞ 2:**
   - –í—ã–∑–≤–∞—Ç—å `prepareBarChartEmployeeData(snapshots, snapshotType)`
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π —Å–ª–µ–ø–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (current, weekEnd, weekStart)

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ prepareChartData()

```javascript
function prepareChartData(snapshotsData) {
  // –î–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É
  if (chartType.value === 'doughnut') {
    return prepareDoughnutData(snapshotsData);
  }

  // –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã
  if (chartType.value === 'bar') {
    const snapshotType = props.showCurrentState && snapshotsData.current
      ? 'current'
      : snapshotsData.weekEnd
      ? 'weekEnd'
      : 'weekStart';
    
    return prepareBarChartEmployeeData(snapshotsData, snapshotType);
  }

  // –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –ª–æ–≥–∏–∫—É —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö ...
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareBarChartEmployeeData()` –∏–∑ `employeeChartUtils.js`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `prepareChartData()` –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Å–ª–µ–ø–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–µ–≥–µ–Ω–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

### 3.2.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tooltip –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 492-627 (chartOptions)

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ dataset (—ç—Ç–∞–ø–µ).

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–æ–ª–±—Ü–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–∏–º—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤, —ç—Ç–∞–ø, –ø—Ä–æ—Ü–µ–Ω—Ç).

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.label`

```javascript
label: (context) => {
  // –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ
  if (chartType.value === 'bar') {
    const dataset = context.dataset;
    const value = context.parsed.y || 0;
    const stageIndex = context.dataIndex;
    const stageName = context.chart.data.labels[stageIndex];
    
    return `${dataset.label}: ${value} —Ç–∏–∫–µ—Ç–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ "${stageName}"`;
  }
  
  // –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞
  // ...
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ callback `tooltip.callbacks.afterBody`

```javascript
afterBody: (tooltipItems) => {
  // –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç—Ç–∞–ø–∞
  if (chartType.value === 'bar' && tooltipItems.length > 0) {
    const context = tooltipItems[0];
    const dataset = context.dataset;
    const value = context.parsed.y || 0;
    const stageIndex = context.dataIndex;
    
    // –ü–æ–ª—É—á–∏—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤ —ç—Ç–∞–ø–∞
    const totalCount = getStageTotalForBarChart(stageIndex);
    const percentage = totalCount > 0 ? ((value / totalCount) * 100).toFixed(1) : 0;
    
    return [`${percentage}% –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç—Ç–∞–ø–∞`];
  }
  
  // –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ
  // ...
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.label` –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å callback `tooltip.callbacks.afterBody` –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getStageTotalForBarChart()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

### 3.2.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–≥–µ–Ω–¥—ã –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`  
**–°—Ç—Ä–æ–∫–∏:** 496-509 (chartOptions.plugins.legend)

#### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–õ–µ–≥–µ–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞–ø—ã (–¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞) –∏–ª–∏ —ç—Ç–∞–ø—ã (–¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞).

#### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –ª–µ–≥–µ–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–∫–∞–∂–¥—ã–π dataset ‚Äî –æ–¥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫).

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–µ–≥–µ–Ω–¥—ã

```javascript
plugins: {
  legend: {
    display: true,
    position: chartType.value === 'doughnut' ? 'right' : 'top',
    onClick: (e, legendItem, legend) => {
      // –î–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç–æ–ª–±—Ü–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
      if (chartType.value === 'bar') {
        const index = legendItem.datasetIndex;
        if (index !== undefined) {
          const meta = legend.chart.getDatasetMeta(index);
          meta.hidden = !meta.hidden;
          legend.chart.update();
        }
        return;
      }
      
      // –î–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ - —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞
      // ...
    }
  }
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ª–µ–≥–µ–Ω–¥—ã –¥–ª—è —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–µ–≥–µ–Ω–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —á–µ—Ä–µ–∑ –ª–µ–≥–µ–Ω–¥—É
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ > 10 (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ "–î—Ä—É–≥–∏–µ")

---

## üìù –ü–æ–¥–∑–∞–¥–∞—á–∞ 3.3: –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3.3.1. –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

**–§–∞–π–ª:** `vue-app/src/components/graph-state/EmployeeDetailsModal.vue`

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç–∏–ª—è–º

- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–∞–π–¥–ª–∞–π–Ω–∞–º Bitrix24 UI Kit
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∏–ª–µ–π

```css
.employee-details-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease;
}

.modal-content {
  background: var(--b24-bg-white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  max-width: 600px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  animation: slideUp 0.3s ease;
}

.employee-progress {
  flex: 1;
  height: 20px;
  background-color: var(--b24-bg-light);
  border-radius: var(--radius-sm);
  overflow: hidden;
  margin: 0 12px;
}

.progress-bar {
  height: 100%;
  transition: width 0.3s ease;
  border-radius: var(--radius-sm);
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞

---

### 3.3.2. –°—Ç–∏–ª–∏ –¥–ª—è tooltip

**–§–∞–π–ª:** `vue-app/src/components/graph-state/GraphStateChart.vue`

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç–∏–ª—è–º

- –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ tooltip
- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–º–µ—Ç–Ω–æ–π

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

```css
/* –°—Ç–∏–ª–∏ –¥–ª—è tooltip —á–µ—Ä–µ–∑ Chart.js –æ–ø—Ü–∏–∏ */
tooltip: {
  backgroundColor: 'rgba(0, 0, 0, 0.8)',
  titleColor: '#fff',
  bodyColor: '#fff',
  borderColor: 'rgba(255, 255, 255, 0.1)',
  borderWidth: 1,
  padding: 12,
  titleFont: {
    size: 14,
    weight: 'bold'
  },
  bodyFont: {
    size: 13
  },
  footerFont: {
    size: 12,
    style: 'italic'
  }
}
```

#### –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ tooltip —á–µ—Ä–µ–∑ Chart.js –æ–ø—Ü–∏–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ –∫–ª–∏–∫–µ –∑–∞–º–µ—Ç–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å tooltip –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ–Ω–∞—Ö

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —ç—Ç–∞–ø–∞

### –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫:

- [ ] Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- [ ] Tooltip —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–∫–ª–∏–∫ –≤–Ω–µ, Escape, –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è)
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –Ω–µ—Ç

### –°—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫:

- [ ] –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
- [ ] –°—Ç–æ–ª–±—Ü—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —ç—Ç–∞–ø–∞–º
- [ ] Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–æ–ª–±—Ü–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- [ ] –õ–µ–≥–µ–Ω–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —á–µ—Ä–µ–∑ –ª–µ–≥–µ–Ω–¥—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ > 10 (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ "–î—Ä—É–≥–∏–µ")

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —ç—Ç–∞–ø–∞ 2 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- [ ] –°—Ç–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≥–∞–π–¥–ª–∞–π–Ω–∞–º Bitrix24 UI Kit
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ —Å —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã tooltips –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 1. –¢–µ—Å—Ç –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip**
- –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–ª–∏–∫–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞**
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Ç–æ—á–∫—É –≥—Ä–∞—Ñ–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞**
- –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "√ó"
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- –ó–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏—à—É Escape

#### 2. –¢–µ—Å—Ç —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤**
- –í—ã–±—Ä–∞—Ç—å —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–æ–ª–±—Ü—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —ç—Ç–∞–ø–∞–º
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: Tooltip –Ω–∞ —Å—Ç–æ–ª–±—Ü–µ**
- –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –õ–µ–≥–µ–Ω–¥–∞**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ª–µ–≥–µ–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –ª–µ–≥–µ–Ω–¥—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–æ–ª–±–µ—Ü —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è/–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

1. **`vue-app/src/components/graph-state/EmployeeDetailsModal.vue`**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º

### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`vue-app/src/components/graph-state/GraphStateChart.vue`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareChartData()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `chartOptions` –¥–ª—è tooltips
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–∞ –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `EmployeeDetailsModal`

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:
- `vue-app/src/components/graph-state/GraphStateChart.vue` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞
- `vue-app/src/utils/graph-state/employeeChartUtils.js` ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `DOCS/TASKS/TASK-031-integrate-employee-details-into-charts.md` ‚Äî —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞
- `DOCS/TASKS/TASK-031-01-analysis-and-design.md` ‚Äî —ç—Ç–∞–ø 1 (–∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `DOCS/TASKS/TASK-031-02-prepare-employee-data.md` ‚Äî —ç—Ç–∞–ø 2 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤

–≠—Ç–∞–ø 3 –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç—Ç–∞–ø–æ–≤ 1 –∏ 2:
- –í—ã–±—Ä–∞–Ω–Ω—ã–µ UX-—Ä–µ—à–µ–Ω–∏—è (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã)
- –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã)

### –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 3:
- **–≠—Ç–∞–ø 4:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É
- **–≠—Ç–∞–ø 5:** –£–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –°—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–Ω—å—à–µ
   - –ì—Ä–∞—Ñ–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–æ
   - Tooltips –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–¥–ª—è—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∫—É –≥—Ä–∞—Ñ–∏–∫–∞

3. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - Tooltips –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–º–∏ –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫

- **2025-12-11 15:29 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ TASK-031-03 –¥–ª—è —ç—Ç–∞–ø–∞ 3 "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ª–∏–Ω–µ–π–Ω—ã–π –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫–∏"

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 3:
1. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç—Ç–∞–ø—É 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

