# ะะปะพะฑะฐะปัะฝัะน ะฐะฝะฐะปะธะท ะผะตัะฐะฝะธะทะผะฐ ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ ะฒ REST ะฟัะธะปะพะถะตะฝะธะธ

**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 2025-12-23 21:44 (UTC+3, ะัะตัั)  
**ะะตััะธั:** 1.0  
**ะกัะฐััั:** ๐ข ะะบัะธะฒะตะฝ  
**ะขะธะฟ ะดะพะบัะผะตะฝัะฐ:** ะััะธัะตะบัััะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั (ะณะปะพะฑะฐะปัะฝัะน ะฐะฝะฐะปะธะท)  
**ะะฒัะพั:** ะขะตัะฝะธัะตัะบะธะน ะฟะธัะฐัะตะปั / ะะฝะฐะปะธัะธะบ

---

## ๐ฏ ะะฐะทะฝะฐัะตะฝะธะต ะดะพะบัะผะตะฝัะฐ

ะญัะพั ะดะพะบัะผะตะฝั ะฟัะตะดััะฐะฒะปัะตั **ะณะปะพะฑะฐะปัะฝัะน ะฐะฝะฐะปะธะท** ะผะตัะฐะฝะธะทะผะฐ ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ ะฒ REST ะฟัะธะปะพะถะตะฝะธะธ ะดะปั Bitrix24. ะะพะบัะผะตะฝั ะพะฟะธััะฒะฐะตั **ะฟะพะปะฝัั ะฐััะธัะตะบัััั** ัะธััะตะผั ะฟัะพะฒะตัะบะธ ัะพะณะพ, ะบัะพ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต, ะธ ะบะฐะบ ะธะผะตะฝะฝะพ ัะฐะฑะพัะฐะตั ะผะตัะฐะฝะธะทะผ ะฐััะตะฝัะธัะธะบะฐัะธะธ ะธ ะฐะฒัะพัะธะทะฐัะธะธ ะฝะฐ ะฒัะตั ััะพะฒะฝัั ัะธััะตะผั.

**ะฆะตะปะตะฒะฐั ะฐัะดะธัะพัะธั:**
- ะะฐะทัะฐะฑะพััะธะบะธ, ัะฐะฑะพัะฐััะธะต ั ัะธััะตะผะพะน ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ
- ะกะธััะตะผะฝัะต ะฐะดะผะธะฝะธัััะฐัะพัั, ะฝะฐัััะฐะธะฒะฐััะธะต ะฑะตะทะพะฟะฐัะฝะพััั
- ะะฝะฐะปะธัะธะบะธ, ะธะทััะฐััะธะต ะฐััะธัะตะบัััั ะฟัะธะปะพะถะตะฝะธั
- ะขะตััะธัะพะฒัะธะบะธ, ะฟัะพะฒะตััััะธะต ะฑะตะทะพะฟะฐัะฝะพััั

---

## ๐ ะะณะปะฐะฒะปะตะฝะธะต

1. [ะะฑัะฐั ะฐััะธัะตะบัััะฐ ัะธััะตะผั](#ะพะฑัะฐั-ะฐััะธัะตะบัััะฐ-ัะธััะตะผั)
2. [ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั](#ัะพัะบะฐ-ะฒัะพะดะฐ-ะฟัะธะปะพะถะตะฝะธั)
3. [ะะฟัะตะดะตะปะตะฝะธะต ะบะพะฝัะตะบััะฐ ะพัะบัััะธั](#ะพะฟัะตะดะตะปะตะฝะธะต-ะบะพะฝัะตะบััะฐ-ะพัะบัััะธั)
4. [ะะตัะฐะฝะธะทะผ ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั](#ะผะตัะฐะฝะธะทะผ-ะพะฟัะตะดะตะปะตะฝะธั-ะฟะพะปัะทะพะฒะฐัะตะปั)
5. [ะัะพะฒะตัะบะฐ ะฟัะฐะฒ ะดะพัััะฟะฐ](#ะฟัะพะฒะตัะบะฐ-ะฟัะฐะฒ-ะดะพัััะฟะฐ)
6. [ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ](#ะบะพะฝัะธะณััะฐัะธั-ะดะพัััะฟะฐ)
7. [ะะตะทะพะฟะฐัะฝะพััั ะธ ะพะณัะฐะฝะธัะตะฝะธั](#ะฑะตะทะพะฟะฐัะฝะพััั-ะธ-ะพะณัะฐะฝะธัะตะฝะธั)
8. [ะะธะฐะณัะฐะผะผั ะฟะพัะพะบะพะฒ ะดะฐะฝะฝัั](#ะดะธะฐะณัะฐะผะผั-ะฟะพัะพะบะพะฒ-ะดะฐะฝะฝัั)
9. [ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ ัะตะฐะปะธะทะฐัะธะธ](#ัะตัะฝะธัะตัะบะธะต-ะดะตัะฐะปะธ-ัะตะฐะปะธะทะฐัะธะธ)

---

## ๐๏ธ ะะฑัะฐั ะฐััะธัะตะบัััะฐ ัะธััะตะผั

### ะััะพะบะพััะพะฒะฝะตะฒะฐั ััะตะผะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะะะฌะะะะะขะะะฌ                                 โ
โ              (ะพัะบััะฒะฐะตั ะฟัะธะปะพะถะตะฝะธะต)                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ะขะะงะะ ะะฅะะะ: index.php                              โ
โ  โข ะะฟัะตะดะตะปัะตั ะบะพะฝัะตะบัั (iframe / standalone)                    โ
โ  โข ะะฐะณััะถะฐะตั Bitrix24 API ัะบัะธะฟั (ะตัะปะธ ะฒ iframe)                โ
โ  โข ะะฐะณััะถะฐะตั Vue.js ะฟัะธะปะพะถะตะฝะธะต                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              VUE.JS ะะะะะะะะะะ                                   โ
โ  โข main.js ะธะฝะธัะธะฐะปะธะทะธััะตั ะฟัะธะปะพะถะตะฝะธะต                            โ
โ  โข ะะพััะตั ะพะฟัะตะดะตะปัะตั ะผะฐััััั                                    โ
โ  โข IndexPage.vue ะผะพะฝัะธััะตััั                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        AccessControlService.checkAccess()                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะจะะ 1: ะะฟัะตะดะตะปะตะฝะธะต ะบะพะฝัะตะบััะฐ                              โ   โ
โ  โ   โข isInsideBitrix24() โ true/false                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะจะะ 2: ะัะพะฒะตัะบะฐ ะฟััะผะพะณะพ ะดะพัััะฟะฐ (ะตัะปะธ ะฝะต ะฒ iframe)       โ   โ
โ  โ   โข direct-access-config.php โ allow_direct_access       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะจะะ 3: ะะฝะธัะธะฐะปะธะทะฐัะธั Bitrix24 API                        โ   โ
โ  โ   โข BX24.init() (ะตัะปะธ ะฒ iframe)                           โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะจะะ 4: ะะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต               โ   โ
โ  โ   โข ะะพะฟััะบะฐ 1: BX24.callMethod('user.current')          โ   โ
โ  โ   โข ะะพะฟััะบะฐ 2: ะัะพะบัะธ API (api/bitrix24.php)              โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะจะะ 5: ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะฟะพ ะพัะดะตะปะฐะผ                        โ   โ
โ  โ   โข user.UF_DEPARTMENT vs access-config.js                โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
        โโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโ
        โผ                                       โผ
โโโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
โ ะะพัััะฟ ัะฐะทัะตััะฝ โ                  โ ะะพัััะฟ ะทะฐะฟัะตััะฝ โ
โ โข ะะพะบะฐะทัะฒะฐะตะผ UI โ                  โ โข ะะพะบะฐะทัะฒะฐะตะผ    โ
โ โข ะะฐะณััะถะฐะตะผ     โ                  โ   ัะพะพะฑัะตะฝะธะต ะพะฑ  โ
โ   ะดะฐะฝะฝัะต        โ                  โ   ะพัะธะฑะบะต        โ
โโโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
```

### ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

1. **ะขะพัะบะฐ ะฒัะพะดะฐ (index.php)**
   - ะะฟัะตะดะตะปัะตั ะบะพะฝัะตะบัั ะพัะบัััะธั (iframe / standalone)
   - ะะฐะณััะถะฐะตั ะฝะตะพะฑัะพะดะธะผัะต ัะบัะธะฟัั
   - ะะฝะธัะธะฐะปะธะทะธััะตั Vue.js ะฟัะธะปะพะถะตะฝะธะต

2. **Vue.js ะฟัะธะปะพะถะตะฝะธะต**
   - ะะปะฐะฒะฝัะน ะบะพะผะฟะพะฝะตะฝั: `IndexPage.vue`
   - ะกะตัะฒะธั ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ: `AccessControlService`
   - ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ: `access-config.js`
   - ะฃัะธะปะธัั: `direct-access-config.js`, `bitrix24-context.js`

3. **Backend API**
   - ะัะพะบัะธ API: `api/bitrix24.php` (ัะตัะตะท CRest)
   - ะะพะฝัะธะณััะฐัะธั ะฟััะผะพะณะพ ะดะพัััะฟะฐ: `api/direct-access-config.php`
   - ะะฐัััะพะนะบะธ ัะพะบะตะฝะฐ: `settings.php`, `settings.json`

4. **Bitrix24 API**
   - BX24 API (ะบะปะธะตะฝััะบะธะน): `//api.bitrix24.com/api/v1/`
   - REST API (ัะตัะฒะตัะฝัะน): ัะตัะตะท CRest

---

## ๐ช ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั

### ะคะฐะนะป: `index.php`

**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `/var/www/app/public/rest_api_aps/sd_it_gen_plan/index.php`

### ะะพะณะธะบะฐ ัะฐะฑะพัั

```php
<?php
// 1. ะะพะดะบะปััะตะฝะธะต CRest ะดะปั ัะฐะฑะพัั ั Bitrix24
require_once(__DIR__ . '/crest.php');

// 2. ะะฟัะตะดะตะปะตะฝะธะต ะบะพะฝัะตะบััะฐ ะพัะบัััะธั
$isInsideBitrix24 = isset($_GET['DOMAIN']) || 
                    (isset($_SERVER['HTTP_REFERER']) && 
                     strpos($_SERVER['HTTP_REFERER'], 'bitrix24') !== false);

// 3. ะะฐะณััะทะบะฐ Bitrix24 API ัะบัะธะฟัะฐ (ัะพะปัะบะพ ะตัะปะธ ะฒ iframe)
if ($isInsideBitrix24) {
    echo '<script src="//api.bitrix24.com/api/v1/"></script>';
}

// 4. ะะฐะณััะทะบะฐ Vue.js ะฟัะธะปะพะถะตะฝะธั
// (ะธะท dist/index.html ะธะปะธ Vite dev server)
?>
```

### ะะปััะตะฒัะต ะผะพะผะตะฝัั

1. **ะะฟัะตะดะตะปะตะฝะธะต ะบะพะฝัะตะบััะฐ:**
   - ะัะพะฒะตัะบะฐ ะฟะฐัะฐะผะตััะฐ `DOMAIN` ะฒ URL (ะฟะตัะตะดะฐัััั Bitrix24 ะฟัะธ ะพัะบัััะธะธ ะฒ iframe)
   - ะัะพะฒะตัะบะฐ `HTTP_REFERER` (ัะพะดะตัะถะธั "bitrix24" ะฟัะธ ะพัะบัััะธะธ ะธะท Bitrix24)

2. **ะฃัะปะพะฒะฝะฐั ะทะฐะณััะทะบะฐ Bitrix24 API:**
   - ะกะบัะธะฟั `//api.bitrix24.com/api/v1/` ะทะฐะณััะถะฐะตััั ัะพะปัะบะพ ะตัะปะธ `$isInsideBitrix24 === true`
   - ะญัะพ ะฟัะตะดะพัะฒัะฐัะฐะตั ะพัะธะฑะบะธ CORS ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต

3. **ะะฐะณััะทะบะฐ Vue.js:**
   - ะ production: ะธะท `dist/index.html` (ัะพะฑัะฐะฝะฝัะต ัะฐะนะปั)
   - ะ development: ะธะท Vite dev server (`http://localhost:3000`)

---

## ๐ ะะฟัะตะดะตะปะตะฝะธะต ะบะพะฝัะตะบััะฐ ะพัะบัััะธั

### ะคัะฝะบัะธั: `isInsideBitrix24()`

**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `vue-app/src/utils/bitrix24-context.js`

### ะะพะณะธะบะฐ ะพะฟัะตะดะตะปะตะฝะธั

```javascript
export function isInsideBitrix24() {
  // ะัะพะฒะตัะบะฐ 1: ะะฑัะตะบั BX24 ะดะพัััะฟะตะฝ
  if (typeof BX24 !== 'undefined') {
    return true;
  }
  
  // ะัะพะฒะตัะบะฐ 2: ะัะธะปะพะถะตะฝะธะต ะฒ iframe
  if (window.self !== window.top) {
    return true;
  }
  
  // ะัะพะฒะตัะบะฐ 3: ะะฐัะฐะผะตัั DOMAIN ะฒ URL
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has('DOMAIN')) {
    return true;
  }
  
  return false;
}
```

### ะะฒะฐ ััะตะฝะฐัะธั ะพัะบัััะธั

#### ะกัะตะฝะฐัะธะน 1: ะัะบัััะธะต ะฒ iframe Bitrix24 โ

**ะฅะฐัะฐะบัะตัะธััะธะบะธ:**
- ะัะธะปะพะถะตะฝะธะต ะพัะบััะฒะฐะตััั ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24 (placement, ะฒะธะดะถะตั, ะฒะบะปะฐะดะบะฐ)
- ะะฐะณััะถะฐะตััั ะฒ iframe ะฒะฝัััะธ Bitrix24
- ะกะบัะธะฟั `//api.bitrix24.com/api/v1/` ะทะฐะณััะถะฐะตััั ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะพะฑัะตะบั `BX24`
- `window.self !== window.top` (ะฟัะธะปะพะถะตะฝะธะต ะฒ iframe)

**ะะตะทัะปััะฐั:**
- `isInsideBitrix24()` ะฒะพะทะฒัะฐัะฐะตั `true`
- ะะพัััะฟะตะฝ ะพะฑัะตะบั `BX24` ะดะปั ัะฐะฑะพัั ั API
- ะะพะถะฝะพ ะพะฟัะตะดะตะปะธัั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ (ัะพะณะพ, ะบัะพ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต)

#### ะกัะตะฝะฐัะธะน 2: ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต โ๏ธ

**ะฅะฐัะฐะบัะตัะธััะธะบะธ:**
- ะัะธะปะพะถะตะฝะธะต ะพัะบััะฒะฐะตััั ะฝะฐะฟััะผัั ะฟะพ URL: `https://back.kompo.by/rest_api_aps/sd_it_gen_plan/index.php`
- ะะฐะณััะถะฐะตััั ะฒ ะพัะฝะพะฒะฝะพะผ ะพะบะฝะต ะฑัะฐัะทะตัะฐ (ะฝะต ะฒ iframe)
- ะกะบัะธะฟั `//api.bitrix24.com/api/v1/` ะผะพะถะตั ะฝะต ะทะฐะณััะทะธัััั ะธะปะธ CORS ะฑะปะพะบะธััะตั
- `window.self === window.top` (ะฟัะธะปะพะถะตะฝะธะต ะฝะต ะฒ iframe)

**ะะตะทัะปััะฐั:**
- `isInsideBitrix24()` ะฒะพะทะฒัะฐัะฐะตั `false`
- ะะฑัะตะบั `BX24` ะฝะตะดะพัััะฟะตะฝ
- ะัะฟะพะปัะทัะตััั ะฟัะพะบัะธ API, ะบะพัะพััะน ะฒะพะทะฒัะฐัะฐะตั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ (ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ)

---

## ๐ค ะะตัะฐะฝะธะทะผ ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั

### ะะฒััััะพะฒะฝะตะฒะฐั ัะธััะตะผะฐ ะพะฟัะตะดะตะปะตะฝะธั

ะัะธะปะพะถะตะฝะธะต ะธัะฟะพะปัะทัะตั **ะดะฒะฐ ะผะตัะพะดะฐ** ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั, ั ะฟัะธะพัะธัะตัะพะผ ะธ fallback:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะซะขะะ 1: BX24 API (ะฟัะธะพัะธัะตั)                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โข BX24.callMethod('user.current')                         โ
โ  โข ะะฐะฑะพัะฐะตั ัะพะปัะบะพ ะฒ iframe Bitrix24                        โ
โ  โข ะะพะทะฒัะฐัะฐะตั: ะะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ (ัะพั, ะบัะพ ะพัะบััะป)   โ
โ  โข ะขะฐะนะผะฐัั: 5 ัะตะบัะฝะด                                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โโ ะฃัะฟะตั โ ะะพะทะฒัะฐัะฐะตะผ ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ โ
                    โ
                    โโ ะัะธะฑะบะฐ (CORS, ัะฐะนะผะฐัั) โ ะะตัะตัะพะด ะบ ะฟะพะฟััะบะต 2
                    
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะซะขะะ 2: ะัะพะบัะธ API (fallback)                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โข api/bitrix24.php โ CRest::call('user.current')          โ
โ  โข ะะฐะฑะพัะฐะตั ะฒัะตะณะดะฐ (ัะตัะตะท ัะตัะฒะตั)                           โ
โ  โข ะะพะทะฒัะฐัะฐะตั: ะะปะฐะดะตะปะตั ัะพะบะตะฝะฐ (ัะพั, ะบัะพ ัััะฐะฝะพะฒะธะป)         โ
โ  โข ะขะฐะนะผะฐัั: 5 ัะตะบัะฝะด                                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โโ ะฃัะฟะตั โ ะะพะทะฒัะฐัะฐะตะผ ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ โ๏ธ
                    โ
                    โโ ะัะธะฑะบะฐ โ ะะพะบะฐะทัะฒะฐะตะผ ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต
```

### ะะตัะพะด 1: BX24 API (ะฟัะธะพัะธัะตั)

**ะคะฐะนะป:** `vue-app/src/services/bitrix24-bx-api.js`

**ะะฐะบ ัะฐะฑะพัะฐะตั:**

```javascript
// 1. ะะฝะธัะธะฐะปะธะทะฐัะธั Bitrix24 API
await BX24.init();

// 2. ะัะทะพะฒ ะผะตัะพะดะฐ user.current
const user = await BX24.callMethod('user.current', {});
```

**ะงัะพ ะฒะพะทะฒัะฐัะฐะตั:**
- ะะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต, ะบะพัะพััะน **ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต ะฒ ะธะฝัะตััะตะนัะต Bitrix24**
- ะญัะพ ะผะพะถะตั ะฑััั ะปัะฑะพะน ะฟะพะปัะทะพะฒะฐัะตะปั Bitrix24, ะบะพัะพััะน ะฐะฒัะพัะธะทะพะฒะฐะฝ ะฒ ะฑัะฐัะทะตัะต
- **ะะฐะฑะพัะฐะตั ัะพะปัะบะพ ะฟัะธ ะพัะบัััะธะธ ะฒ iframe ะฒะฝัััะธ Bitrix24**

**ะะตัะพะด Bitrix24 REST API:**
- `user.current` โ ะฟะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ัะตะบััะตะผ ะฟะพะปัะทะพะฒะฐัะตะปะต
- ะะพะบัะผะตะฝัะฐัะธั: https://context7.com/bitrix24/rest/user.current

**ะัะธะผะตั ะพัะฒะตัะฐ:**
```json
{
  "ID": "123",
  "NAME": "ะะฒะฐะฝ",
  "LAST_NAME": "ะะฒะฐะฝะพะฒ",
  "FIRST_NAME": "ะะฒะฐะฝ",
  "EMAIL": "ivan@example.com",
  "UF_DEPARTMENT": [369, 366],
  "ACTIVE": true
}
```

**ะะณัะฐะฝะธัะตะฝะธั:**
- ะะฐะฑะพัะฐะตั ัะพะปัะบะพ ะฒ iframe Bitrix24
- ะะพะถะตั ะฑััั ะทะฐะฑะปะพะบะธัะพะฒะฐะฝ CORS ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ
- ะขะฐะนะผะฐัั: 5 ัะตะบัะฝะด ะดะปั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ, 10 ัะตะบัะฝะด ะดะปั ะฟะพะปััะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั

### ะะตัะพะด 2: ะัะพะบัะธ API (fallback)

**ะคะฐะนะป:** `api/bitrix24.php`

**ะะฐะบ ัะฐะฑะพัะฐะตั:**

```javascript
// 1. Vue.js ะพัะฟัะฐะฒะปัะตั ะทะฐะฟัะพั ะบ ะฟัะพะบัะธ
fetch('/api/bitrix24.php', {
  method: 'POST',
  body: JSON.stringify({
    method: 'user.current',
    params: {}
  })
});

// 2. api/bitrix24.php ะฒัะทัะฒะฐะตั CRest::call()
$result = CRest::call('user.current', []);

// 3. CRest ะธัะฟะพะปัะทัะตั ัะพะบะตะฝ ะธะท settings.json
// 4. ะะพะทะฒัะฐัะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ะฒะปะฐะดะตะปััะต ัะพะบะตะฝะฐ ัััะฐะฝะพะฒะบะธ ะฟัะธะปะพะถะตะฝะธั
```

**ะงัะพ ะฒะพะทะฒัะฐัะฐะตั:**
- ะะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต, ะบะพัะพััะน **ัััะฐะฝะพะฒะธะป ะฟัะธะปะพะถะตะฝะธะต** (ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ OAuth)
- ะญัะพ ะฒัะตะณะดะฐ ะพะดะธะฝ ะธ ัะพั ะถะต ะฟะพะปัะทะพะฒะฐัะตะปั, ะฝะตะทะฐะฒะธัะธะผะพ ะพั ัะพะณะพ, ะบัะพ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต

**โ๏ธ ะัะธัะธัะฝะพ:** ะัะพะบัะธ API ะฒะพะทะฒัะฐัะฐะตั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ.

**ะะพัะปะตะดััะฒะธั:**
- ะัะธ ะพัะบัััะธะธ ะฒ iframe Bitrix24: โ ะะพััะตะบัะฝะพ ะพะฟัะตะดะตะปัะตััั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ (ัะตัะตะท BX24 API)
- ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต: โ ะะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ะฐ ะฝะต ัะพั, ะบัะพ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต

**ะัะธะผะตั ะฟัะพะฑะปะตะผั:**
```
1. ะัะธะปะพะถะตะฝะธะต ัััะฐะฝะพะฒะธะป "ะะฒะฐะฝ ะะฒะฐะฝะพะฒ" (ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ID: 123, ะพัะดะตะปั: [369])
2. "ะะตัั ะะตััะพะฒ" (ID: 456, ะพัะดะตะปั: [366]) ะพัะบััะฒะฐะตั ะฟัะธะปะพะถะตะฝะธะต ะฝะฐะฟััะผัั ะฒ ะฑัะฐัะทะตัะต
3. ะัะพะบัะธ API ะฒะพะทะฒัะฐัะฐะตั: ะะฒะฐะฝ ะะฒะฐะฝะพะฒ (ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ)
4. ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะฒัะฟะพะปะฝัะตััั ะดะปั ะะฒะฐะฝะฐ ะะฒะฐะฝะพะฒะฐ, ะฐ ะฝะต ะดะปั ะะตััะฐ ะะตััะพะฒะฐ
5. ะัะปะธ ั ะะตััะฐ ะะตััะพะฒะฐ ะฝะตั ะดะพัััะฟะฐ, ะฝะพ ะพะฝ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต ะฝะฐะฟััะผัั - ะพะฝ ัะฒะธะดะธั ะดะฐะฝะฝัะต ะะฒะฐะฝะฐ ะะฒะฐะฝะพะฒะฐ
```

---

## ๐ ะัะพะฒะตัะบะฐ ะฟัะฐะฒ ะดะพัััะฟะฐ

### ะัะพัะตัั ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ

ะะพัะปะต ะฟะพะปััะตะฝะธั ะธะฝัะพัะผะฐัะธะธ ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต, ะฟัะธะปะพะถะตะฝะธะต ะฟัะพะฒะตััะตั ะตะณะพ ะฟัะฐะฒะฐ ะดะพัััะฟะฐ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะจะะ 1: ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ะฟะพะปัะทะพะฒะฐัะตะปั                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  if (!user || !user.ID) {                                    โ
โ    return USER_NOT_DETERMINED;                               โ
โ  }                                                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะจะะ 2: ะัะพะฒะตัะบะฐ ะฟัะธะฒัะทะบะธ ะบ ะพัะดะตะปั                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  const departmentIds = user.UF_DEPARTMENT || [];            โ
โ  if (departmentIds.length === 0) {                          โ
โ    return ACCESS_DENIED;                                    โ
โ  }                                                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะจะะ 3: ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะฟะพ ID ะพัะดะตะปะพะฒ                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  const hasAccess = departmentIds.some(deptId =>              โ
โ    isDepartmentAllowed(deptId)                              โ
โ  );                                                          โ
โ  if (!hasAccess) {                                          โ
โ    return ACCESS_DENIED;                                    โ
โ  }                                                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะจะะ 4: ะะพัััะฟ ัะฐะทัะตััะฝ                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  return AccessCheckResult(true, null, null, user);           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะคัะฝะบัะธั ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ

**ะคะฐะนะป:** `vue-app/src/config/access-config.js`

```javascript
export function isDepartmentAllowed(departmentId) {
  if (!departmentId || typeof departmentId !== 'number') {
    return false;
  }
  
  return accessConfig.allowedDepartmentIds.includes(departmentId);
}
```

### ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ

**ะคะฐะนะป:** `vue-app/src/config/access-config.js`

```javascript
export const accessConfig = {
  /**
   * ะะฐััะธะฒ ID ะพัะดะตะปะพะฒ, ะบะพัะพััะผ ัะฐะทัะตััะฝ ะดะพัััะฟ ะบ ะฟัะธะปะพะถะตะฝะธั
   */
  allowedDepartmentIds: [
    369,    // ะะธััะธะบั24 ะพัะดะตะป
    366,    // ะกะตะบัะพั 1ะก
    7,      // ะะพะปะพะฒะฐ ะะข ะพัะดะตะปะฐ
  ],
  
  /**
   * ะะฐััะธะฒ ID ะพัะดะตะปะพะฒ, ะบะพัะพััะผ ัะฐะทัะตััะฝ ะฐะดะผะธะฝะธัััะฐัะพััะบะธะน ะดะพัััะฟ
   */
  adminDepartmentIds: [
    369     // ะะดะผะธะฝะธัััะฐัะพัั ะะข ะพัะดะตะปะฐ
  ]
};
```

### ะัะพะฒะตัะบะฐ ะฟัะฐะฒ ะฐะดะผะธะฝะธัััะฐัะพัะฐ

**ะคัะฝะบัะธั:** `isAdmin(user)`

```javascript
export function isAdmin(user) {
  if (!user || !user.UF_DEPARTMENT) {
    return false;
  }
  
  const departmentIds = Array.isArray(user.UF_DEPARTMENT) 
    ? user.UF_DEPARTMENT 
    : [];
  
  if (departmentIds.length === 0) {
    return false;
  }
  
  // ะัะพะฒะตััะตะผ, ะตััั ะปะธ ัะพัั ะฑั ะพะดะธะฝ ะพัะดะตะป ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ัะฟะธัะบะต ะฐะดะผะธะฝัะบะธั ะพัะดะตะปะพะฒ
  return departmentIds.some(deptId => 
    accessConfig.adminDepartmentIds.includes(deptId)
  );
}
```

**ะะฐะทะฝะธัะฐ ะผะตะถะดั ะพัะฝะพะฒะฝัะผ ะดะพัััะฟะพะผ ะธ ะฐะดะผะธะฝัะบะธะผ:**
- **ะัะฝะพะฒะฝะพะน ะดะพัััะฟ:** ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะฒะธะดะตัั ะดะฐัะฑะพัะดั ะธ ะพััััั
- **ะะดะผะธะฝัะบะธะน ะดะพัััะฟ:** ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะบะฝะพะฟะบั "โ๏ธ ะะดะผะธะฝะธัััะธัะพะฒะฐะฝะธะต" ะธ ะผะพะถะตั ะพัะบััะฒะฐัั ะฐะดะผะธะฝะธัััะฐัะพััะบะธะต ะธะฝัะตััะตะนัั (ะฝะฐะฟัะธะผะตั, ะปะพะณะธ ะฒะตะฑััะบะพะฒ)

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ

### ะะพะฝัะธะณััะฐัะธั ะฟััะผะพะณะพ ะดะพัััะฟะฐ

**ะคะฐะนะป:** `direct-access-config.php` (ะฒ ะบะพัะฝะต ะฟัะธะปะพะถะตะฝะธั)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะฝััะพะปะธััะตั, ัะฐะทัะตััะฝ ะปะธ ะฟััะผะพะน ะดะพัััะฟ ะบ ะฟัะธะปะพะถะตะฝะธั ัะตัะตะท ะฑัะฐัะทะตั (ะฝะต ะฒ iframe Bitrix24)

**ะกัััะบัััะฐ:**
```php
<?php
return [
    'allow_direct_access' => false,  // ะะพ ัะผะพะปัะฐะฝะธั ะทะฐะฟัะตัะตะฝะพ
    'message_on_deny' => 'ะััะผะพะน ะดะพัััะฟ ะบ ะฟัะธะปะพะถะตะฝะธั ะทะฐะฟัะตััะฝ. ะัะบัะพะนัะต ะฟัะธะปะพะถะตะฝะธะต ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24.'
];
```

**API endpoint:** `api/direct-access-config.php`

**ะะพะณะธะบะฐ ะฟัะพะฒะตัะบะธ:**
1. ะัะปะธ ะฟัะธะปะพะถะตะฝะธะต ะพัะบัััะพ **ะฝะต ะฒ iframe Bitrix24** (`!isInsideBitrix24()`)
2. ะะฐะณััะถะฐะตััั ะบะพะฝัะธะณััะฐัะธั ะธะท `api/direct-access-config.php`
3. ะัะปะธ `allow_direct_access === false` โ ะดะพัััะฟ ะทะฐะฟัะตััะฝ, ะฟะพะบะฐะทัะฒะฐะตััั ัะพะพะฑัะตะฝะธะต
4. ะัะปะธ `allow_direct_access === true` โ ะดะพัััะฟ ัะฐะทัะตััะฝ, ะธัะฟะพะปัะทัะตััั ะฟัะพะบัะธ API (ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ)

**โ๏ธ ะะฐะถะฝะพ:** ะะปั ะฑะตะทะพะฟะฐัะฝะพััะธ ัะตะบะพะผะตะฝะดัะตััั ัััะฐะฝะพะฒะธัั `allow_direct_access = false` ะฒ production.

### ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ ะฟะพ ะพัะดะตะปะฐะผ

**ะคะฐะนะป:** `vue-app/src/config/access-config.js`

**ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะน ะพัะดะตะป:**
1. ะัะบัะพะนัะต ัะฐะนะป `vue-app/src/config/access-config.js`
2. ะะพะฑะฐะฒััะต ID ะพัะดะตะปะฐ ะฒ ะผะฐััะธะฒ `allowedDepartmentIds`
3. ะกะพััะฐะฝะธัะต ัะฐะนะป
4. ะะตัะตัะพะฑะตัะธัะต Vue.js ะฟัะธะปะพะถะตะฝะธะต:
   ```bash
   cd vue-app
   npm run build
   ```

**ะะฐะบ ะพะฟัะตะดะตะปะธัั ID ะพัะดะตะปะฐ ะฟะพะปัะทะพะฒะฐัะตะปั:**
- ะ ัะตะถะธะผะต ะพัะปะฐะดะบะธ ะพัะพะฑัะฐะถะฐะตััั ะธะฝัะพัะผะฐัะธั:
  ```
  ะัะปะฐะดะพัะฝะฐั ะธะฝัะพัะผะฐัะธั:
  ID ะฟะพะปัะทะพะฒะฐัะตะปั: 123
  ID ะพัะดะตะปะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปั: [366, 370]
  ะะฐะทัะตััะฝะฝัะต ID ะพัะดะตะปะพะฒ: [369, 366, 7]
  ```
- ะะพะฑะฐะฒััะต ID ะพัะดะตะปะฐ ะฒ `access-config.js` ะฝะฐ ะพัะฝะพะฒะต ะธะฝัะพัะผะฐัะธะธ ะธะท ะพัะปะฐะดะบะธ

---

## ๐ ะะตะทะพะฟะฐัะฝะพััั ะธ ะพะณัะฐะฝะธัะตะฝะธั

### ะัะพะฑะปะตะผั ะฑะตะทะพะฟะฐัะฝะพััะธ

#### ะัะพะฑะปะตะผะฐ 1: ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต

**ะะฟะธัะฐะฝะธะต:**
ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฟัะธะปะพะถะตะฝะธั ะฒ ะฑัะฐัะทะตัะต (ะฝะต ะฒ iframe Bitrix24) ะพะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ.

**ะะพัะปะตะดััะฒะธั:**
- ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ัะฒะธะดะตัั ะดะฐะฝะฝัะต ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ, ะดะฐะถะต ะตัะปะธ ั ะฝะตะณะพ ะฝะตั ะดะพัััะฟะฐ
- ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะฒัะฟะพะปะฝัะตััั ะดะปั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ, ะฐ ะฝะต ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ

**ะะตัะตะฝะธะต:**
- ะัะฟะพะปัะทะพะฒะฐัั ะบะพะฝัะธะณััะฐัะธั ะฟััะผะพะณะพ ะดะพัััะฟะฐ (`direct-access-config.php`)
- ะฃััะฐะฝะพะฒะธัั `allow_direct_access = false` ะฒ production
- ะขัะตะฑะพะฒะฐัั ะพัะบัััะธะต ะฟัะธะปะพะถะตะฝะธั ัะพะปัะบะพ ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24

#### ะัะพะฑะปะตะผะฐ 2: CORS ะพัะธะฑะบะธ

**ะะฟะธัะฐะฝะธะต:**
ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต CORS ะผะพะถะตั ะฑะปะพะบะธัะพะฒะฐัั ะดะพัััะฟ ะบ BX24 API.

**ะะพัะปะตะดััะฒะธั:**
- ะะต ัะดะฐัััั ะพะฟัะตะดะตะปะธัั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
- Fallback ะฝะฐ ะฟัะพะบัะธ API ะฒะพะทะฒัะฐัะฐะตั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ

**ะะตัะตะฝะธะต:**
- ะัะธะปะพะถะตะฝะธะต ะฝะต ะธัะฟะพะปัะทัะตั ะฟัะพะบัะธ ะบะฐะบ fallback ะฟัะธ CORS ะพัะธะฑะบะฐั ะฒะฝัััะธ Bitrix24
- ะะพะบะฐะทัะฒะฐะตััั ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต ะฟะพะปัะทะพะฒะฐัะตะปั
- ะะตะบะพะผะตะฝะดัะตััั ะพัะบััะฒะฐัั ะฟัะธะปะพะถะตะฝะธะต ัะพะปัะบะพ ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24

### ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะฑะตะทะพะฟะฐัะฝะพััะธ

1. **ะัะฝะพะฒะฝะพะน ัะฟะพัะพะฑ ะดะพัััะฟะฐ:** ะัะบัััะธะต ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24 (placement, ะฒะธะดะถะตั, ะฒะบะปะฐะดะบะฐ)
   - โ ะะพััะตะบัะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
   - โ ะัะฐะฒะธะปัะฝะฐั ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฐ
   - โ ะััะพะบะฐั ะฑะตะทะพะฟะฐัะฝะพััั

2. **ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต (ะฝะต ัะตะบะพะผะตะฝะดัะตััั):**
   - โ๏ธ ะะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
   - โ๏ธ ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะผะพะถะตั ัะฐะฑะพัะฐัั ะฝะตะบะพััะตะบัะฝะพ
   - โ๏ธ ะะพัะตะฝัะธะฐะปัะฝะฐั ะฟัะพะฑะปะตะผะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ

3. **ะัะปะธ ะฝัะถะฝะพ ะพะณัะฐะฝะธัะธัั ะฟััะผะพะต ะพัะบัััะธะต:**
   - ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะฟัะพะฒะตัะบั ะฒ `index.php` ะฝะฐ ะฝะฐะปะธัะธะต iframe
   - ะะพะถะฝะพ ะฟะพะบะฐะทัะฒะฐัั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ
   - ะะพะถะฝะพ ััะตะฑะพะฒะฐัั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะฐะฒัะพัะธะทะฐัะธั

---

## ๐ ะะธะฐะณัะฐะผะผั ะฟะพัะพะบะพะฒ ะดะฐะฝะฝัั

### ะะพะปะฝัะน ะฟะพัะพะบ ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะฌะะะะะขะะะฌ ะะขะะะซะะะะข ะะะะะะะะะะ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  index.php ะทะฐะณััะถะฐะตััั                                       โ
โ  โข ะะฟัะตะดะตะปัะตั ะบะพะฝัะตะบัั (iframe / standalone)                 โ
โ  โข ะะฐะณััะถะฐะตั Bitrix24 API (ะตัะปะธ ะฒ iframe)                   โ
โ  โข ะะฐะณััะถะฐะตั Vue.js ะฟัะธะปะพะถะตะฝะธะต                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Vue.js ะฟัะธะปะพะถะตะฝะธะต ะธะฝะธัะธะฐะปะธะทะธััะตััั                          โ
โ  โข main.js โ ัะพััะตั โ IndexPage.vue                          โ
โ  โข onMounted() โ AccessControlService.checkAccess()          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  AccessControlService.checkAccess()                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  1. isInsideBitrix24()?                                     โ
โ     โโ ะะฐ โ ะะตัะตัะพะด ะบ ัะฐะณั 3                                โ
โ     โโ ะะตั โ ะจะฐะณ 2: ะัะพะฒะตัะบะฐ ะฟััะผะพะณะพ ะดะพัััะฟะฐ                โ
โ                                                              โ
โ  2. ะัะพะฒะตัะบะฐ ะฟััะผะพะณะพ ะดะพัััะฟะฐ                                 โ
โ     โโ direct-access-config.php โ allow_direct_access?     โ
โ     โโ false โ ะะพัััะฟ ะทะฐะฟัะตััะฝ โ                           โ
โ     โโ true โ ะัะพะดะพะปะถะฐะตะผ (ะธัะฟะพะปัะทัะตะผ ะฟัะพะบัะธ API)            โ
โ                                                              โ
โ  3. ะะฝะธัะธะฐะปะธะทะฐัะธั Bitrix24 API                              โ
โ     โโ isInsideBitrix24()?                                  โ
โ     โโ ะะฐ โ BX24.init() (5 ัะตะบ ัะฐะนะผะฐัั)                     โ
โ     โโ ะะตั โ ะัะพะฟััะบ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ                          โ
โ                                                              โ
โ  4. ะะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต                     โ
โ     โโ ะะพะฟััะบะฐ 1: BX24.callMethod('user.current')          โ
โ     โ   โโ ะฃัะฟะตั โ user = ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ โ        โ
โ     โ   โโ ะัะธะฑะบะฐ โ ะะพะฟััะบะฐ 2                               โ
โ     โ                                                       โ
โ     โโ ะะพะฟััะบะฐ 2: ะัะพะบัะธ API (api/bitrix24.php)             โ
โ         โโ ะฃัะฟะตั โ user = ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ โ๏ธ                โ
โ         โโ ะัะธะฑะบะฐ โ ะัะฑัะพั ะพัะธะฑะบะธ                           โ
โ                                                              โ
โ  5. ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ะฟะพะปัะทะพะฒะฐัะตะปั                           โ
โ     โโ user.ID ัััะตััะฒัะตั? โ ะัะพะดะพะปะถะฐะตะผ                    โ
โ     โโ ะะตั โ USER_NOT_DETERMINED                            โ
โ                                                              โ
โ  6. ะัะพะฒะตัะบะฐ ะฟัะธะฒัะทะบะธ ะบ ะพัะดะตะปั                              โ
โ     โโ user.UF_DEPARTMENT ัััะตััะฒัะตั ะธ ะฝะต ะฟัััะพะน?           โ
โ     โโ ะะตั โ ACCESS_DENIED                                  โ
โ                                                              โ
โ  7. ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะฟะพ ID ะพัะดะตะปะพะฒ                          โ
โ     โโ ะััั ัะพัั ะฑั ะพะดะธะฝ ะพัะดะตะป ะฒ allowedDepartmentIds?      โ
โ     โโ ะะฐ โ ะะพัััะฟ ัะฐะทัะตััะฝ โ                              โ
โ     โโ ะะตั โ ACCESS_DENIED                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
        โโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโ
        โผ                                       โผ
โโโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
โ ะะพัััะฟ ัะฐะทัะตััะฝ  โ                  โ ะะพัััะฟ ะทะฐะฟัะตััะฝ  โ
โ โข ะะพะบะฐะทัะฒะฐะตะผ UI  โ                  โ โข ะะพะบะฐะทัะฒะฐะตะผ     โ
โ โข ะะฐะณััะถะฐะตะผ      โ                  โ   ัะพะพะฑัะตะฝะธะต ะพะฑ   โ
โ   ะดะฐะฝะฝัะต        โ                  โ   ะพัะธะฑะบะต         โ
โโโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
```

### ะกัะฐะฒะฝะตะฝะธะต ะดะฒัั ััะตะฝะฐัะธะตะฒ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะกะฆะะะะะะ 1: Iframe ะฒ Bitrix24                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  Bitrix24 โ iframe โ index.php โ BX24 API โ ะะพะปัะทะพะฒะฐัะตะปั  โ
โ              โ                    โ          ะธะฝัะตััะตะนัะฐ    โ
โ                                                              โ
โ  ะะตะทัะปััะฐั: ะะพััะตะบัะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั โ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะกะฆะะะะะะ 2: ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  ะัะฐัะทะตั โ index.php โ ะัะพะบัะธ API โ ะะปะฐะดะตะปะตั ัะพะบะตะฝะฐ        โ
โ              โ              โ๏ธ          (ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั)  โ
โ                                                              โ
โ  ะะตะทัะปััะฐั: ะะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั โ๏ธโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ ัะตะฐะปะธะทะฐัะธะธ

### ะะปะฐัั AccessCheckResult

**ะคะฐะนะป:** `vue-app/src/services/access-control-service.js`

```javascript
export class AccessCheckResult {
  constructor(allowed, errorCode = null, errorMessage = null, user = null) {
    this.allowed = allowed;           // boolean
    this.errorCode = errorCode;       // string | null
    this.errorMessage = errorMessage; // string | null
    this.user = user;                 // object | null
  }
}
```

### ะะพะดั ะพัะธะฑะพะบ ะดะพัััะฟะฐ

```javascript
export const AccessErrorCodes = {
  USER_NOT_DETERMINED: 'USER_NOT_DETERMINED',  // ะะต ัะดะฐะปะพัั ะพะฟัะตะดะตะปะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
  ACCESS_DENIED: 'ACCESS_DENIED',              // ะะพัััะฟ ะทะฐะฟัะตััะฝ
  API_ERROR: 'API_ERROR'                        // ะัะธะฑะบะฐ API
};
```

### ะัะพะฒะตัะบะฐ ะฒ ัะพััะตัะต

**ะคะฐะนะป:** `vue-app/src/router/index.js`

```javascript
router.beforeEach(async (to, from, next) => {
  // ะัะพะฒะตัะบะฐ ะฐะฒัะพัะธะทะฐัะธะธ (ะตัะปะธ ััะตะฑัะตััั)
  if (to.meta.requiresAuth) {
    const accessResult = await AccessControlService.checkAccess();
    
    if (!accessResult.allowed) {
      next({ name: 'index' }); // ะะตะดะธัะตะบั ะฝะฐ ะณะปะฐะฒะฝัั
      return;
    }
  }
  
  // ะัะพะฒะตัะบะฐ ะฟัะฐะฒ ะฐะดะผะธะฝะธัััะฐัะพัะฐ (ะตัะปะธ ััะตะฑัะตััั)
  if (to.meta.adminOnly) {
    const currentUser = await AccessControlService.getCurrentUser();
    
    if (!currentUser || !isAdmin(currentUser)) {
      next({ name: 'index' }); // ะะตะดะธัะตะบั ะฝะฐ ะณะปะฐะฒะฝัั
      return;
    }
  }
  
  next(); // ะะฐะทัะตัะฐะตะผ ะฟะตัะตัะพะด
});
```

### ะขะฐะนะผะฐััั

- **ะะฝะธัะธะฐะปะธะทะฐัะธั BX24 API:** 5 ัะตะบัะฝะด
- **ะะพะปััะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ัะตัะตะท BX24 API:** 10 ัะตะบัะฝะด
- **ะะพะปััะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ัะตัะตะท ะฟัะพะบัะธ API:** 5 ัะตะบัะฝะด
- **ะะฐะณััะทะบะฐ ะบะพะฝัะธะณััะฐัะธะธ ะฟััะผะพะณะพ ะดะพัััะฟะฐ:** 5 ัะตะบัะฝะด

### Fallback ะผะตัะฐะฝะธะทะผั

1. **ะะฝะพะณะพััะพะฒะฝะตะฒะฐั ัะธััะตะผะฐ:**
   - ะะพะฟััะบะฐ 1: BX24 API (ะฟัะธะพัะธัะตั)
   - ะะพะฟััะบะฐ 2: ะัะพะบัะธ API (fallback)

2. **ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ:**
   - CORS ะพัะธะฑะบะธ: ะฟะพะบะฐะทัะฒะฐะตััั ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต (ะฝะต ะธัะฟะพะปัะทัะตััั ะฟัะพะบัะธ ะฒะฝัััะธ Bitrix24)
   - ะขะฐะนะผะฐััั: ะฟะตัะตัะพะด ะบ ัะปะตะดัััะตะผั ะผะตัะพะดั
   - Graceful degradation: ะฟัะธะปะพะถะตะฝะธะต ะฟัะพะดะพะปะถะฐะตั ัะฐะฑะพัะฐัั ะดะฐะถะต ะฟัะธ ะพัะธะฑะบะฐั

---

## ๐ ะะตะทัะผะต

### ะะปััะตะฒัะต ะผะพะผะตะฝัั

1. **ะะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั:**
   - ะัะธะพัะธัะตั: BX24 API (ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ) โ ัะฐะฑะพัะฐะตั ัะพะปัะบะพ ะฒ iframe
   - Fallback: ะัะพะบัะธ API (ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ) โ ะธัะฟะพะปัะทัะตััั ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ

2. **ะะฒะฐ ััะตะฝะฐัะธั ะพัะบัััะธั:**
   - โ **Iframe ะฒ Bitrix24:** ะะพััะตะบัะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
   - โ๏ธ **ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต:** ะะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ (ะฟัะพะฑะปะตะผะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ)

3. **ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ:**
   - ะะพ ID ะพัะดะตะปะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปั (`UF_DEPARTMENT`)
   - ะกัะฐะฒะฝะตะฝะธะต ั `allowedDepartmentIds` ะฒ `access-config.js`
   - โ๏ธ ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฟัะพะฒะตัะบะฐ ะฒัะฟะพะปะฝัะตััั ะดะปั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ, ะฐ ะฝะต ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ

4. **ะัะพะฒะตัะบะฐ ะฐะดะผะธะฝะธัััะฐัะพัะฐ:**
   - ะะพ ID ะพัะดะตะปะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปั
   - ะกัะฐะฒะฝะตะฝะธะต ั `adminDepartmentIds` ะฒ `access-config.js`

5. **Fallback ะผะตัะฐะฝะธะทะผั:**
   - ะะฝะพะณะพััะพะฒะฝะตะฒะฐั ัะธััะตะผะฐ ั ัะฐะนะผะฐััะฐะผะธ
   - ะะฑัะฐะฑะพัะบะฐ CORS ะพัะธะฑะพะบ
   - Graceful degradation

6. **ะะตะทะพะฟะฐัะฝะพััั:**
   - โ ะัะธ ะพัะบัััะธะธ ะฒ iframe: ะััะพะบะฐั (ะบะพััะตะบัะฝะฐั ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฐ)
   - โ๏ธ ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ: ะกัะตะดะฝัั (ะฟะพัะตะฝัะธะฐะปัะฝะฐั ะฟัะพะฑะปะตะผะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ)

### ะะฐะถะฝัะต ะทะฐะผะตัะฐะฝะธั

- **BX24 API** ะพะฟัะตะดะตะปัะตั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ (ัะพะณะพ, ะบัะพ ะพัะบััะป ะฟัะธะปะพะถะตะฝะธะต)
  - โ ะะฐะฑะพัะฐะตั ะฟัะธ ะพัะบัััะธะธ ะฒ iframe Bitrix24
  - โ ะะต ัะฐะฑะพัะฐะตั ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต

- **ะัะพะบัะธ API** ะพะฟัะตะดะตะปัะตั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ (ัะพะณะพ, ะบัะพ ัััะฐะฝะพะฒะธะป ะฟัะธะปะพะถะตะฝะธะต)
  - โ๏ธ ะัะฟะพะปัะทัะตััั ะบะฐะบ fallback ะฟัะธ ะฝะตะดะพัััะฟะฝะพััะธ BX24 API
  - โ๏ธ ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต ะฒัะตะณะดะฐ ะฒะพะทะฒัะฐัะฐะตั ะฒะปะฐะดะตะปััะฐ ัะพะบะตะฝะฐ

- **ะะปั ะบะพััะตะบัะฝะพะน ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ:**
  - โ ะัะธะปะพะถะตะฝะธะต ะดะพะปะถะฝะพ ะพัะบััะฒะฐัััั ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24 (iframe)
  - โ ะัะธ ะฟััะผะพะผ ะพัะบัััะธะธ ะฒ ะฑัะฐัะทะตัะต ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ัะฐะฑะพัะฐะตั ะฝะตะบะพััะตะบัะฝะพ

- **ะัะธ CORS ะพัะธะฑะบะฐั:**
  - ะัะธะปะพะถะตะฝะธะต ะฝะต ะธัะฟะพะปัะทัะตั ะฟัะพะบัะธ ะบะฐะบ fallback ะฒะฝัััะธ Bitrix24, ััะพะฑั ะฝะต ะฝะฐัััะธัั ะปะพะณะธะบั ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ
  - ะะพะบะฐะทัะฒะฐะตััั ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต ะฟะพะปัะทะพะฒะฐัะตะปั

### ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

1. **ะัะฝะพะฒะฝะพะน ัะฟะพัะพะฑ ะดะพัััะฟะฐ:** ะัะบัััะธะต ัะตัะตะท ะธะฝัะตััะตะนั Bitrix24 (placement, ะฒะธะดะถะตั, ะฒะบะปะฐะดะบะฐ)
   - โ ะะพััะตะบัะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
   - โ ะัะฐะฒะธะปัะฝะฐั ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฐ
   - โ ะะตะทะพะฟะฐัะฝะพััั

2. **ะััะผะพะต ะพัะบัััะธะต ะฒ ะฑัะฐัะทะตัะต (ะฝะต ัะตะบะพะผะตะฝะดัะตััั):**
   - โ๏ธ ะะฟัะตะดะตะปัะตััั ะฒะปะฐะดะตะปะตั ัะพะบะตะฝะฐ, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะฝัะตััะตะนัะฐ
   - โ๏ธ ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ ะผะพะถะตั ัะฐะฑะพัะฐัั ะฝะตะบะพััะตะบัะฝะพ
   - โ๏ธ ะะพัะตะฝัะธะฐะปัะฝะฐั ะฟัะพะฑะปะตะผะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ

3. **ะัะปะธ ะฝัะถะฝะพ ะพะณัะฐะฝะธัะธัั ะฟััะผะพะต ะพัะบัััะธะต:**
   - ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะฟัะพะฒะตัะบั ะฒ `index.php` ะฝะฐ ะฝะฐะปะธัะธะต iframe
   - ะะพะถะฝะพ ะฟะพะบะฐะทัะฒะฐัั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต ะฟัะธ ะฟััะผะพะผ ะพัะบัััะธะธ
   - ะะพะถะฝะพ ััะตะฑะพะฒะฐัั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะฐะฒัะพัะธะทะฐัะธั

---

## ๐ ะกะฒัะทะฐะฝะฝัะต ะดะพะบัะผะตะฝัั

- [ะะตัะฐะฝะธะทะผ ะฟัะพะฒะตัะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั](./user-authentication-authorization.md) โ ะดะตัะฐะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะผะตัะฐะฝะธะทะผะฐ ะฟัะพะฒะตัะบะธ
- [ะััะธัะตะบัััะฐ ัะพัะบะธ ะฒัะพะดะฐ](./application-entry-point.md) โ ะบะฐะบ ัะฐะฑะพัะฐะตั index.php
- [API Endpoints](../API-REFERENCES/README.md) โ ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ API endpoints
- [ะะพะฝัะธะณััะฐัะธั ะดะพัััะฟะฐ](../../vue-app/src/config/access-config.js) โ ัะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ
- [ะะพะฝัะธะณััะฐัะธั ะฟััะผะพะณะพ ะดะพัััะฟะฐ](../../direct-access-config.php) โ ัะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ ะฟััะผะพะณะพ ะดะพัััะฟะฐ

---

## ๐ ะกััะปะบะธ ะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั

- **Bitrix24 REST API:**
  - `user.current`: https://context7.com/bitrix24/rest/user.current
  - ะะฑัะฐั ะดะพะบัะผะตะฝัะฐัะธั: https://context7.com/bitrix24/rest/
  - ะัะธัะธะฐะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั: https://apidocs.bitrix24.ru/

- **Bitrix24 JavaScript API:**
  - BX24 API: https://dev.1c-bitrix.ru/rest_help/js_library/index.php
  - BX24.init: https://dev.1c-bitrix.ru/rest_help/js_library/bx24_init.php
  - BX24.callMethod: https://dev.1c-bitrix.ru/rest_help/js_library/bx24_callmethod.php

---

**ะััะพัะธั ะฟัะฐะฒะพะบ:**
- 2025-12-23 21:44 (UTC+3, ะัะตัั): ะกะพะทะดะฐะฝ ะณะปะพะฑะฐะปัะฝัะน ะดะพะบัะผะตะฝั ะฐะฝะฐะปะธะทะฐ ะผะตัะฐะฝะธะทะผะฐ ะฟัะพะฒะตัะบะธ ะดะพัััะฟะฐ


